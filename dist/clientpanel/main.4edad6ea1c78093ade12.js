(self.webpackChunkclientpanel=self.webpackChunkclientpanel||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},8583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{APP_BASE_HREF:()=>w,AsyncPipe:()=>st,CommonModule:()=>St,CurrencyPipe:()=>wt,DOCUMENT:()=>u,DatePipe:()=>ht,DecimalPipe:()=>vt,FormStyle:()=>x,FormatWidth:()=>N,HashLocationStrategy:()=>C,I18nPluralPipe:()=>ft,I18nSelectPipe:()=>pt,JsonPipe:()=>gt,KeyValuePipe:()=>mt,LOCATION_INITIALIZED:()=>h,Location:()=>E,LocationStrategy:()=>v,LowerCasePipe:()=>at,NgClass:()=>Ve,NgComponentOutlet:()=>je,NgForOf:()=>Be,NgForOfContext:()=>Ue,NgIf:()=>He,NgIfContext:()=>Ge,NgLocaleLocalization:()=>Pe,NgLocalization:()=>Re,NgPlural:()=>Ze,NgPluralCase:()=>Je,NgStyle:()=>Ye,NgSwitch:()=>Ke,NgSwitchCase:()=>Qe,NgSwitchDefault:()=>We,NgTemplateOutlet:()=>Xe,NumberFormatStyle:()=>T,NumberSymbol:()=>O,PathLocationStrategy:()=>_,PercentPipe:()=>bt,PlatformLocation:()=>c,Plural:()=>A,SlicePipe:()=>Et,TitleCasePipe:()=>ct,TranslationWidth:()=>k,UpperCasePipe:()=>lt,VERSION:()=>Ft,ViewportScroller:()=>Pt,WeekDay:()=>R,XhrFactory:()=>jt,formatCurrency:()=>Ae,formatDate:()=>le,formatNumber:()=>ke,formatPercent:()=>xe,getCurrencySymbol:()=>ne,getLocaleCurrencyCode:()=>Q,getLocaleCurrencyName:()=>K,getLocaleCurrencySymbol:()=>$,getLocaleDateFormat:()=>B,getLocaleDateTimeFormat:()=>H,getLocaleDayNames:()=>M,getLocaleDayPeriods:()=>P,getLocaleDirection:()=>X,getLocaleEraNames:()=>V,getLocaleExtraDayPeriodRules:()=>J,getLocaleExtraDayPeriods:()=>Y,getLocaleFirstDayOfWeek:()=>j,getLocaleId:()=>F,getLocaleMonthNames:()=>L,getLocaleNumberFormat:()=>z,getLocaleNumberSymbol:()=>G,getLocalePluralCase:()=>W,getLocaleTimeFormat:()=>q,getLocaleWeekEndRange:()=>U,getNumberOfCurrencyDigits:()=>re,isPlatformBrowser:()=>kt,isPlatformServer:()=>Nt,isPlatformWorkerApp:()=>Ot,isPlatformWorkerUi:()=>Rt,registerLocaleData:()=>Me,"\u0275BrowserPlatformLocation":()=>d,"\u0275DomAdapter":()=>a,"\u0275NullViewportScroller":()=>Vt,"\u0275PLATFORM_BROWSER_ID":()=>Dt,"\u0275PLATFORM_SERVER_ID":()=>Tt,"\u0275PLATFORM_WORKER_APP_ID":()=>At,"\u0275PLATFORM_WORKER_UI_ID":()=>xt,"\u0275angular_packages_common_common_a":()=>l,"\u0275angular_packages_common_common_b":()=>p,"\u0275angular_packages_common_common_c":()=>I,"\u0275angular_packages_common_common_d":()=>b,"\u0275angular_packages_common_common_e":()=>et,"\u0275angular_packages_common_common_f":()=>It,"\u0275getDOM":()=>o,"\u0275parseCookieValue":()=>Le,"\u0275setRootDomAdapter":()=>s});var r=n(3018);let i=null;function o(){return i}function s(e){i||(i=e)}class a{}const u=new r.InjectionToken("DocumentToken");let c=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r["\u0275\u0275inject"])(d)}const h=new r.InjectionToken("Location Initialized");let d=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(e){const t=o().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=o().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](u))},e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d((0,r["\u0275\u0275inject"])(u))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:b,token:e,providedIn:"root"}),e})();function b(e){const t=(0,r["\u0275\u0275inject"])(u).location;return new _((0,r["\u0275\u0275inject"])(c),t&&t.origin||"")}const w=new r.InjectionToken("appBaseHref");let _=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return g(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=g(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e{constructor(e,t){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](v),r["\u0275\u0275inject"](c))},e.normalizeQueryParams=y,e.joinWithSlash=g,e.stripTrailingSlash=m,e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:I,token:e,providedIn:"root"}),e})();function I(){return new E((0,r["\u0275\u0275inject"])(v),(0,r["\u0275\u0275inject"])(c))}function S(e){return e.replace(/\/index.html$/,"")}const D={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var T=(()=>((T=T||{})[T.Decimal=0]="Decimal",T[T.Percent=1]="Percent",T[T.Currency=2]="Currency",T[T.Scientific=3]="Scientific",T))(),A=(()=>((A=A||{})[A.Zero=0]="Zero",A[A.One=1]="One",A[A.Two=2]="Two",A[A.Few=3]="Few",A[A.Many=4]="Many",A[A.Other=5]="Other",A))(),x=(()=>((x=x||{})[x.Format=0]="Format",x[x.Standalone=1]="Standalone",x))(),k=(()=>((k=k||{})[k.Narrow=0]="Narrow",k[k.Abbreviated=1]="Abbreviated",k[k.Wide=2]="Wide",k[k.Short=3]="Short",k))(),N=(()=>((N=N||{})[N.Short=0]="Short",N[N.Medium=1]="Medium",N[N.Long=2]="Long",N[N.Full=3]="Full",N))(),O=(()=>((O=O||{})[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O[1/0]=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O))(),R=(()=>((R=R||{})[R.Sunday=0]="Sunday",R[R.Monday=1]="Monday",R[R.Tuesday=2]="Tuesday",R[R.Wednesday=3]="Wednesday",R[R.Thursday=4]="Thursday",R[R.Friday=5]="Friday",R[R.Saturday=6]="Saturday",R))();function F(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].LocaleId]}function P(e,t,n){const i=(0,r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DayPeriodsFormat],i[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],t);return ee(o,n)}function M(e,t,n){const i=(0,r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DaysFormat],i[r["\u0275LocaleDataIndex"].DaysStandalone]],t);return ee(o,n)}function L(e,t,n){const i=(0,r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].MonthsFormat],i[r["\u0275LocaleDataIndex"].MonthsStandalone]],t);return ee(o,n)}function V(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Eras],t)}function j(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].FirstDayOfWeek]}function U(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].WeekendRange]}function B(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateFormat],t)}function q(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].TimeFormat],t)}function H(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateTimeFormat],t)}function G(e,t){const n=(0,r["\u0275findLocaleData"])(e),i=n[r["\u0275LocaleDataIndex"].NumberSymbols][t];if(void 0===i){if(t===O.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][O.Decimal];if(t===O.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][O.Group]}return i}function z(e,t){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].NumberFormats][t]}function $(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencySymbol]||null}function K(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencyName]||null}function Q(e){return(0,r["\u0275getLocaleCurrencyCode"])(e)}const W=r["\u0275getLocalePluralCase"];function Z(e){if(!e[r["\u0275LocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r["\u0275LocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function J(e){const t=(0,r["\u0275findLocaleData"])(e);return Z(t),(t[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map(e=>"string"==typeof e?te(e):[te(e[0]),te(e[1])])}function Y(e,t,n){const i=(0,r["\u0275findLocaleData"])(e);Z(i);const o=ee([i[r["\u0275LocaleDataIndex"].ExtraData][0],i[r["\u0275LocaleDataIndex"].ExtraData][1]],t)||[];return ee(o,n)||[]}function X(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Directionality]}function ee(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function te(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function ne(e,t,n="en"){const i=function(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Currencies]}(n)[e]||D[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}function re(e){let t;const n=D[e];return n&&(t=n[2]),"number"==typeof t?t:2}const ie=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oe={},se=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ae=(()=>((ae=ae||{})[ae.Short=0]="Short",ae[ae.ShortGMT=1]="ShortGMT",ae[ae.Long=2]="Long",ae[ae.Extended=3]="Extended",ae))(),ue=(()=>((ue=ue||{})[ue.FullYear=0]="FullYear",ue[ue.Month=1]="Month",ue[ue.Date=2]="Date",ue[ue.Hours=3]="Hours",ue[ue.Minutes=4]="Minutes",ue[ue.Seconds=5]="Seconds",ue[ue.FractionalSeconds=6]="FractionalSeconds",ue[ue.Day=7]="Day",ue))(),ce=(()=>((ce=ce||{})[ce.DayPeriods=0]="DayPeriods",ce[ce.Days=1]="Days",ce[ce.Months=2]="Months",ce[ce.Eras=3]="Eras",ce))();function le(e,t,n,r){let i=function(e){if(Ee(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return he(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(ie))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}(n)}const t=new Date(e);if(!Ee(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=de(n,t)||t;let o,s=[];for(;t;){if(o=se.exec(t),!o){s.push(t);break}{s=s.concat(o.slice(1));const e=s.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=Ce(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Ce(t,r)-r))}(i,r));let u="";return s.forEach(e=>{const t=function(e){if(_e[e])return _e[e];let t;switch(e){case"G":case"GG":case"GGG":t=me(ce.Eras,k.Abbreviated);break;case"GGGG":t=me(ce.Eras,k.Wide);break;case"GGGGG":t=me(ce.Eras,k.Narrow);break;case"y":t=ge(ue.FullYear,1,0,!1,!0);break;case"yy":t=ge(ue.FullYear,2,0,!0,!0);break;case"yyy":t=ge(ue.FullYear,3,0,!1,!0);break;case"yyyy":t=ge(ue.FullYear,4,0,!1,!0);break;case"Y":t=we(1);break;case"YY":t=we(2,!0);break;case"YYY":t=we(3);break;case"YYYY":t=we(4);break;case"M":case"L":t=ge(ue.Month,1,1);break;case"MM":case"LL":t=ge(ue.Month,2,1);break;case"MMM":t=me(ce.Months,k.Abbreviated);break;case"MMMM":t=me(ce.Months,k.Wide);break;case"MMMMM":t=me(ce.Months,k.Narrow);break;case"LLL":t=me(ce.Months,k.Abbreviated,x.Standalone);break;case"LLLL":t=me(ce.Months,k.Wide,x.Standalone);break;case"LLLLL":t=me(ce.Months,k.Narrow,x.Standalone);break;case"w":t=be(1);break;case"ww":t=be(2);break;case"W":t=be(1,!0);break;case"d":t=ge(ue.Date,1);break;case"dd":t=ge(ue.Date,2);break;case"c":case"cc":t=ge(ue.Day,1);break;case"ccc":t=me(ce.Days,k.Abbreviated,x.Standalone);break;case"cccc":t=me(ce.Days,k.Wide,x.Standalone);break;case"ccccc":t=me(ce.Days,k.Narrow,x.Standalone);break;case"cccccc":t=me(ce.Days,k.Short,x.Standalone);break;case"E":case"EE":case"EEE":t=me(ce.Days,k.Abbreviated);break;case"EEEE":t=me(ce.Days,k.Wide);break;case"EEEEE":t=me(ce.Days,k.Narrow);break;case"EEEEEE":t=me(ce.Days,k.Short);break;case"a":case"aa":case"aaa":t=me(ce.DayPeriods,k.Abbreviated);break;case"aaaa":t=me(ce.DayPeriods,k.Wide);break;case"aaaaa":t=me(ce.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":t=me(ce.DayPeriods,k.Abbreviated,x.Standalone,!0);break;case"bbbb":t=me(ce.DayPeriods,k.Wide,x.Standalone,!0);break;case"bbbbb":t=me(ce.DayPeriods,k.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":t=me(ce.DayPeriods,k.Abbreviated,x.Format,!0);break;case"BBBB":t=me(ce.DayPeriods,k.Wide,x.Format,!0);break;case"BBBBB":t=me(ce.DayPeriods,k.Narrow,x.Format,!0);break;case"h":t=ge(ue.Hours,1,-12);break;case"hh":t=ge(ue.Hours,2,-12);break;case"H":t=ge(ue.Hours,1);break;case"HH":t=ge(ue.Hours,2);break;case"m":t=ge(ue.Minutes,1);break;case"mm":t=ge(ue.Minutes,2);break;case"s":t=ge(ue.Seconds,1);break;case"ss":t=ge(ue.Seconds,2);break;case"S":t=ge(ue.FractionalSeconds,1);break;case"SS":t=ge(ue.FractionalSeconds,2);break;case"SSS":t=ge(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ye(ae.Short);break;case"ZZZZZ":t=ye(ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ye(ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ye(ae.Long);break;default:return null}return _e[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function he(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function de(e,t){const n=F(e);if(oe[n]=oe[n]||{},oe[n][t])return oe[n][t];let r="";switch(t){case"shortDate":r=B(e,N.Short);break;case"mediumDate":r=B(e,N.Medium);break;case"longDate":r=B(e,N.Long);break;case"fullDate":r=B(e,N.Full);break;case"shortTime":r=q(e,N.Short);break;case"mediumTime":r=q(e,N.Medium);break;case"longTime":r=q(e,N.Long);break;case"fullTime":r=q(e,N.Full);break;case"short":const t=de(e,"shortTime"),n=de(e,"shortDate");r=fe(H(e,N.Short),[t,n]);break;case"medium":const i=de(e,"mediumTime"),o=de(e,"mediumDate");r=fe(H(e,N.Medium),[i,o]);break;case"long":const s=de(e,"longTime"),a=de(e,"longDate");r=fe(H(e,N.Long),[s,a]);break;case"full":const u=de(e,"fullTime"),c=de(e,"fullDate");r=fe(H(e,N.Full),[u,c])}return r&&(oe[n][t]=r),r}function fe(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function pe(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function ge(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case ue.FullYear:return t.getFullYear();case ue.Month:return t.getMonth();case ue.Date:return t.getDate();case ue.Hours:return t.getHours();case ue.Minutes:return t.getMinutes();case ue.Seconds:return t.getSeconds();case ue.FractionalSeconds:return t.getMilliseconds();case ue.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===ue.Hours)0===a&&-12===n&&(a=12);else if(e===ue.FractionalSeconds)return u=t,pe(a,3).substr(0,u);var u;const c=G(s,O.MinusSign);return pe(a,t,c,r,i)}}function me(e,t,n=x.Format,r=!1){return function(i,o){return function(e,t,n,r,i,o){switch(n){case ce.Months:return L(t,i,r)[e.getMonth()];case ce.Days:return M(t,i,r)[e.getDay()];case ce.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const e=J(t),n=Y(t,i,r),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=s>=t.hours&&a>=t.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===s&&e.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return P(t,i,r)[s<12?0:1];case ce.Eras:return V(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function ye(e){return function(t,n,r){const i=-1*r,o=G(n,O.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ae.Short:return(i>=0?"+":"")+pe(s,2,o)+pe(Math.abs(i%60),2,o);case ae.ShortGMT:return"GMT"+(i>=0?"+":"")+pe(s,1,o);case ae.Long:return"GMT"+(i>=0?"+":"")+pe(s,2,o)+":"+pe(Math.abs(i%60),2,o);case ae.Extended:return 0===r?"Z":(i>=0?"+":"")+pe(s,2,o)+":"+pe(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function ve(e){return he(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function be(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=ve(n),t=function(e){const t=he(e,0,1).getDay();return he(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return pe(i,e,G(r,O.MinusSign))}}function we(e,t=!1){return function(n,r){return pe(ve(n).getFullYear(),e,G(r,O.MinusSign),t)}}const _e={};function Ce(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Ee(e){return e instanceof Date&&!isNaN(e.valueOf())}const Ie=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Se=".",De="0";function Te(e,t,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf(Se))>-1&&(s=s.replace(Se,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===De;r++);if(r===(o=s.length))t=[0],n=1;else{for(o--;s.charAt(o)===De;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(s.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let l=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const e=o.match(Ie);if(null===e)throw new Error(`${o} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(l=Oe(t)),null!=n&&(h=Oe(n)),null!=r?d=Oe(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let e=s;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let e=1;e<s;e++)r[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=t+e.integerLen,l=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),t>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(e=>!e);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(G(n,r)),m.length&&(a+=G(n,i)+m.join("")),g&&(a+=G(n,O.Exponential)+"+"+g)}else a=G(n,O.Infinity);return a=e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Ae(e,t,n,r,i){const o=Ne(z(t,T.Currency),G(t,O.MinusSign));return o.minFrac=re(r),o.maxFrac=o.minFrac,Te(e,o,t,O.CurrencyGroup,O.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function xe(e,t,n){return Te(e,Ne(z(t,T.Percent),G(t,O.MinusSign)),t,O.Group,O.Decimal,n,!0).replace(new RegExp("%","g"),G(t,O.PercentSign))}function ke(e,t,n){return Te(e,Ne(z(t,T.Decimal),G(t,O.MinusSign)),t,O.Group,O.Decimal,n)}function Ne(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(Se)?i.split(Se):[i.substring(0,i.lastIndexOf(De)+1),i.substring(i.lastIndexOf(De)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const e=u.charAt(l);e===De?n.minFrac=n.maxFrac=l+1:"#"===e?n.maxFrac=l+1:n.posSuf+=e}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const e=i.length-n.posPre.length-n.posSuf.length,t=o.indexOf("#");n.negPre=o.substr(0,t).replace(/'/g,""),n.negSuf=o.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Oe(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class Re{}function Fe(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let Pe=(()=>{class e extends Re{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(W(t||this.locale)(e)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.LOCALE_ID))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function Me(e,t,n){return(0,r["\u0275registerLocaleData"])(e,t,n)}function Le(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let Ve=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r["\u0275stringify"])(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.IterableDiffers),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),je=(()=>{class e{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();class Ue{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Be=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ue(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new qe(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new qe(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.IterableDiffers))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class qe{constructor(e,t){this.record=e,this.view=t}}let He=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Ge,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ze("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ze("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Ge{constructor(){this.$implicit=null,this.ngIf=null}}function ze(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r["\u0275stringify"])(t)}'.`)}class $e{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ke=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Qe=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new $e(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ke,9))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),We=(()=>{class e{constructor(e,t,n){n._addDefault(new $e(e,t))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ke,9))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Ze=(()=>{class e{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=Fe(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Re))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),Je=(()=>{class e{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?`=${e}`:e,new $e(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectAttribute"]("ngPluralCase"),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](Ze,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPluralCase",""]]}),e})(),Ye=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Xe=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();const et=[Ve,je,Be,He,Xe,Ye,Ke,Qe,We,Ze,Je];function tt(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r["\u0275stringify"])(e)}'`)}class nt{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class rt{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const it=new rt,ot=new nt;let st=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r["\u0275isPromise"])(t))return it;if((0,r["\u0275isSubscribable"])(t))return ot;throw tt(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"async",type:e,pure:!1}),e})(),at=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw tt(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"lowercase",type:e,pure:!0}),e})();const ut=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let ct=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw tt(e,t);return t.replace(ut,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"titlecase",type:e,pure:!0}),e})(),lt=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw tt(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"uppercase",type:e,pure:!0}),e})(),ht=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return le(t,n,i||this.locale,r)}catch(o){throw tt(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"date",type:e,pure:!0}),e})();const dt=/#/g;let ft=(()=>{class e{constructor(e){this._localization=e}transform(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw tt(e,n);return n[Fe(t,Object.keys(n),this._localization,r)].replace(dt,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Re,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nPlural",type:e,pure:!0}),e})(),pt=(()=>{class e{transform(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw tt(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nSelect",type:e,pure:!0}),e})(),gt=(()=>{class e{transform(e){return JSON.stringify(e,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"json",type:e,pure:!1}),e})(),mt=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=yt){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(t)),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.KeyValueDiffers,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"keyvalue",type:e,pure:!1}),e})();function yt(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let vt=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(!_t(t))return null;r=r||this._locale;try{return ke(Ct(t),r,n)}catch(i){throw tt(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"number",type:e,pure:!0}),e})(),bt=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(!_t(t))return null;r=r||this._locale;try{return xe(Ct(t),r,n)}catch(i){throw tt(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"percent",type:e,pure:!0}),e})(),wt=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,n=this._defaultCurrencyCode,r="symbol",i,o){if(!_t(t))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let s=n||this._defaultCurrencyCode;"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?ne(s,"symbol"===r?"wide":"narrow",o):r);try{return Ae(Ct(t),o,s,n,i)}catch(a){throw tt(e,a.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16),r["\u0275\u0275directiveInject"](r.DEFAULT_CURRENCY_CODE,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"currency",type:e,pure:!0}),e})();function _t(e){return!(null==e||""===e||e!=e)}function Ct(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let Et=(()=>{class e{transform(t,n,r){if(null==t)return null;if(!this.supports(t))throw tt(e,t);return t.slice(n,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"slice",type:e,pure:!1}),e})();const It=[st,lt,at,gt,Et,vt,bt,ct,wt,ht,ft,pt,mt];let St=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[{provide:Re,useClass:Pe}]}),e})();const Dt="browser",Tt="server",At="browserWorkerApp",xt="browserWorkerUi";function kt(e){return e===Dt}function Nt(e){return e===Tt}function Ot(e){return e===At}function Rt(e){return e===xt}const Ft=new r.Version("12.1.1");let Pt=(()=>{class e{}return e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({token:e,providedIn:"root",factory:()=>new Mt((0,r["\u0275\u0275inject"])(u),window)}),e})();class Mt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Lt(this.window.history)||Lt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Lt(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Vt{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class jt{}},3018:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Ln,APP_BOOTSTRAP_LISTENER:()=>Jy,APP_ID:()=>zy,APP_INITIALIZER:()=>Hy,ApplicationInitStatus:()=>Gy,ApplicationModule:()=>jb,ApplicationRef:()=>Jv,Attribute:()=>Pn,COMPILER_OPTIONS:()=>yv,CUSTOM_ELEMENTS_SCHEMA:()=>eo,ChangeDetectionStrategy:()=>j,ChangeDetectorRef:()=>Tf,Compiler:()=>mv,CompilerFactory:()=>vv,Component:()=>Ay,ComponentFactory:()=>jd,ComponentFactoryResolver:()=>Hd,ComponentRef:()=>Vd,ContentChild:()=>Un,ContentChildren:()=>jn,DEFAULT_CURRENCY_CODE:()=>tv,DebugElement:()=>Nb,DebugEventListener:()=>lb,DebugNode:()=>kb,DefaultIterableDiffer:()=>lf,Directive:()=>Ty,ElementRef:()=>Jd,EmbeddedViewRef:()=>cb,ErrorHandler:()=>Xi,EventEmitter:()=>Dm,Host:()=>Sr,HostBinding:()=>Oy,HostListener:()=>Ry,INJECTOR:()=>ga,Inject:()=>_r,InjectFlags:()=>R,Injectable:()=>Ku,InjectionToken:()=>Mn,Injector:()=>Oa,Input:()=>ky,IterableDiffers:()=>bf,KeyValueDiffers:()=>_f,LOCALE_ID:()=>ev,MissingTranslationStrategy:()=>iv,ModuleWithComponentFactories:()=>av,NO_ERRORS_SCHEMA:()=>to,NgModule:()=>Uy,NgModuleFactory:()=>Uf,NgModuleFactoryLoader:()=>Xv,NgModuleRef:()=>jf,NgProbeToken:()=>Hv,NgZone:()=>_v,Optional:()=>Cr,Output:()=>Ny,PACKAGE_ROOT_URL:()=>Yy,PLATFORM_ID:()=>Zy,PLATFORM_INITIALIZER:()=>Wy,Pipe:()=>xy,PlatformRef:()=>Wv,Query:()=>Vn,QueryList:()=>Am,ReflectiveInjector:()=>yc,ReflectiveKey:()=>ec,Renderer2:()=>ef,RendererFactory2:()=>Xd,RendererStyleFlags2:()=>fo,ResolvedReflectiveFactory:()=>uc,Sanitizer:()=>of,SecurityContext:()=>xi,Self:()=>Er,SimpleChange:()=>Te,SkipSelf:()=>Ir,SystemJsNgModuleLoader:()=>sb,SystemJsNgModuleLoaderConfig:()=>ib,TRANSLATIONS:()=>nv,TRANSLATIONS_FORMAT:()=>rv,TemplateRef:()=>Ff,Testability:()=>Av,TestabilityRegistry:()=>xv,Type:()=>zn,VERSION:()=>af,Version:()=>sf,ViewChild:()=>qn,ViewChildren:()=>Bn,ViewContainerRef:()=>Hf,ViewEncapsulation:()=>q,ViewRef:()=>ub,WrappedValue:()=>du,asNativeElements:()=>fb,assertPlatform:()=>$v,createPlatform:()=>Gv,createPlatformFactory:()=>zv,defineInjectable:()=>I,destroyPlatform:()=>Kv,enableProdMode:()=>Lv,forwardRef:()=>g,getDebugNode:()=>Db,getModuleFactory:()=>nb,getPlatform:()=>Qv,inject:()=>yr,isDevMode:()=>Mv,platformCore:()=>Ob,resolveForwardRef:()=>m,setTestabilityGetter:()=>Nv,"\u02750":()=>wr,"\u0275ALLOW_MULTIPLE_PLATFORMS":()=>qv,"\u0275APP_ID_RANDOM_PROVIDER":()=>Ky,"\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__":()=>Fn,"\u0275ChangeDetectorStatus":()=>U,"\u0275CodegenComponentFactoryResolver":()=>Gd,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__":()=>pv,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__":()=>dv,"\u0275Compiler_compileModuleAsync__POST_R3__":()=>lv,"\u0275Compiler_compileModuleSync__POST_R3__":()=>uv,"\u0275ComponentFactory":()=>jd,"\u0275Console":()=>Xy,"\u0275DEFAULT_LOCALE_ID":()=>Eh,"\u0275EMPTY_ARRAY":()=>W,"\u0275EMPTY_MAP":()=>Gp,"\u0275INJECTOR_IMPL__POST_R3__":()=>ka,"\u0275INJECTOR_SCOPE":()=>ya,"\u0275LifecycleHooksFeature":()=>Ya,"\u0275LocaleDataIndex":()=>_h,"\u0275NG_COMP_DEF":()=>Z,"\u0275NG_DIR_DEF":()=>J,"\u0275NG_ELEMENT_ID":()=>ne,"\u0275NG_INJ_DEF":()=>k,"\u0275NG_MOD_DEF":()=>X,"\u0275NG_PIPE_DEF":()=>Y,"\u0275NG_PROV_DEF":()=>x,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR":()=>Pg,"\u0275NO_CHANGE":()=>cs,"\u0275NgModuleFactory":()=>em,"\u0275NoopNgZone":()=>Tv,"\u0275ReflectionCapabilities":()=>or,"\u0275Render3ComponentFactory":()=>zg,"\u0275Render3ComponentRef":()=>$g,"\u0275Render3NgModuleRef":()=>Xg,"\u0275RuntimeError":()=>v,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__":()=>Sf,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__":()=>Fy,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__":()=>Py,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__":()=>Qu,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__":()=>By,"\u0275SWITCH_COMPILE_PIPE__POST_R3__":()=>My,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__":()=>Wd,"\u0275SWITCH_IVY_ENABLED__POST_R3__":()=>ov,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__":()=>tf,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__":()=>Of,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__":()=>Bf,"\u0275_sanitizeHtml":()=>Ti,"\u0275_sanitizeUrl":()=>ci,"\u0275allowSanitizationBypassAndThrow":()=>Jr,"\u0275and":()=>Ub,"\u0275angular_packages_core_core_a":()=>y,"\u0275angular_packages_core_core_b":()=>pr,"\u0275angular_packages_core_core_ba":()=>Vb,"\u0275angular_packages_core_core_bb":()=>Ih,"\u0275angular_packages_core_core_bc":()=>Ag,"\u0275angular_packages_core_core_bd":()=>sp,"\u0275angular_packages_core_core_be":()=>xe,"\u0275angular_packages_core_core_bf":()=>Gg,"\u0275angular_packages_core_core_bg":()=>dn,"\u0275angular_packages_core_core_bh":()=>it,"\u0275angular_packages_core_core_bi":()=>gt,"\u0275angular_packages_core_core_bj":()=>Ft,"\u0275angular_packages_core_core_bl":()=>dm,"\u0275angular_packages_core_core_bm":()=>fm,"\u0275angular_packages_core_core_bn":()=>pm,"\u0275angular_packages_core_core_bo":()=>gm,"\u0275angular_packages_core_core_bp":()=>mm,"\u0275angular_packages_core_core_bq":()=>Li,"\u0275angular_packages_core_core_br":()=>Rn,"\u0275angular_packages_core_core_bs":()=>On,"\u0275angular_packages_core_core_bv":()=>l,"\u0275angular_packages_core_core_bw":()=>ma,"\u0275angular_packages_core_core_bx":()=>P,"\u0275angular_packages_core_core_bz":()=>ze,"\u0275angular_packages_core_core_c":()=>br,"\u0275angular_packages_core_core_cb":()=>yo,"\u0275angular_packages_core_core_cc":()=>Cd,"\u0275angular_packages_core_core_d":()=>vc,"\u0275angular_packages_core_core_e":()=>oc,"\u0275angular_packages_core_core_f":()=>hc,"\u0275angular_packages_core_core_g":()=>$y,"\u0275angular_packages_core_core_h":()=>rf,"\u0275angular_packages_core_core_i":()=>Kd,"\u0275angular_packages_core_core_j":()=>Qd,"\u0275angular_packages_core_core_k":()=>eb,"\u0275angular_packages_core_core_l":()=>Lf,"\u0275angular_packages_core_core_m":()=>Vf,"\u0275angular_packages_core_core_n":()=>Gf,"\u0275angular_packages_core_core_o":()=>hb,"\u0275angular_packages_core_core_p":()=>db,"\u0275angular_packages_core_core_q":()=>Tb,"\u0275angular_packages_core_core_r":()=>Af,"\u0275angular_packages_core_core_s":()=>uf,"\u0275angular_packages_core_core_t":()=>gf,"\u0275angular_packages_core_core_u":()=>vf,"\u0275angular_packages_core_core_v":()=>wf,"\u0275angular_packages_core_core_w":()=>Rb,"\u0275angular_packages_core_core_x":()=>Fb,"\u0275angular_packages_core_core_y":()=>Pb,"\u0275angular_packages_core_core_z":()=>Lb,"\u0275bypassSanitizationTrustHtml":()=>Xr,"\u0275bypassSanitizationTrustResourceUrl":()=>ri,"\u0275bypassSanitizationTrustScript":()=>ti,"\u0275bypassSanitizationTrustStyle":()=>ei,"\u0275bypassSanitizationTrustUrl":()=>ni,"\u0275ccf":()=>rg,"\u0275clearOverrides":()=>p_,"\u0275clearResolutionOfComponentResourcesQueue":()=>Fr,"\u0275cmf":()=>g_,"\u0275compileComponent":()=>ly,"\u0275compileDirective":()=>hy,"\u0275compileNgModule":()=>Xm,"\u0275compileNgModuleDefs":()=>ey,"\u0275compileNgModuleFactory__POST_R3__":()=>jv,"\u0275compilePipe":()=>Sy,"\u0275createInjector":()=>Ca,"\u0275crt":()=>pp,"\u0275defaultIterableDiffers":()=>kf,"\u0275defaultKeyValueDiffers":()=>Nf,"\u0275detectChanges":()=>fa,"\u0275devModeEqual":()=>hu,"\u0275did":()=>Sg,"\u0275eld":()=>Bb,"\u0275findLocaleData":()=>mh,"\u0275flushModuleScopingQueueAsMuchAsPossible":()=>Jm,"\u0275getComponentViewDefinitionFactory":()=>ig,"\u0275getDebugNodeR2":()=>Ab,"\u0275getDebugNode__POST_R3__":()=>Sb,"\u0275getDirectives":()=>Va,"\u0275getHostElement":()=>Ua,"\u0275getInjectableDef":()=>D,"\u0275getLContext":()=>Ui,"\u0275getLocaleCurrencyCode":()=>yh,"\u0275getLocalePluralCase":()=>vh,"\u0275getModuleFactory__POST_R3__":()=>tb,"\u0275getSanitizationBypassType":()=>Yr,"\u0275global":()=>K,"\u0275initServicesIfNeeded":()=>xw,"\u0275inlineInterpolate":()=>qp,"\u0275interpolate":()=>Bp,"\u0275isBoundToModule__POST_R3__":()=>Bv,"\u0275isDefaultChangeDetectionStrategy":()=>B,"\u0275isListLikeIterable":()=>fu,"\u0275isObservable":()=>Oc,"\u0275isPromise":()=>kc,"\u0275isSubscribable":()=>Nc,"\u0275ivyEnabled":()=>sv,"\u0275makeDecorator":()=>kn,"\u0275markDirty":()=>pa,"\u0275mod":()=>Zp,"\u0275mpd":()=>Wp,"\u0275ncd":()=>Jb,"\u0275noSideEffects":()=>V,"\u0275nov":()=>gg,"\u0275overrideComponentView":()=>f_,"\u0275overrideProvider":()=>d_,"\u0275pad":()=>ew,"\u0275patchComponentDefWithScope":()=>oy,"\u0275pid":()=>Dg,"\u0275pod":()=>tw,"\u0275ppd":()=>Xb,"\u0275prd":()=>Tg,"\u0275publishDefaultGlobalUtils":()=>$a,"\u0275publishGlobalUtil":()=>Ka,"\u0275qud":()=>$b,"\u0275registerLocaleData":()=>gh,"\u0275registerModuleFactory":()=>Wg,"\u0275registerNgModuleType":()=>Jg,"\u0275renderComponent":()=>Qa,"\u0275resetCompiledComponents":()=>ry,"\u0275resetJitOptions":()=>Qm,"\u0275resolveComponentResources":()=>kr,"\u0275setClassMetadata":()=>Kg,"\u0275setCurrentInjector":()=>fr,"\u0275setDocument":()=>je,"\u0275setLocaleId":()=>xh,"\u0275store":()=>Bu,"\u0275stringify":()=>d,"\u0275ted":()=>rw,"\u0275transitiveScopesFor":()=>sy,"\u0275unregisterLocaleData":()=>wh,"\u0275unv":()=>hp,"\u0275unwrapSafeValue":()=>Zr,"\u0275vid":()=>sw,"\u0275whenRendered":()=>Xa,"\u0275\u0275CopyDefinitionFeature":()=>uu,"\u0275\u0275FactoryTarget":()=>Hn,"\u0275\u0275InheritDefinitionFeature":()=>tu,"\u0275\u0275NgOnChangesFeature":()=>Ae,"\u0275\u0275ProvidersFeature":()=>Ld,"\u0275\u0275advance":()=>ls,"\u0275\u0275attribute":()=>_u,"\u0275\u0275attributeInterpolate1":()=>Nu,"\u0275\u0275attributeInterpolate2":()=>Ou,"\u0275\u0275attributeInterpolate3":()=>Ru,"\u0275\u0275attributeInterpolate4":()=>Fu,"\u0275\u0275attributeInterpolate5":()=>Pu,"\u0275\u0275attributeInterpolate6":()=>Mu,"\u0275\u0275attributeInterpolate7":()=>Lu,"\u0275\u0275attributeInterpolate8":()=>Vu,"\u0275\u0275attributeInterpolateV":()=>ju,"\u0275\u0275classMap":()=>fl,"\u0275\u0275classMapInterpolate1":()=>Ll,"\u0275\u0275classMapInterpolate2":()=>Vl,"\u0275\u0275classMapInterpolate3":()=>jl,"\u0275\u0275classMapInterpolate4":()=>Ul,"\u0275\u0275classMapInterpolate5":()=>Bl,"\u0275\u0275classMapInterpolate6":()=>ql,"\u0275\u0275classMapInterpolate7":()=>Hl,"\u0275\u0275classMapInterpolate8":()=>Gl,"\u0275\u0275classMapInterpolateV":()=>zl,"\u0275\u0275classProp":()=>ll,"\u0275\u0275contentQuery":()=>Um,"\u0275\u0275defineComponent":()=>ie,"\u0275\u0275defineDirective":()=>de,"\u0275\u0275defineInjectable":()=>E,"\u0275\u0275defineInjector":()=>S,"\u0275\u0275defineNgModule":()=>ce,"\u0275\u0275definePipe":()=>fe,"\u0275\u0275directiveInject":()=>bc,"\u0275\u0275disableBindings":()=>rt,"\u0275\u0275element":()=>Sc,"\u0275\u0275elementContainer":()=>Ac,"\u0275\u0275elementContainerEnd":()=>Tc,"\u0275\u0275elementContainerStart":()=>Dc,"\u0275\u0275elementEnd":()=>Ic,"\u0275\u0275elementStart":()=>Ec,"\u0275\u0275enableBindings":()=>nt,"\u0275\u0275getCurrentView":()=>xc,"\u0275\u0275getInheritedFactory":()=>In,"\u0275\u0275hostProperty":()=>lh,"\u0275\u0275i18n":()=>Sd,"\u0275\u0275i18nApply":()=>Ad,"\u0275\u0275i18nAttributes":()=>Dd,"\u0275\u0275i18nEnd":()=>Id,"\u0275\u0275i18nExp":()=>Td,"\u0275\u0275i18nPostprocess":()=>xd,"\u0275\u0275i18nStart":()=>Ed,"\u0275\u0275inject":()=>gr,"\u0275\u0275injectAttribute":()=>Dn,"\u0275\u0275invalidFactory":()=>wc,"\u0275\u0275invalidFactoryDep":()=>mr,"\u0275\u0275listener":()=>Rc,"\u0275\u0275loadQuery":()=>Bm,"\u0275\u0275namespaceHTML":()=>Ut,"\u0275\u0275namespaceMathML":()=>jt,"\u0275\u0275namespaceSVG":()=>Vt,"\u0275\u0275nextContext":()=>Vc,"\u0275\u0275ngDeclareClassMetadata":()=>v_,"\u0275\u0275ngDeclareComponent":()=>b_,"\u0275\u0275ngDeclareDirective":()=>y_,"\u0275\u0275ngDeclareFactory":()=>w_,"\u0275\u0275ngDeclareInjectable":()=>__,"\u0275\u0275ngDeclareInjector":()=>C_,"\u0275\u0275ngDeclareNgModule":()=>E_,"\u0275\u0275ngDeclarePipe":()=>I_,"\u0275\u0275pipe":()=>ym,"\u0275\u0275pipeBind1":()=>vm,"\u0275\u0275pipeBind2":()=>bm,"\u0275\u0275pipeBind3":()=>wm,"\u0275\u0275pipeBind4":()=>_m,"\u0275\u0275pipeBindV":()=>Cm,"\u0275\u0275projection":()=>Bc,"\u0275\u0275projectionDef":()=>Uc,"\u0275\u0275property":()=>_c,"\u0275\u0275propertyInterpolate":()=>qc,"\u0275\u0275propertyInterpolate1":()=>Hc,"\u0275\u0275propertyInterpolate2":()=>Gc,"\u0275\u0275propertyInterpolate3":()=>zc,"\u0275\u0275propertyInterpolate4":()=>$c,"\u0275\u0275propertyInterpolate5":()=>Kc,"\u0275\u0275propertyInterpolate6":()=>Qc,"\u0275\u0275propertyInterpolate7":()=>Wc,"\u0275\u0275propertyInterpolate8":()=>Zc,"\u0275\u0275propertyInterpolateV":()=>Jc,"\u0275\u0275pureFunction0":()=>tm,"\u0275\u0275pureFunction1":()=>nm,"\u0275\u0275pureFunction2":()=>rm,"\u0275\u0275pureFunction3":()=>im,"\u0275\u0275pureFunction4":()=>om,"\u0275\u0275pureFunction5":()=>sm,"\u0275\u0275pureFunction6":()=>am,"\u0275\u0275pureFunction7":()=>um,"\u0275\u0275pureFunction8":()=>cm,"\u0275\u0275pureFunctionV":()=>lm,"\u0275\u0275queryRefresh":()=>Vm,"\u0275\u0275reference":()=>qu,"\u0275\u0275resolveBody":()=>lo,"\u0275\u0275resolveDocument":()=>co,"\u0275\u0275resolveWindow":()=>uo,"\u0275\u0275restoreView":()=>st,"\u0275\u0275sanitizeHtml":()=>ki,"\u0275\u0275sanitizeResourceUrl":()=>Ri,"\u0275\u0275sanitizeScript":()=>Fi,"\u0275\u0275sanitizeStyle":()=>Ni,"\u0275\u0275sanitizeUrl":()=>Oi,"\u0275\u0275sanitizeUrlOrResourceUrl":()=>Vi,"\u0275\u0275setComponentScope":()=>oe,"\u0275\u0275setNgModuleScope":()=>le,"\u0275\u0275styleMap":()=>hl,"\u0275\u0275styleMapInterpolate1":()=>$l,"\u0275\u0275styleMapInterpolate2":()=>Kl,"\u0275\u0275styleMapInterpolate3":()=>Ql,"\u0275\u0275styleMapInterpolate4":()=>Wl,"\u0275\u0275styleMapInterpolate5":()=>Zl,"\u0275\u0275styleMapInterpolate6":()=>Jl,"\u0275\u0275styleMapInterpolate7":()=>Yl,"\u0275\u0275styleMapInterpolate8":()=>Xl,"\u0275\u0275styleMapInterpolateV":()=>eh,"\u0275\u0275styleProp":()=>cl,"\u0275\u0275stylePropInterpolate1":()=>th,"\u0275\u0275stylePropInterpolate2":()=>nh,"\u0275\u0275stylePropInterpolate3":()=>rh,"\u0275\u0275stylePropInterpolate4":()=>ih,"\u0275\u0275stylePropInterpolate5":()=>oh,"\u0275\u0275stylePropInterpolate6":()=>sh,"\u0275\u0275stylePropInterpolate7":()=>ah,"\u0275\u0275stylePropInterpolate8":()=>uh,"\u0275\u0275stylePropInterpolateV":()=>ch,"\u0275\u0275syntheticHostListener":()=>Fc,"\u0275\u0275syntheticHostProperty":()=>hh,"\u0275\u0275template":()=>Uu,"\u0275\u0275templateRefExtractor":()=>zm,"\u0275\u0275text":()=>Dl,"\u0275\u0275textInterpolate":()=>Tl,"\u0275\u0275textInterpolate1":()=>Al,"\u0275\u0275textInterpolate2":()=>xl,"\u0275\u0275textInterpolate3":()=>kl,"\u0275\u0275textInterpolate4":()=>Nl,"\u0275\u0275textInterpolate5":()=>Ol,"\u0275\u0275textInterpolate6":()=>Rl,"\u0275\u0275textInterpolate7":()=>Fl,"\u0275\u0275textInterpolate8":()=>Pl,"\u0275\u0275textInterpolateV":()=>Ml,"\u0275\u0275trustConstantHtml":()=>Pi,"\u0275\u0275trustConstantResourceUrl":()=>Mi,"\u0275\u0275viewQuery":()=>jm});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(2441),u=n(1307);function c(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function b(e){return"string"==typeof e?e:null==e?"":String(e)}function w(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():b(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${w(e)} found${n}`)}function C(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const I=E;function S(e){return{providers:e.providers||[],imports:e.imports||[]}}function D(e){return T(e,x)||T(e,N)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function A(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(O))?e[k]:null}const x=l({"\u0275prov":l}),k=l({"\u0275inj":l}),N=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var R=(()=>((R=R||{})[R.Default=0]="Default",R[R.Host=1]="Host",R[R.Self=2]="Self",R[R.SkipSelf=4]="SkipSelf",R[R.Optional=8]="Optional",R))();let F;function P(){return F}function M(e){const t=F;return F=e,t}function L(e,t,n){const r=D(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function V(e){return{toString:e}.toString()}var j=(()=>((j=j||{})[j.OnPush=0]="OnPush",j[j.Default=1]="Default",j))(),U=(()=>((U=U||{})[U.CheckOnce=0]="CheckOnce",U[U.Checked=1]="Checked",U[U.CheckAlways=2]="CheckAlways",U[U.Detached=3]="Detached",U[U.Errored=4]="Errored",U[U.Destroyed=5]="Destroyed",U))();function B(e){return null==e||e===j.Default}var q=(()=>((q=q||{})[q.Emulated=0]="Emulated",q[q.None=2]="None",q[q.ShadowDom=3]="ShadowDom",q))();const H="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,K=H||$||G||z,Q={},W=[],Z=l({"\u0275cmp":l}),J=l({"\u0275dir":l}),Y=l({"\u0275pipe":l}),X=l({"\u0275mod":l}),ee=l({"\u0275loc":l}),te=l({"\u0275fac":l}),ne=l({__NG_ELEMENT_ID__:l});let re=0;function ie(e){return V(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||W,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||q.Emulated,id:"c",styles:e.styles||W,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=re++,n.inputs=he(e.inputs,t),n.outputs=he(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(se):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(ae):null,n})}function oe(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(se),r.pipeDefs=()=>n.map(ae)}function se(e){return pe(e)||ge(e)}function ae(e){return me(e)}const ue={};function ce(e){return V(()=>{const t={type:e.type,bootstrap:e.bootstrap||W,declarations:e.declarations||W,imports:e.imports||W,exports:e.exports||W,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ue[e.id]=e.type),t})}function le(e,t){return V(()=>{const n=ye(e,!0);n.declarations=t.declarations||W,n.imports=t.imports||W,n.exports=t.exports||W})}function he(e,t){if(null==e)return Q;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const de=ie;function fe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function pe(e){return e[Z]||null}function ge(e){return e[J]||null}function me(e){return e[Y]||null}function ye(e,t){const n=e[X]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const ve=20,be=10;function we(e){return Array.isArray(e)&&"object"==typeof e[1]}function _e(e){return Array.isArray(e)&&!0===e[1]}function Ce(e){return 0!=(8&e.flags)}function Ee(e){return 2==(2&e.flags)}function Ie(e){return 1==(1&e.flags)}function Se(e){return null!==e.template}function De(e,t){return e.hasOwnProperty(te)?e[te]:null}class Te{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ae(){return xe}function xe(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ne),ke}function ke(){const e=Oe(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Q)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ne(e,t,n,r){const i=Oe(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Q,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Te(u&&u.currentValue,t,s===Q),e[r]=t}function Oe(e){return e.__ngSimpleChanges__||null}Ae.ngInherit=!0;let Re=null;const Fe=e=>{Re=e},Pe=function(e,t,n){null!=Re&&Re(e,t,n)},Me="http://www.w3.org/2000/svg",Le="http://www.w3.org/1998/MathML/";let Ve;function je(e){Ve=e}function Ue(){return void 0!==Ve?Ve:"undefined"!=typeof document?document:void 0}function Be(e){return!!e.listen}const qe={createRenderer:(e,t)=>Ue()};function He(e){for(;Array.isArray(e);)e=e[0];return e}function Ge(e,t){return He(t[e])}function ze(e,t){return He(t[e.index])}function $e(e,t){return e.data[t]}function Ke(e,t){return e[t]}function Qe(e,t){const n=t[e];return we(n)?n:n[0]}function We(e){return 4==(4&e[2])}function Ze(e){return 128==(128&e[2])}function Je(e,t){return null==t?null:e[t]}function Ye(e){e[18]=0}function Xe(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const et={lFrame:kt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tt(){return et.bindingsEnabled}function nt(){et.bindingsEnabled=!0}function rt(){et.bindingsEnabled=!1}function it(){return et.lFrame.lView}function ot(){return et.lFrame.tView}function st(e){return et.lFrame.contextLView=e,e[8]}function at(){let e=ut();for(;null!==e&&64===e.type;)e=e.parent;return e}function ut(){return et.lFrame.currentTNode}function ct(){const e=et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function lt(e,t){const n=et.lFrame;n.currentTNode=e,n.isParent=t}function ht(){return et.lFrame.isParent}function dt(){et.lFrame.isParent=!1}function ft(){return et.isInCheckNoChangesMode}function pt(e){et.isInCheckNoChangesMode=e}function gt(){const e=et.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function mt(){return et.lFrame.bindingIndex}function yt(e){return et.lFrame.bindingIndex=e}function vt(){return et.lFrame.bindingIndex++}function bt(e){const t=et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function wt(e){et.lFrame.inI18n=e}function _t(e,t){const n=et.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ct(t)}function Ct(e){et.lFrame.currentDirectiveIndex=e}function Et(e){const t=et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function It(){return et.lFrame.currentQueryIndex}function St(e){et.lFrame.currentQueryIndex=e}function Dt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Tt(e,t,n){if(n&R.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&R.Host||(r=Dt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=et.lFrame=xt();return r.currentTNode=t,r.lView=e,!0}function At(e){const t=xt(),n=e[1];et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xt(){const e=et.lFrame,t=null===e?null:e.child;return null===t?kt(e):t}function kt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Nt(){const e=et.lFrame;return et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ot=Nt;function Rt(){const e=Nt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ft(e){return(et.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,et.lFrame.contextLView))[8]}function Pt(){return et.lFrame.selectedIndex}function Mt(e){et.lFrame.selectedIndex=e}function Lt(){const e=et.lFrame;return $e(e.tView,e.selectedIndex)}function Vt(){et.lFrame.currentNamespace=Me}function jt(){et.lFrame.currentNamespace=Le}function Ut(){et.lFrame.currentNamespace=null}function Bt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function qt(e,t,n){zt(e,t,3,n)}function Ht(e,t,n,r){(3&e[2])===n&&zt(e,t,n,r)}function Gt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function zt(e,t,n,r){const i=null!=r?r:-1,o=t.length-1;let s=0;for(let a=void 0!==r?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=r&&s>=r)break}else t[a]<0&&(e[18]+=65536),(s<i||-1==i)&&($t(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function $t(e,t,n,r){const i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,Pe(4,s,o);try{o.call(s)}finally{Pe(5,s,o)}}}else{Pe(4,s,o);try{o.call(s)}finally{Pe(5,s,o)}}}const Kt=-1;class Qt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Wt(e,t,n){const r=Be(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Jt(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function Zt(e){return 3===e||4===e||6===e}function Jt(e){return 64===e.charCodeAt(0)}function Yt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Xt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Xt(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function en(e){return e!==Kt}function tn(e){return 32767&e}function nn(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let rn=!0;function on(e){const t=rn;return rn=e,t}let sn=0;function an(e,t){const n=cn(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,un(r.data,e),un(t,null),un(r.blueprint,null));const i=ln(e,t),o=e.injectorIndex;if(en(i)){const e=tn(i),n=nn(i,t),r=n[1].data;for(let i=0;i<8;i++)t[o+i]=n[e+i]|r[e+i]}return t[o+8]=i,o}function un(e,t){e.push(0,0,0,0,0,0,0,0,t)}function cn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ln(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Kt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Kt}function hn(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ne)&&(r=n[ne]),null==r&&(r=n[ne]=sn++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function dn(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Zt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}function fn(e,t,n){if(n&R.Optional)return e;_(t,"NodeInjector")}function pn(e,t,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=e[9],o=M(void 0);try{return i?i.get(t,r,n&R.Optional):L(t,r,n&R.Optional)}finally{M(o)}}return fn(r,t,n)}function gn(e,t,n,r=R.Default,i){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ne)?e[ne]:void 0;return"number"==typeof t?t>=0?255&t:yn:t}(n);if("function"==typeof o){if(!Tt(t,e,r))return r&R.Host?fn(i,n,r):pn(t,n,r,i);try{const e=o(r);if(null!=e||r&R.Optional)return e;_(n)}finally{Ot()}}else if("number"==typeof o){let i=null,s=cn(e,t),a=Kt,u=r&R.Host?t[16][6]:null;for((-1===s||r&R.SkipSelf)&&(a=-1===s?ln(e,t):t[s+8],a!==Kt&&Cn(r,!1)?(i=t[1],s=tn(a),t=nn(a,t)):s=-1);-1!==s;){const e=t[1];if(_n(o,s,e.data)){const e=vn(s,t,n,i,r,u);if(e!==mn)return e}a=t[s+8],a!==Kt&&Cn(r,t[1].data[s+8]===u)&&_n(o,s,t)?(i=e,s=tn(a),t=nn(a,t)):s=-1}}}return pn(t,n,r,i)}const mn={};function yn(){return new En(at(),it())}function vn(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],u=bn(a,s,n,null==r?Ee(a)&&rn:r!=s&&0!=(3&a.type),i&R.Host&&o===a);return null!==u?wn(t,s,u,a):mn}function bn(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,c=o>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=s[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=s[u];if(e&&Se(e)&&e.type===n)return u}return null}function wn(e,t,n,r){let i=e[n];const o=t.data;if(i instanceof Qt){const s=i;s.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(w(o[n]));const a=on(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?M(s.injectImpl):null;Tt(e,r,R.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const r=xe(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==u&&M(u),on(a),s.resolving=!1,Ot()}}return i}function _n(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Cn(e,t){return!(e&R.Self||e&R.Host&&t)}class En{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return gn(this._tNode,this._lView,e,void 0,t)}}function In(e){return V(()=>{const t=e.prototype.constructor,n=t[te]||Sn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[te]||Sn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Sn(e){return y(e)?()=>{const t=Sn(m(e));return t&&t()}:De(e)}function Dn(e){return dn(at(),e)}const Tn="__annotations__",An="__parameters__",xn="__prop__metadata__";function kn(e,t,n,r,i){return V(()=>{const o=Nn(t);function s(...e){if(this instanceof s)return o.call(this,...e),this;const t=new s(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(Tn)?n[Tn]:Object.defineProperty(n,Tn,{value:[]})[Tn]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Nn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function On(e,t,n){return V(()=>{const r=Nn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(An)?e[An]:Object.defineProperty(e,An,{value:[]})[An];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Rn(e,t,n,r){return V(()=>{const i=Nn(t);function o(...e){if(this instanceof o)return i.apply(this,e),this;const t=new o(...e);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(xn)?o[xn]:Object.defineProperty(o,xn,{value:{}})[xn];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(t),r&&r(n,i,...e)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Fn(){return On("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Dn(e)}))}const Pn=Fn();class Mn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=E({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ln=new Mn("AnalyzeForEntryComponents");class Vn{}const jn=Rn("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},t),Vn),Un=Rn("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Vn),Bn=Rn("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},t),Vn),qn=Rn("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Vn);var Hn=(()=>((Hn=Hn||{})[Hn.Directive=0]="Directive",Hn[Hn.Component=1]="Component",Hn[Hn.Injectable=2]="Injectable",Hn[Hn.Pipe=3]="Pipe",Hn[Hn.NgModule=4]="NgModule",Hn))();function Gn(){const e=K.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const zn=Function;function $n(e){return"function"==typeof e}function Kn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Kn(r,t)):t!==e&&t.push(r)}return t}function Qn(e,t){e.forEach(e=>Array.isArray(e)?Qn(e,t):t(e))}function Wn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Zn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Jn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Yn(e,t,n){let r=er(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Xn(e,t){const n=er(e,t);if(n>=0)return e[1|n]}function er(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=e[n<<1];if(t===o)return n<<1;o>t?i=n:r=n+1}return~(i<<1)}(e,t)}const tr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,nr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,rr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ir=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class or{constructor(e){this._reflect=e||K.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Jn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),tr.test(n)||ir.test(n)||nr.test(n)&&!rr.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&sr(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(An)&&e[An],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return o||i?this._zipTypesAndAnnotations(o,i):Jn(e.length)}parameters(e){if(!$n(e))return[];const t=ar(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?sr(e.decorators):e.hasOwnProperty(Tn)?e[Tn]:null}annotations(e){if(!$n(e))return[];const t=ar(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=sr(t[e])}),n}return e.hasOwnProperty(xn)?e[xn]:null}propMetadata(e){if(!$n(e))return{};const t=ar(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return $n(e)&&this._ownPropMetadata(e,ar(e))||{}}hasLifecycleHook(e,t){return e instanceof zn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${d(e)}`}resourceUri(e){return`./${d(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function sr(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function ar(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const ur={},cr=/\n/gm,lr="__source",hr=l({provide:String,useValue:l});let dr;function fr(e){const t=dr;return dr=e,t}function pr(e,t=R.Default){if(void 0===dr)throw new Error("inject() must be called from an injection context");return null===dr?L(e,void 0,t):dr.get(e,t&R.Optional?null:void 0,t)}function gr(e,t=R.Default){return(P()||pr)(m(e),t)}function mr(e){throw new Error("invalid")}const yr=gr;function vr(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=R.Default;for(let t=0;t<r.length;t++){const i=r[t],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?e=i.token:n|=o:e=i}t.push(gr(e,n))}else t.push(gr(r))}return t}function br(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const wr=e=>({token:e}),_r=br(On("Inject",wr),-1),Cr=br(On("Optional"),8),Er=br(On("Self"),2),Ir=br(On("SkipSelf"),4),Sr=br(On("Host"),1);let Dr=null;function Tr(){return Dr=Dr||new or}function Ar(e){return xr(Tr().parameters(e))}function xr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof Cr||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof Ir||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof Er||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof Sr||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof _r)t.token=r.token;else if(r instanceof Pn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function kr(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const i=e(t);n.set(t,r=i.then(Pr))}return r}return Nr.forEach((e,n)=>{const i=[];e.templateUrl&&i.push(r(e.templateUrl).then(t=>{e.template=t}));const o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((t,n)=>{s.push(""),i.push(r(t).then(r=>{s[a+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(e){Or.delete(e)}(n));t.push(u)}),Fr(),Promise.all(t).then(()=>{})}let Nr=new Map;const Or=new Set;function Rr(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Fr(){const e=Nr;return Nr=new Map,e}function Pr(e){return"string"==typeof e?e:e.text()}let Mr,Lr;function Vr(){if(void 0===Mr&&(Mr=null,K.trustedTypes))try{Mr=K.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Mr}function jr(e){var t;return(null===(t=Vr())||void 0===t?void 0:t.createHTML(e))||e}function Ur(){if(void 0===Lr&&(Lr=null,K.trustedTypes))try{Lr=K.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Lr}function Br(e){var t;return(null===(t=Ur())||void 0===t?void 0:t.createHTML(e))||e}function qr(e){var t;return(null===(t=Ur())||void 0===t?void 0:t.createScript(e))||e}function Hr(e){var t;return(null===(t=Ur())||void 0===t?void 0:t.createScriptURL(e))||e}class Gr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zr extends Gr{getTypeName(){return"HTML"}}class $r extends Gr{getTypeName(){return"Style"}}class Kr extends Gr{getTypeName(){return"Script"}}class Qr extends Gr{getTypeName(){return"URL"}}class Wr extends Gr{getTypeName(){return"ResourceURL"}}function Zr(e){return e instanceof Gr?e.changingThisBreaksApplicationSecurity:e}function Jr(e,t){const n=Yr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Yr(e){return e instanceof Gr&&e.getTypeName()||null}function Xr(e){return new zr(e)}function ei(e){return new $r(e)}function ti(e){return new Kr(e)}function ni(e){return new Qr(e)}function ri(e){return new Wr(e)}function ii(e){const t=new si(e);return function(){try{return!!(new window.DOMParser).parseFromString(jr(""),"text/html")}catch(e){return!1}}()?new oi(t):t}class oi{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(jr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class si{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=jr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=jr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ai=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ui=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ci(e){return(e=String(e)).match(ai)||e.match(ui)?e:"unsafe:"+e}function li(e){return(e=String(e)).split(",").map(e=>ci(e.trim())).join(", ")}function hi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function di(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const fi=hi("area,br,col,hr,img,wbr"),pi=hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gi=hi("rp,rt"),mi=di(gi,pi),yi=di(fi,di(pi,hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),di(gi,hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mi),vi=hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bi=hi("srcset"),wi=di(vi,bi,hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_i=hi("script,style,template");class Ci{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!yi.hasOwnProperty(t))return this.sanitizedSomething=!0,!_i.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!wi.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;vi[i]&&(o=ci(o)),bi[i]&&(o=li(o)),this.buf.push(" ",t,'="',Si(o),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();yi.hasOwnProperty(t)&&!fi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Si(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ei=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ii=/([^\#-~ |!])/g;function Si(e){return e.replace(/&/g,"&amp;").replace(Ei,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ii,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Di;function Ti(e,t){let n=null;try{Di=Di||ii(e);let r=t?String(t):"";n=Di.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Di.getInertBodyElement(r)}while(r!==o);return jr((new Ci).sanitizeChildren(Ai(n)||n))}finally{if(n){const e=Ai(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ai(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xi=(()=>((xi=xi||{})[xi.NONE=0]="NONE",xi[xi.HTML=1]="HTML",xi[xi.STYLE=2]="STYLE",xi[xi.SCRIPT=3]="SCRIPT",xi[xi.URL=4]="URL",xi[xi.RESOURCE_URL=5]="RESOURCE_URL",xi))();function ki(e){const t=ji();return t?Br(t.sanitize(xi.HTML,e)||""):Jr(e,"HTML")?Br(Zr(e)):Ti(Ue(),b(e))}function Ni(e){const t=ji();return t?t.sanitize(xi.STYLE,e)||"":Jr(e,"Style")?Zr(e):b(e)}function Oi(e){const t=ji();return t?t.sanitize(xi.URL,e)||"":Jr(e,"URL")?Zr(e):ci(b(e))}function Ri(e){const t=ji();if(t)return Hr(t.sanitize(xi.RESOURCE_URL,e)||"");if(Jr(e,"ResourceURL"))return Hr(Zr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Fi(e){const t=ji();if(t)return qr(t.sanitize(xi.SCRIPT,e)||"");if(Jr(e,"Script"))return qr(Zr(e));throw new Error("unsafe value used in a script context")}function Pi(e){return jr(e[0])}function Mi(e){return function(e){var t;return(null===(t=Vr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function Li(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ri:Oi}function Vi(e,t,n){return Li(t,n)(e)}function ji(){const e=it();return e&&e[12]}function Ui(e){let t=Gi(e);if(t){if(Array.isArray(t)){const r=t;let i,o,s;if((n=e)&&n.constructor&&n.constructor.\u0275cmp){if(i=Qi(r,e),-1==i)throw new Error("The provided component was not found in the application");o=e}else if(function(e){return e&&e.constructor&&e.constructor.\u0275dir}(e)){if(i=function(e,t){let n=e[1].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(e[i]===t)return n.index;n=Ki(n)}return-1}(r,e),-1==i)throw new Error("The provided directive was not found in the application");s=Wi(i,r,!1)}else if(i=$i(r,e),-1==i)return null;const a=He(r[i]),u=Gi(a),c=u&&!Array.isArray(u)?u:Bi(r,i,a);if(o&&void 0===c.component&&(c.component=o,Hi(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let e=0;e<s.length;e++)Hi(s[e],c)}Hi(c.native,c),t=c}}else{const n=e;let r=n;for(;r=r.parentNode;){const e=Gi(r);if(e){let r;if(r=Array.isArray(e)?e:e.lView,!r)return null;const i=$i(r,n);if(i>=0){const e=He(r[i]),n=Bi(r,i,e);Hi(e,n),t=n;break}}}}var n;return t||null}function Bi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function qi(e){let t,n=Gi(e);if(Array.isArray(n)){const r=Qi(n,e);t=Qe(r,n);const i=Bi(n,r,t[0]);i.component=e,Hi(e,i),Hi(i.native,i)}else t=Qe(n.nodeIndex,n.lView);return t}function Hi(e,t){e.__ngContext__=t}function Gi(e){return e.__ngContext__||null}function zi(e){const t=Gi(e);return t?Array.isArray(t)?t:t.lView:null}function $i(e,t){const n=e[1];for(let r=ve;r<n.bindingStartIndex;r++)if(He(e[r])===t)return r;return-1}function Ki(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Qi(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(Qe(i,e)[8]===t)return i}else if(Qe(ve,e)[8]===t)return ve;return-1}function Wi(e,t,n){const r=t[1].data[e];let i=r.directiveStart;return 0==i?W:(!n&&2&r.flags&&i++,t.slice(i,r.directiveEnd))}function Zi(e){return e.ngDebugContext}function Ji(e){return e.ngOriginalError}function Yi(e,...t){e.error(...t)}class Xi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Yi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Zi(e)?Zi(e):this._findContext(Ji(e)):null}_findOriginalError(e){let t=Ji(e);for(;t&&Ji(t);)t=Ji(t);return t}}const eo={name:"custom-elements"},to={name:"no-errors-schema"},no=/^>|^->|<!--|-->|--!>|<!-$/g,ro=/(<|>)/;function io(e){return e.replace(no,e=>e.replace(ro,"\u200b$1\u200b"))}const oo=/([A-Z])/g;function so(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}const ao=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K))();function uo(e){return e.ownerDocument.defaultView}function co(e){return e.ownerDocument}function lo(e){return e.ownerDocument.body}function ho(e){return e instanceof Function?e():e}var fo=(()=>((fo=fo||{})[fo.Important=1]="Important",fo[fo.DashCase=2]="DashCase",fo))();let po;function go(e,t){return po(e,t)}function mo(e){const t=e[3];return _e(t)?t[3]:t}function yo(e){return function(e){let t=we(e)?e:zi(e);for(;t&&!(512&t[2]);)t=mo(t);return t}(e)[8]}function vo(e){return wo(e[13])}function bo(e){return wo(e[4])}function wo(e){for(;null!==e&&!_e(e);)e=e[4];return e}function _o(e,t,n,r,i){if(null!=r){let o,s=!1;_e(r)?o=r:we(r)&&(s=!0,r=r[0]);const a=He(r);0===e&&null!==n?null==i?Ro(t,n,a):Oo(t,n,a,i||null,!0):1===e&&null!==n?Oo(t,n,a,i||null,!0):2===e?zo(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[7];o!==He(n)&&_o(t,e,r,o,i);for(let s=be;s<n.length;s++){const i=n[s];Ko(i[1],i,e,t,r,o)}}(t,e,o,n,i)}}function Co(e,t){return Be(e)?e.createText(t):e.createTextNode(t)}function Eo(e,t,n){Be(e)?e.setValue(t,n):t.textContent=n}function Io(e,t){return e.createComment(io(t))}function So(e,t,n){return Be(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Do(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Xe(i,-1)),n.splice(r,1)}function To(e,t){if(e.length<=be)return;const n=be+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&Do(o,r),t>0&&(e[n-1][4]=r[4]);const s=Zn(e,be+t);Ko(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ao(e,t){if(!(256&t[2])){const n=t[11];Be(n)&&n.destroyNode&&Ko(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return xo(e[1],e);for(;t;){let n=null;if(we(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)we(t)&&xo(t[1],t),t=t[3];null===t&&(t=e),we(t)&&xo(t[1],t),n=t&&t[4]}t=n}}(t)}}function xo(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Qt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];Pe(4,r,i);try{i.call(r)}finally{Pe(5,r,i)}}else{Pe(4,e,t);try{t.call(e)}finally{Pe(5,e,t)}}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const e=n[o+1],s="function"==typeof e?e(t):He(t[e]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const e=r[i=n[o+1]];n[o].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Be(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&_e(t[3])){n!==t[3]&&Do(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function ko(e,t,n){return No(e,t.parent,n)}function No(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===q.None||t===q.Emulated)return null}return ze(r,n)}function Oo(e,t,n,r,i){Be(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Ro(e,t,n){Be(e)?e.appendChild(t,n):t.appendChild(n)}function Fo(e,t,n,r,i){null!==r?Oo(e,t,n,r,i):Ro(e,t,n)}function Po(e,t){return Be(e)?e.parentNode(t):t.parentNode}function Mo(e,t,n){return jo(e,t,n)}function Lo(e,t,n){return 40&e.type?ze(e,n):null}let Vo,jo=Lo;function Uo(e,t){jo=e,Vo=t}function Bo(e,t,n,r){const i=ko(e,r,t),o=t[11],s=Mo(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fo(o,i,n[a],s,!1);else Fo(o,i,n,s,!1);void 0!==Vo&&Vo(o,r,t,n,i)}function qo(e,t){if(null!==t){const n=t.type;if(3&n)return ze(t,e);if(4&n)return Go(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return qo(e,n);{const n=e[t.index];return _e(n)?Go(-1,n):He(n)}}if(32&n)return go(t,e)()||He(e[t.index]);{const n=Ho(e,t);return null!==n?Array.isArray(n)?n[0]:qo(mo(e[16]),n):qo(e,t.next)}}return null}function Ho(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Go(e,t){const n=be+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return qo(e,r)}return t[7]}function zo(e,t,n){const r=Po(e,t);r&&function(e,t,n,r){Be(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function $o(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===t&&(a&&Hi(He(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$o(e,t,n.child,r,i,o,!1),_o(t,e,i,a,o);else if(32&u){const s=go(n,r);let u;for(;u=s();)_o(t,e,i,u,o);_o(t,e,i,a,o)}else 16&u?Qo(e,t,r,n,i,o):_o(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Ko(e,t,n,r,i,o){$o(n,r,e.firstChild,t,i,o,!1)}function Qo(e,t,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)_o(t,e,i,a[u],o);else $o(e,t,a,s[3],i,o,!0)}function Wo(e,t,n){Be(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Zo(e,t,n){Be(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Jo(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Yo="ng-template";function Xo(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Jo(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function es(e){return 4===e.type&&e.value!==Yo}function ts(e,t,n){return t===(4!==e.type||n?e.value:Yo)}function ns(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(Zt(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ts(e,u,n)||""===u&&1===t.length){if(rs(r))return!1;s=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Xo(e.attrs,c,n)){if(rs(r))return!1;s=!0}continue}const l=is(8&r?"class":u,i,es(e),n);if(-1===l){if(rs(r))return!1;s=!0;continue}if(""!==c){let e;e=l>o?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Jo(t,c,0)||2&r&&c!==e){if(rs(r))return!1;s=!0}}}}else{if(!s&&!rs(r)&&!rs(u))return!1;if(s&&rs(u))continue;s=!1,r=u|1&r}}return rs(r)||s}function rs(e){return 0==(1&e)}function is(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function os(e,t,n=!1){for(let r=0;r<t.length;r++)if(ns(e,t[r],n))return!0;return!1}function ss(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function as(e,t){return e?":not("+t.trim()+")":t}function us(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];i+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||rs(s)||(t+=as(o,i),i=""),r=s,o=o||!rs(r);n++}return""!==i&&(t+=as(o,i)),t}const cs={};function ls(e){hs(ot(),it(),Pt()+e,ft())}function hs(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&qt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Ht(t,r,0,n)}Mt(n)}function ds(e,t){return e<<17|t<<2}function fs(e){return e>>17&32767}function ps(e){return 2|e}function gs(e){return(131068&e)>>2}function ms(e,t){return-131069&e|t<<2}function ys(e){return 1|e}const vs=(()=>Promise.resolve(null))();function bs(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=e.data[o];St(i),n.contentQueries(2,t[o],o)}}}function ws(e,t,n,r,i,o,s,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ye(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function _s(e,t,n,r,i){let o=e.data[t];if(null===o)o=Cs(e,t,n,r,i),et.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const e=ct();o.injectorIndex=null===e?-1:e.injectorIndex}return lt(o,!0),o}function Cs(e,t,n,r,i){const o=ut(),s=ht(),a=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Es(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Is(e,t,n){At(t);try{const r=e.viewQuery;null!==r&&ia(1,r,n);const i=e.template;null!==i&&Ts(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&bs(e,t),e.staticViewQueries&&ia(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)Ys(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,Rt()}}function Ss(e,t,n,r){const i=t[2];if(256==(256&i))return;At(t);const o=ft();try{Ye(t),yt(e.bindingStartIndex),null!==n&&Ts(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&qt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Ht(t,n,0,null),Gt(t,0)}if(function(e){for(let t=vo(e);null!==t;t=bo(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Xe(r,1),n[2]|=1024}}}(t),function(e){for(let t=vo(e);null!==t;t=bo(t))for(let e=be;e<t.length;e++){const n=t[e],r=n[1];Ze(n)&&Ss(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&bs(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&qt(t,n)}else{const n=e.contentHooks;null!==n&&Ht(t,n,1),Gt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)Mt(~r);else{const i=r,o=n[++e],s=n[++e];_t(o,i),s(2,t[i])}}}finally{Mt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Zs(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&ia(2,u,r),!o)if(s){const n=e.viewCheckHooks;null!==n&&qt(t,n)}else{const n=e.viewHooks;null!==n&&Ht(t,n,2),Gt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Xe(t[3],-1))}finally{Rt()}}function Ds(e,t,n,r){const i=t[10],o=!ft(),s=We(t);try{o&&!s&&i.begin&&i.begin(),s&&Is(e,t,r),Ss(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ts(e,t,n,r,i){const o=Pt(),s=2&r;try{Mt(-1),s&&t.length>ve&&hs(e,t,ve,ft()),Pe(s?2:0,i),n(r,i)}finally{Mt(o),Pe(s?3:1,i)}}function As(e,t,n){if(Ce(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function xs(e,t,n){tt()&&(function(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||an(n,t),Hi(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const r=e.data[a],o=Se(r);o&&Gs(t,n,r);const u=wn(t,e,a,n);Hi(u,t),null!==s&&Ks(0,a-i,u,r,0,s),o&&(Qe(n.index,t)[8]=u)}}(e,t,n,ze(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=et.lFrame.currentDirectiveIndex;try{Mt(o);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];Ct(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||js(r,i)}}finally{Mt(-1),Ct(s)}}(e,t,n))}function ks(e,t,n=ze){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Ns(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Os(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Os(e,t,n,r,i,o,s,a,u,c){const l=ve+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:cs);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Rs(e,t,n){if(Be(e))return e.selectRootElement(t,n===q.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}function Fs(e,t,n,r){const i=sa(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&aa(e).push(r,i.length-1))}function Ps(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ms(e,t,n,r,i,o,s,a){const u=ze(t,n);let c,l=t.inputs;var h;!a&&null!=l&&(c=l[r])?(la(e,n,c,r,i),Ee(t)&&function(e,t){const n=Qe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,t.value||"",r):i,Be(o)?o.setProperty(u,r,i):Jt(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ls(e,t,n,r){let i=!1;if(tt()){const o=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];os(n,s.selectors,!1)&&(i||(i=[]),hn(an(n,t),e,s.type),Se(s)?(Us(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,qs(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Es(e,t,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Yt(n.mergedAttrs,c.hostAttrs),Hs(e,n,t,u,c),Bs(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,o=[];let s=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||es(t)?null:Qs(n,i);o.push(c),s=Ps(n,u,s),a=Ps(e.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,s)}return n.mergedAttrs=Yt(n.mergedAttrs,n.attrs),i}function Vs(e,t,n,r,i,o){const s=o.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function js(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Us(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Bs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Se(t)&&(n[""]=e)}}function qs(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Hs(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=De(i.type)),s=new Qt(o,Se(i),null);e.blueprint[r]=s,n[r]=s,Vs(e,t,0,r,Es(e,n,i.hostVars,cs),i)}function Gs(e,t,n){const r=ze(t,e),i=Ns(n),o=e[10],s=Xs(e,ws(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function zs(e,t,n,r,i,o){const s=ze(e,t);$s(t[11],s,o,e.value,n,r,i)}function $s(e,t,n,r,i,o,s){if(null==o)Be(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);Be(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function Ks(e,t,n,r,i,o){const s=o[t];if(null!==s){const e=r.setInput;for(let t=0;t<s.length;){const i=s[t++],o=s[t++],a=s[t++];null!==e?r.setInput(n,a,i,o):n[o]=a}}}function Qs(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ws(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Zs(e,t){const n=Qe(t,e);if(Ze(n)){const e=n[1];80&n[2]?Ss(e,n,e.template,n[8]):n[5]>0&&Js(n)}}function Js(e){for(let n=vo(e);null!==n;n=bo(n))for(let e=be;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ss(e,t,e.template,t[8])}else t[5]>0&&Js(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Qe(t[n],e);Ze(r)&&r[5]>0&&Js(r)}}function Ys(e,t){const n=Qe(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Is(r,n,n[8])}function Xs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ea(e){for(;e;){e[2]|=64;const t=mo(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ta(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=zi(n),i=r[1];Ds(i,r,i.template,n)}}function na(e,t,n){const r=t[10];r.begin&&r.begin();try{Ss(e,t,e.template,n)}catch(i){throw ca(t,i),i}finally{r.end&&r.end()}}function ra(e){ta(e[8])}function ia(e,t,n){St(0),t(e,n)}const oa=vs;function sa(e){return e[7]||(e[7]=[])}function aa(e){return e.cleanup||(e.cleanup=[])}function ua(e,t,n){return(null===e||Se(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function ca(e,t){const n=e[9],r=n?n.get(Xi,null):null;r&&r.handleError(t)}function la(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ha(e,t,n){const r=Ge(t,e);Eo(e[11],r,n)}function da(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?i=f(i,e):2==o&&(r=f(r,e+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function fa(e){const t=qi(e);na(t[1],t,e)}function pa(e){!function(e,t){if(0===e.flags&&e.clean==vs){let t;e.flags|=1,e.clean=new Promise(e=>t=e),e.scheduler(()=>{if(1&e.flags&&(e.flags&=-2,ta(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=vs,t(null)})}}(ea(qi(e))[8])}const ga=new Mn("INJECTOR",-1);class ma{get(e,t=ur){if(t===ur){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const ya=new Mn("Set Injector scope."),va={},ba={};let wa;function _a(){return void 0===wa&&(wa=new ma),wa}function Ca(e,t=null,n=null,r){const i=Ea(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Ea(e,t=null,n=null,r){return new Ia(e,n,t||_a(),r)}class Ia{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Qn(t,n=>this.processProvider(n,e,t)),Qn([e],e=>this.processInjectorType(e,[],i)),this.records.set(ga,Ta(void 0,this));const o=this.records.get(ya);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ur,n=R.Default){this.assertNotDestroyed();const r=fr(this);try{if(!(n&R.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Mn)&&D(e);t=n&&this.injectableDefInScope(n)?Ta(Sa(e),va):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&R.Self?_a():this.parent).get(e,t=n&R.Optional&&t===ur?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[lr]&&i.unshift(t[lr]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(cr,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{fr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=A(e);const i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!s){let e;n.push(o);try{Qn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Qn(r,e=>this.processProvider(e,n,r||W))}}this.injectorDefTypes.add(o);const a=De(o)||(()=>new o);this.records.set(o,Ta(a,va));const u=r.providers;if(null!=u&&!s){const t=e;Qn(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=xa(e=m(e))?e:m(e&&e.provide);const i=function(e,t,n){return Aa(e)?Ta(void 0,e.useValue):Ta(Da(e),va)}(e);if(xa(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Ta(void 0,va,!0),t.factory=()=>vr(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===va&&(t.value=ba,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Sa(e){const t=D(e),n=null!==t?t.factory:De(e);if(null!==n)return n;if(e instanceof Mn)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Jn(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[x]||e[N]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Da(e,t,n){let r;if(xa(e)){const t=m(e);return De(t)||Sa(t)}if(Aa(e))r=()=>m(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...vr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>gr(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return De(t)||Sa(t);r=()=>new t(...vr(e.deps))}var i;return r}function Ta(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Aa(e){return null!==e&&"object"==typeof e&&hr in e}function xa(e){return"function"==typeof e}function ka(e,t,n){return Ca({name:n},t,e,n)}const Na=ka;class Oa{static create(e,t){return Array.isArray(e)?Na(e,t,""):Na(e.providers,e.parent,e.name||"")}}function Ra(e){Ha(e);const t=Ui(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];return 2&n.flags?t[n.directiveStart]:null}(t.nodeIndex,t.lView)),t.component)}function Fa(e){Ha(e);const t=Ui(e);return null===t?null:t.lView[8]}function Pa(e){const t=Ui(e);if(null===t)return null;let n,r=t.lView;for(;2===r[1].type&&(n=mo(r));)r=n;return 512&r[2]?null:r[8]}function Ma(e){return[...yo(e).components]}function La(e){const t=Ui(e);return null===t?Oa.NULL:new En(t.lView[1].data[t.nodeIndex],t.lView)}function Va(e){if(e instanceof Text)return[];const t=Ui(e);if(null===t)return[];const n=t.lView,r=n[1],i=t.nodeIndex;return(null==r?void 0:r.data[i])?(void 0===t.directives&&(t.directives=Wi(i,n,!1)),null===t.directives?[]:[...t.directives]):[]}function ja(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=pe(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?j.OnPush:j.Default};const r=ge(t);return r?{inputs:r.inputs,outputs:r.outputs}:null}function Ua(e){return Ui(e).native}function Ba(e){Ha(e);const t=Ui(e);if(null===t)return[];const n=t.lView,r=n[7],i=n[1].cleanup,o=[];if(i&&r)for(let s=0;s<i.length;){const t=i[s++],a=i[s++];if("string"==typeof t){const u=t,c=He(n[a]),l=r[i[s++]],h=i[s++],d="boolean"==typeof h||h>=0?"dom":"output",f="boolean"==typeof h&&h;e==c&&o.push({element:e,name:u,callback:l,useCapture:f,type:d})}}return o.sort(qa),o}function qa(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function Ha(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function Ga(e){pa(e),Ma(e).forEach(e=>fa(e))}Oa.THROW_IF_NOT_FOUND=ur,Oa.NULL=new ma,Oa.\u0275prov=E({token:Oa,providedIn:"any",factory:()=>gr(ga)}),Oa.__NG_ELEMENT_ID__=-1;let za=!1;function $a(){za||(za=!0,Ka("\u0275setProfiler",Fe),Ka("getDirectiveMetadata",ja),Ka("getComponent",Ra),Ka("getContext",Fa),Ka("getListeners",Ba),Ka("getOwningComponent",Pa),Ka("getHostElement",Ua),Ka("getInjector",La),Ka("getRootComponents",Ma),Ka("getDirectives",Va),Ka("applyChanges",Ga))}function Ka(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=K;if(n){let r=n.ng;r||(r=n.ng={}),r[e]=t}}}function Qa(e,t={}){const n=t.rendererFactory||qe,r=t.sanitizer||null,i=pe(e);i.type!=e&&(i.type=e);const o=i.selectors[0][0],s=Rs(n.createRenderer(null,null),t.host||o,i.encapsulation),a=i.onPush?576:528,u=Ja(t.scheduler,t.playerHandler),c=n.createRenderer(s,i),l=Os(0,null,null,1,0,null,null,null,null,null),h=ws(null,l,u,a,null,null,n,c,null,t.injector||null);let d;At(h);try{n.begin&&n.begin(),d=Za(Wa(s,i,h,n,c,r),i,h,u,t.hostFeatures||null),Is(l,h,null),Ss(l,h,null,null)}finally{Rt(),n.end&&n.end()}return d}function Wa(e,t,n,r,i,o){const s=n[1];n[20]=e;const a=_s(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(da(a,u,!0),null!==e&&(Wt(i,e,u),null!==a.classes&&Zo(i,e,a.classes),null!==a.styles&&Wo(i,e,a.styles)));const c=r.createRenderer(e,t),l=ws(n,Ns(t),null,t.onPush?64:16,n[20],a,r,c,o||null,null);return s.firstCreatePass&&(hn(an(a,n),s,t.type),Us(s,a),qs(a,n.length,1)),Xs(n,l),n[20]=l}function Za(e,t,n,r,i){const o=n[1],s=function(e,t,n){const r=at();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hs(e,r,t,Es(e,t,1,null),n));const i=wn(t,e,r.directiveStart,r);Hi(i,t);const o=ze(r,t);return o&&Hi(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries){const e=at();t.contentQueries(1,s,e.directiveStart)}const a=at();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Mt(a.index),Vs(n[1],a,0,a.directiveStart,a.directiveEnd,t),js(t,s)),s}function Ja(e,t){return{components:[],scheduler:e||ao,clean:oa,playerHandler:t||null,flags:0}}function Ya(e,t){Bt(zi(e)[1],at())}function Xa(e){return yo(e).clean}function eu(e){return Object.getPrototypeOf(e.prototype).constructor}function tu(e){let t=eu(e.type),n=!0;const r=[e];for(;t;){let i;if(Se(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=nu(e.inputs),t.declaredInputs=nu(e.declaredInputs),t.outputs=nu(e.outputs);const n=i.hostBindings;n&&ou(e,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ru(e,o),s&&iu(e,s),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),Se(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===tu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Yt(i.hostAttrs,n=Yt(n,i.hostAttrs))}}(r)}function nu(e){return e===Q?{}:e===W?[]:e}function ru(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function iu(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function ou(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const su=["providersResolver"],au=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function uu(e){let t,n=eu(e.type);t=Se(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of su)r[i]=t[i];if(Se(t))for(const i of au)r[i]=t[i]}let cu=null;function lu(){if(!cu){const e=K.Symbol;if(e&&e.iterator)cu=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(cu=n)}}}return cu}function hu(e,t){const n=fu(e),r=fu(t);if(n&&r)return function(e,t,n){const r=e[lu()](),i=t[lu()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,hu);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Object.is(e,t)}}class du{constructor(e){this.wrapped=e}static wrap(e){return new du(e)}static unwrap(e){return du.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof du}}function fu(e){return!!pu(e)&&(Array.isArray(e)||!(e instanceof Map)&&lu()in e)}function pu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function gu(e,t,n){return e[t]=n}function mu(e,t){return e[t]}function yu(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vu(e,t,n,r){const i=yu(e,t,n);return yu(e,t+1,r)||i}function bu(e,t,n,r,i){const o=vu(e,t,n,r);return yu(e,t+2,i)||o}function wu(e,t,n,r,i,o){const s=vu(e,t,n,r);return vu(e,t+2,i,o)||s}function _u(e,t,n,r){const i=it();return yu(i,vt(),t)&&(ot(),zs(Lt(),i,e,t,n,r)),_u}function Cu(e,t){let n=!1,r=mt();for(let o=1;o<t.length;o+=2)n=yu(e,r++,t[o])||n;if(yt(r),!n)return cs;let i=t[0];for(let o=1;o<t.length;o+=2)i+=b(t[o])+t[o+1];return i}function Eu(e,t,n,r){return yu(e,vt(),n)?t+b(n)+r:cs}function Iu(e,t,n,r,i,o){const s=vu(e,mt(),n,i);return bt(2),s?t+b(n)+r+b(i)+o:cs}function Su(e,t,n,r,i,o,s,a){const u=bu(e,mt(),n,i,s);return bt(3),u?t+b(n)+r+b(i)+o+b(s)+a:cs}function Du(e,t,n,r,i,o,s,a,u,c){const l=wu(e,mt(),n,i,s,u);return bt(4),l?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c:cs}function Tu(e,t,n,r,i,o,s,a,u,c,l,h){const d=mt();let f=wu(e,d,n,i,s,u);return f=yu(e,d+4,l)||f,bt(5),f?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h:cs}function Au(e,t,n,r,i,o,s,a,u,c,l,h,d,f){const p=mt();let g=wu(e,p,n,i,s,u);return g=vu(e,p+4,l,d)||g,bt(6),g?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(d)+f:cs}function xu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g){const m=mt();let y=wu(e,m,n,i,s,u);return y=bu(e,m+4,l,d,p)||y,bt(7),y?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(d)+f+b(p)+g:cs}function ku(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y){const v=mt();let w=wu(e,v,n,i,s,u);return w=wu(e,v+4,l,d,p,m)||w,bt(8),w?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(d)+f+b(p)+g+b(m)+y:cs}function Nu(e,t,n,r,i,o){const s=it(),a=Eu(s,t,n,r);return a!==cs&&zs(Lt(),s,e,a,i,o),Nu}function Ou(e,t,n,r,i,o,s,a){const u=it(),c=Iu(u,t,n,r,i,o);return c!==cs&&zs(Lt(),u,e,c,s,a),Ou}function Ru(e,t,n,r,i,o,s,a,u,c){const l=it(),h=Su(l,t,n,r,i,o,s,a);return h!==cs&&zs(Lt(),l,e,h,u,c),Ru}function Fu(e,t,n,r,i,o,s,a,u,c,l,h){const d=it(),f=Du(d,t,n,r,i,o,s,a,u,c);return f!==cs&&zs(Lt(),d,e,f,l,h),Fu}function Pu(e,t,n,r,i,o,s,a,u,c,l,h,d,f){const p=it(),g=Tu(p,t,n,r,i,o,s,a,u,c,l,h);return g!==cs&&zs(Lt(),p,e,g,d,f),Pu}function Mu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g){const m=it(),y=Au(m,t,n,r,i,o,s,a,u,c,l,h,d,f);return y!==cs&&zs(Lt(),m,e,y,p,g),Mu}function Lu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y){const v=it(),b=xu(v,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return b!==cs&&zs(Lt(),v,e,b,m,y),Lu}function Vu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,b){const w=it(),_=ku(w,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return _!==cs&&zs(Lt(),w,e,_,v,b),Vu}function ju(e,t,n,r){const i=it(),o=Cu(i,t);return o!==cs&&zs(Lt(),i,e,o,n,r),ju}function Uu(e,t,n,r,i,o,s,a){const u=it(),c=ot(),l=e+ve,h=c.firstCreatePass?function(e,t,n,r,i,o,s,a,u){const c=t.consts,l=_s(t,e,4,s||null,Je(c,a));Ls(t,n,l,Je(c,u)),Bt(t,l);const h=l.tViews=Os(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,s):c.data[l];lt(h,!1);const d=u[11].createComment("");Bo(c,u,d,h),Hi(d,u),Xs(u,u[l]=Ws(d,u,d,h)),Ie(h)&&xs(c,u,h),null!=s&&ks(u,h,a)}function Bu(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function qu(e){return Ke(et.lFrame.contextLView,ve+e)}const Hu={"\u0275\u0275defineInjectable":E,"\u0275\u0275defineInjector":S,"\u0275\u0275inject":gr,"\u0275\u0275invalidFactoryDep":mr,resolveForwardRef:m},Gu=l({provide:String,useValue:l});function zu(e){return void 0!==e.useClass}function $u(e){return void 0!==e.useFactory}const Ku=kn("Injectable",void 0,void 0,void 0,(e,t)=>Wu(e,t)),Qu=function(e,t){let n=null,r=null;e.hasOwnProperty(x)||Object.defineProperty(e,x,{get:()=>(null===n&&(n=Gn().compileInjectable(Hu,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(zu(n)||$u(n))&&void 0!==n.deps&&(r.deps=xr(n.deps)),zu(n)?r.useClass=n.useClass:function(e){return Gu in e}(n)?r.useValue=n.useValue:$u(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(te)||Object.defineProperty(e,te,{get:()=>{if(null===r){const t=Gn();r=t.compileFactory(Hu,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Ar(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})},Wu=Qu;function Zu(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>d(e.token)).join(" -> ")+")":""}function Ju(e,t,n,r){const i=[t],o=n(i),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(o,r):Error(o);return s.addKey=Yu,s.keys=i,s.injectors=[e],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function Yu(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Xu(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];n.push(e&&0!=e.length?e.map(d).join(" "):"?")}return Error("Cannot resolve all parameters for '"+d(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+d(e)+"' is decorated with Injectable.")}class ec{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=d(this.token)}static get(e){return nc.get(m(e))}static get numberOfKeys(){return nc.numberOfKeys}}class tc{constructor(){this._allKeys=new Map}get(e){if(e instanceof ec)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new ec(e,ec.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}}const nc=new tc;class rc{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}const ic=new rc(new or);class oc{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new oc(e,!1,null)}}const sc=[];class ac{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class uc{constructor(e,t){this.factory=e,this.dependencies=t}}function cc(e){let t,n;if(e.useClass){const r=m(e.useClass);t=ic.factory(r),n=fc(r)}else e.useExisting?(t=e=>e,n=[oc.fromKey(ec.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>pc(e,t,n))}return fc(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=sc);return new uc(t,n)}function lc(e){return new ac(ec.get(e.provide),[cc(e)],e.multi||!1)}function hc(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new ac(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(dc(e,[]).map(lc),new Map);return Array.from(t.values())}function dc(e,t){return e.forEach(e=>{if(e instanceof zn)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);dc(e,t)}}),t}function fc(e){const t=ic.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw Xu(e,t);return t.map(n=>pc(e,n,t))}function pc(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return gc(t instanceof _r?t.token:t,i,null);let o=null;for(let s=0;s<t.length;++s){const e=t[s];e instanceof zn?r=e:e instanceof _r?r=e.token:e instanceof Cr?i=!0:e instanceof Er||e instanceof Ir?o=e:e instanceof Mn&&(r=e)}if(r=m(r),null!=r)return gc(r,i,o);throw Xu(e,n)}function gc(e,t,n){return new oc(ec.get(e),t,n)}const mc={};class yc{static resolve(e){return hc(e)}static resolveAndCreate(e,t){const n=yc.resolve(e);return yc.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new vc(e,t)}}let vc=(()=>{class e{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=mc}get(e,t=ur){return this._getByKey(ec.get(e),null,t)}resolveAndCreateChild(e){const t=yc.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(t){const n=new e(t);return n.parent=this,n}resolveAndInstantiate(e){return this.instantiateResolved(yc.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Ju(this,e.key,function(e){return`Cannot instantiate cyclic dependency!${Zu(e)}`});return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(s){throw s.addKey&&s.addKey(this,e.key),s}try{i=n(...r)}catch(s){throw Ju(this,e.key,function(e){const t=d(e[0].token);return`${o.message}: Error during instantiation of ${t}!${Zu(e)}.`},o=s)}var o;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:ur)}_getByKey(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof Er?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===mc&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return mc}_throwOrNull(e,t){if(t!==ur)return t;throw function(e,t){return Ju(e,t,function(e){return`No provider for ${d(e[0].token)}!${Zu(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==mc?n:this._throwOrNull(e,t)}_getByKeyDefault(t,n,r){let i;for(i=r instanceof Ir?this.parent:this;i instanceof e;){const e=i,n=e._getObjByKeyId(t.id);if(n!==mc)return n;i=e.parent}return null!==i?i.get(t.token,n):this._throwOrNull(t,n)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let r=0;r<e._providers.length;++r)n[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=ec.get(Oa),e})();function bc(e,t=R.Default){const n=it();return null===n?gr(e,t):gn(at(),n,m(e),t)}function wc(){throw new Error("invalid")}function _c(e,t,n){const r=it();return yu(r,vt(),t)&&Ms(ot(),Lt(),r,e,t,r[11],n,!1),_c}function Cc(e,t,n,r,i){const o=i?"class":"style";la(e,n,t.inputs[o],o,r)}function Ec(e,t,n,r){const i=it(),o=ot(),s=ve+e,a=i[11],u=i[s]=So(a,t,et.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){const a=t.consts,u=_s(t,e,2,i,Je(a,o));return Ls(t,n,u,Je(a,s)),null!==u.attrs&&da(u,u.attrs,!1),null!==u.mergedAttrs&&da(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];lt(c,!0);const l=c.mergedAttrs;null!==l&&Wt(a,u,l);const h=c.classes;null!==h&&Zo(a,u,h);const d=c.styles;null!==d&&Wo(a,u,d),64!=(64&c.flags)&&Bo(o,i,u,c),0===et.lFrame.elementDepthCount&&Hi(u,i),et.lFrame.elementDepthCount++,Ie(c)&&(xs(o,i,c),As(o,c,i)),null!==r&&ks(i,c)}function Ic(){let e=at();ht()?dt():(e=e.parent,lt(e,!1));const t=e;et.lFrame.elementDepthCount--;const n=ot();n.firstCreatePass&&(Bt(n,e),Ce(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Cc(n,t,it(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Cc(n,t,it(),t.stylesWithoutHost,!1)}function Sc(e,t,n,r){Ec(e,t,n,r),Ic()}function Dc(e,t,n){const r=it(),i=ot(),o=e+ve,s=i.firstCreatePass?function(e,t,n,r,i){const o=t.consts,s=Je(o,r),a=_s(t,e,8,"ng-container",s);return null!==s&&da(a,s,!0),Ls(t,n,a,Je(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];lt(s,!0);const a=r[o]=r[11].createComment("");Bo(i,r,a,s),Hi(a,r),Ie(s)&&(xs(i,r,s),As(i,s,r)),null!=n&&ks(r,s)}function Tc(){let e=at();const t=ot();ht()?dt():(e=e.parent,lt(e,!1)),t.firstCreatePass&&(Bt(t,e),Ce(e)&&t.queries.elementEnd(e))}function Ac(e,t,n){Dc(e,t,n),Tc()}function xc(){return it()}function kc(e){return!!e&&"function"==typeof e.then}function Nc(e){return!!e&&"function"==typeof e.subscribe}const Oc=Nc;function Rc(e,t,n,r){const i=it(),o=ot(),s=at();return Pc(o,i,i[11],s,e,t,!!n,r),Rc}function Fc(e,t){const n=at(),r=it(),i=ot();return Pc(i,r,ua(Et(i.data),n,r),n,e,t,!1),Fc}function Pc(e,t,n,r,i,o,s,a){const u=Ie(r),c=e.firstCreatePass&&aa(e),l=t[8],h=sa(t);let d=!0;if(3&r.type||a){const f=ze(r,t),p=a?a(f):f,g=h.length,m=a?e=>a(He(e[r.index])):r.index;if(Be(n)){let s=null;if(!a&&u&&(s=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const e=i[o];if(e===n&&i[o+1]===r){const e=t[7],n=i[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,d=!1;else{o=Lc(r,t,l,o,!1);const e=n.listen(p,i,o);h.push(o,e),c&&c.push(i,m,g,g+1)}}else o=Lc(r,t,l,o,!0),p.addEventListener(i,o,s),h.push(o),c&&c.push(i,m,g,s)}else o=Lc(r,t,l,o,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(o),s=h.length;h.push(o,e),c&&c.push(i,r.index,s,-(s+1))}}}function Mc(e,t,n,r){try{return Pe(6,t,n),!1!==n(r)}catch(i){return ca(e,i),!1}finally{Pe(7,t,n)}}function Lc(e,t,n,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?Qe(e.index,t):t;0==(32&t[2])&&ea(a);let u=Mc(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Mc(t,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Vc(e=1){return Ft(e)}function jc(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?os(e,o,!0):ss(r,o))return i}else n=i}return n}function Uc(e){const t=it()[16][6];if(!t.projection){const n=t.projection=Jn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?jc(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Bc(e,t=0,n){const r=it(),i=ot(),o=_s(i,ve+e,16,null,n||null);null===o.projection&&(o.projection=t),dt(),64!=(64&o.flags)&&function(e,t,n){Qo(t[11],0,t,n,ko(e,n,t),Mo(n.parent||t[6],n,t))}(i,r,o)}function qc(e,t,n){return Hc(e,"",t,"",n),qc}function Hc(e,t,n,r,i){const o=it(),s=Eu(o,t,n,r);return s!==cs&&Ms(ot(),Lt(),o,e,s,o[11],i,!1),Hc}function Gc(e,t,n,r,i,o,s){const a=it(),u=Iu(a,t,n,r,i,o);return u!==cs&&Ms(ot(),Lt(),a,e,u,a[11],s,!1),Gc}function zc(e,t,n,r,i,o,s,a,u){const c=it(),l=Su(c,t,n,r,i,o,s,a);return l!==cs&&Ms(ot(),Lt(),c,e,l,c[11],u,!1),zc}function $c(e,t,n,r,i,o,s,a,u,c,l){const h=it(),d=Du(h,t,n,r,i,o,s,a,u,c);return d!==cs&&Ms(ot(),Lt(),h,e,d,h[11],l,!1),$c}function Kc(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=it(),p=Tu(f,t,n,r,i,o,s,a,u,c,l,h);return p!==cs&&Ms(ot(),Lt(),f,e,p,f[11],d,!1),Kc}function Qc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=it(),m=Au(g,t,n,r,i,o,s,a,u,c,l,h,d,f);return m!==cs&&Ms(ot(),Lt(),g,e,m,g[11],p,!1),Qc}function Wc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=it(),v=xu(y,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return v!==cs&&Ms(ot(),Lt(),y,e,v,y[11],m,!1),Wc}function Zc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v){const b=it(),w=ku(b,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return w!==cs&&Ms(ot(),Lt(),b,e,w,b[11],v,!1),Zc}function Jc(e,t,n){const r=it(),i=Cu(r,t);return i!==cs&&Ms(ot(),Lt(),r,e,i,r[11],n,!1),Jc}function Yc(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?fs(o):gs(o),u=!1;for(;0!==a&&(!1===u||s);){const n=e[a+1];Xc(e[a],t)&&(u=!0,e[a+1]=r?ys(n):ps(n)),a=r?fs(n):gs(n)}u&&(e[n+1]=r?ps(o):ys(o))}function Xc(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&er(e,t)>=0}const el={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tl(e){return e.substring(el.key,el.keyEnd)}function nl(e){return e.substring(el.value,el.valueEnd)}function rl(e,t){const n=el.textEnd;return n===t?-1:(t=el.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,el.key=t,n),sl(e,t,n))}function il(e,t){const n=el.textEnd;let r=el.key=sl(e,t,n);return n===r?-1:(r=el.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=al(e,r,n),r=el.value=sl(e,r,n),r=el.valueEnd=function(e,t,n){let r=-1,i=-1,o=-1,s=t,a=s;for(;s<n;){const u=e.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=ul(e,u,s,n):t===s-4&&85===o&&82===i&&76===r&&40===u?a=s=ul(e,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(e,r,n),al(e,r,n))}function ol(e){el.key=0,el.keyEnd=0,el.value=0,el.valueEnd=0,el.textEnd=e.length}function sl(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function al(e,t,n,r){return(t=sl(e,t,n))<n&&t++,t}function ul(e,t,n,r){let i=-1,o=n;for(;o<r;){const n=e.charCodeAt(o++);if(n==t&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function cl(e,t,n){return gl(e,t,n,!1),cl}function ll(e,t){return gl(e,t,null,!0),ll}function hl(e){ml(_l,dl,e,!1)}function dl(e,t){for(let n=function(e){return ol(e),il(e,sl(e,0,el.textEnd))}(t);n>=0;n=il(t,n))_l(e,tl(t),nl(t))}function fl(e){ml(Yn,pl,e,!0)}function pl(e,t){for(let n=function(e){return ol(e),rl(e,sl(e,0,el.textEnd))}(t);n>=0;n=rl(t,n))Yn(e,tl(t),!0)}function gl(e,t,n,r){const i=it(),o=ot(),s=bt(2);o.firstUpdatePass&&vl(o,e,s,r),t!==cs&&yu(i,s,t)&&Cl(o,o.data[Pt()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(Zr(e)))),e}(t,n),r,s)}function ml(e,t,n,r){const i=ot(),o=bt(2);i.firstUpdatePass&&vl(i,null,o,r);const s=it();if(n!==cs&&yu(s,o,n)){const a=i.data[Pt()];if(Sl(a,r)&&!yl(i,o)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=f(e,n||"")),Cc(i,a,s,n,r)}else!function(e,t,n,r,i,o,s,a){i===cs&&(i=W);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Cl(e,t,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return W;const r=[],i=Zr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function yl(e,t){return t>=e.expandoStartIndex}function vl(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Pt()],s=yl(e,n);Sl(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const i=Et(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=wl(n=bl(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=bl(i,e,t,n,r),null===o){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==gs(r))return e[fs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=bl(null,e,t,n[1],r),n=wl(n,t.attrs,r),function(e,t,n,r){e[fs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else o=function(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=wl(r,e[o].hostAttrs,n);return wl(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=fs(s),u=gs(s);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||er(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=fs(e[a+1]);e[r+1]=ds(t,a),0!==t&&(e[t+1]=ms(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=ds(a,0),0!==a&&(e[a+1]=ms(e[a+1],r)),a=r;else e[r+1]=ds(u,0),0===a?a=r:e[u+1]=ms(e[u+1],r),u=r;l&&(e[r+1]=ps(e[r+1])),Yc(e,c,r,!0),Yc(e,c,r,!1),function(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&er(o,t)>=0&&(n[r+1]=ys(n[r+1]))}(t,c,e,r,o),s=ds(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function bl(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=wl(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function wl(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Yn(e,s,!!n||t[++o]))}return void 0===e?null:e}function _l(e,t,n){Yn(e,t,Zr(n))}function Cl(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Il(1==(1&c)?El(u,t,n,i,gs(c),s):void 0)||(Il(o)||2==(2&c)&&(o=El(u,null,n,i,a,s)),function(e,t,n,r,i){const o=Be(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:fo.DashCase;if(null==i)o?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),t|=fo.Important),o?e.setStyle(n,r,i,t):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Ge(Pt(),n),i,o))}function El(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const t=e[i],o=Array.isArray(t),u=o?t[1]:t,c=null===u;let l=n[i+1];l===cs&&(l=c?W:void 0);let h=c?Xn(l,r):u===r?l:void 0;if(o&&!Il(h)&&(h=Xn(t,r)),Il(h)&&(a=h,s))return a;const d=e[i+1];i=s?fs(d):gs(d)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(a=Xn(e,r))}return a}function Il(e){return void 0!==e}function Sl(e,t){return 0!=(e.flags&(t?16:32))}function Dl(e,t=""){const n=it(),r=ot(),i=e+ve,o=r.firstCreatePass?_s(r,i,1,t,null):r.data[i],s=n[i]=Co(n[11],t);Bo(r,n,s,o),lt(o,!1)}function Tl(e){return Al("",e,""),Tl}function Al(e,t,n){const r=it(),i=Eu(r,e,t,n);return i!==cs&&ha(r,Pt(),i),Al}function xl(e,t,n,r,i){const o=it(),s=Iu(o,e,t,n,r,i);return s!==cs&&ha(o,Pt(),s),xl}function kl(e,t,n,r,i,o,s){const a=it(),u=Su(a,e,t,n,r,i,o,s);return u!==cs&&ha(a,Pt(),u),kl}function Nl(e,t,n,r,i,o,s,a,u){const c=it(),l=Du(c,e,t,n,r,i,o,s,a,u);return l!==cs&&ha(c,Pt(),l),Nl}function Ol(e,t,n,r,i,o,s,a,u,c,l){const h=it(),d=Tu(h,e,t,n,r,i,o,s,a,u,c,l);return d!==cs&&ha(h,Pt(),d),Ol}function Rl(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=it(),p=Au(f,e,t,n,r,i,o,s,a,u,c,l,h,d);return p!==cs&&ha(f,Pt(),p),Rl}function Fl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=it(),m=xu(g,e,t,n,r,i,o,s,a,u,c,l,h,d,f,p);return m!==cs&&ha(g,Pt(),m),Fl}function Pl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=it(),v=ku(y,e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m);return v!==cs&&ha(y,Pt(),v),Pl}function Ml(e){const t=it(),n=Cu(t,e);return n!==cs&&ha(t,Pt(),n),Ml}function Ll(e,t,n){ml(Yn,pl,Eu(it(),e,t,n),!0)}function Vl(e,t,n,r,i){ml(Yn,pl,Iu(it(),e,t,n,r,i),!0)}function jl(e,t,n,r,i,o,s){ml(Yn,pl,Su(it(),e,t,n,r,i,o,s),!0)}function Ul(e,t,n,r,i,o,s,a,u){ml(Yn,pl,Du(it(),e,t,n,r,i,o,s,a,u),!0)}function Bl(e,t,n,r,i,o,s,a,u,c,l){ml(Yn,pl,Tu(it(),e,t,n,r,i,o,s,a,u,c,l),!0)}function ql(e,t,n,r,i,o,s,a,u,c,l,h,d){ml(Yn,pl,Au(it(),e,t,n,r,i,o,s,a,u,c,l,h,d),!0)}function Hl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){ml(Yn,pl,xu(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p),!0)}function Gl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){ml(Yn,pl,ku(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m),!0)}function zl(e){ml(Yn,pl,Cu(it(),e),!0)}function $l(e,t,n){hl(Eu(it(),e,t,n))}function Kl(e,t,n,r,i){hl(Iu(it(),e,t,n,r,i))}function Ql(e,t,n,r,i,o,s){hl(Su(it(),e,t,n,r,i,o,s))}function Wl(e,t,n,r,i,o,s,a,u){hl(Du(it(),e,t,n,r,i,o,s,a,u))}function Zl(e,t,n,r,i,o,s,a,u,c,l){hl(Tu(it(),e,t,n,r,i,o,s,a,u,c,l))}function Jl(e,t,n,r,i,o,s,a,u,c,l,h,d){hl(Au(it(),e,t,n,r,i,o,s,a,u,c,l,h,d))}function Yl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){hl(xu(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p))}function Xl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){hl(ku(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m))}function eh(e){hl(Cu(it(),e))}function th(e,t,n,r,i){return gl(e,Eu(it(),t,n,r),i,!1),th}function nh(e,t,n,r,i,o,s){return gl(e,Iu(it(),t,n,r,i,o),s,!1),nh}function rh(e,t,n,r,i,o,s,a,u){return gl(e,Su(it(),t,n,r,i,o,s,a),u,!1),rh}function ih(e,t,n,r,i,o,s,a,u,c,l){return gl(e,Du(it(),t,n,r,i,o,s,a,u,c),l,!1),ih}function oh(e,t,n,r,i,o,s,a,u,c,l,h,d){return gl(e,Tu(it(),t,n,r,i,o,s,a,u,c,l,h),d,!1),oh}function sh(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){return gl(e,Au(it(),t,n,r,i,o,s,a,u,c,l,h,d,f),p,!1),sh}function ah(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){return gl(e,xu(it(),t,n,r,i,o,s,a,u,c,l,h,d,f,p,g),m,!1),ah}function uh(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v){return gl(e,ku(it(),t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y),v,!1),uh}function ch(e,t,n){return gl(e,Cu(it(),t),n,!1),ch}function lh(e,t,n){const r=it();return yu(r,vt(),t)&&Ms(ot(),Lt(),r,e,t,r[11],n,!0),lh}function hh(e,t,n){const r=it();if(yu(r,vt(),t)){const i=ot(),o=Lt();Ms(i,o,r,e,t,ua(Et(i.data),o,r),n,!0)}return hh}const dh=void 0;var fh=["en",[["a","p"],["AM","PM"],dh],[["AM","PM"],dh,dh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dh,"{1} 'at' {0}",dh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let ph={};function gh(e,t,n){"string"!=typeof t&&(n=t,t=e[_h.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ph[t]=e,n&&(ph[t][_h.ExtraData]=n)}function mh(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=bh(t);if(n)return n;const r=t.split("-")[0];if(n=bh(r),n)return n;if("en"===r)return fh;throw new Error(`Missing locale data for the locale "${e}".`)}function yh(e){return mh(e)[_h.CurrencyCode]||null}function vh(e){return mh(e)[_h.PluralCase]}function bh(e){return e in ph||(ph[e]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[e]),ph[e]}function wh(){ph={}}var _h=(()=>((_h=_h||{})[_h.LocaleId=0]="LocaleId",_h[_h.DayPeriodsFormat=1]="DayPeriodsFormat",_h[_h.DayPeriodsStandalone=2]="DayPeriodsStandalone",_h[_h.DaysFormat=3]="DaysFormat",_h[_h.DaysStandalone=4]="DaysStandalone",_h[_h.MonthsFormat=5]="MonthsFormat",_h[_h.MonthsStandalone=6]="MonthsStandalone",_h[_h.Eras=7]="Eras",_h[_h.FirstDayOfWeek=8]="FirstDayOfWeek",_h[_h.WeekendRange=9]="WeekendRange",_h[_h.DateFormat=10]="DateFormat",_h[_h.TimeFormat=11]="TimeFormat",_h[_h.DateTimeFormat=12]="DateTimeFormat",_h[_h.NumberSymbols=13]="NumberSymbols",_h[_h.NumberFormats=14]="NumberFormats",_h[_h.CurrencyCode=15]="CurrencyCode",_h[_h.CurrencySymbol=16]="CurrencySymbol",_h[_h.CurrencyName=17]="CurrencyName",_h[_h.Currencies=18]="Currencies",_h[_h.Directionality=19]="Directionality",_h[_h.PluralCase=20]="PluralCase",_h[_h.ExtraData=21]="ExtraData",_h))();const Ch=["zero","one","two","few","many"],Eh="en-US",Ih="USD",Sh={marker:"element"},Dh={marker:"ICU"};var Th=(()=>((Th=Th||{})[Th.SHIFT=2]="SHIFT",Th[Th.APPEND_EAGERLY=1]="APPEND_EAGERLY",Th[Th.COMMENT=2]="COMMENT",Th))();let Ah=Eh;function xh(e){var t;null==(t=e)&&C("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Ah=e.toLowerCase().replace(/_/g,"-"))}function kh(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Lo(e,0,n):He(n[i])}function Nh(e,t,n,r,i){const o=t.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&t.type||(a=s,s=i),null!==s&&0==(2&t.flags))for(let t=1;t<o.length;t++)Oo(e,s,n[o[t]],a,!1)}}function Oh(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Rh(r)||Fh(r,t)&&null===Ph(r)&&Mh(r,t.index)}}function Rh(e){return!(64&e.type)}function Fh(e,t){return Rh(t)||e.index>t.index}function Ph(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Mh(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Uo(kh,Nh),e.insertBeforeIndex=t)}function Lh(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Vh(e,t,n){const r=Cs(e,n,64,null,null);return Oh(t,r),r}function jh(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Uh=0,Bh=0;function qh(e,t,n,r){const i=n[11];let o,s=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(n[e]=Co(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Po(i,r)),c===s?(l=r,h=o):(l=null,h=He(n[c])),null!==h){const t=(131070&u)>>>1;Oo(i,h,n[t],l,!1);const r=Lh(e,t);if(null!==r&&"object"==typeof r){const t=jh(r,n);null!==t&&qh(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],f=t[++a];$s(i,Ge(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Dh:const e=t[++a],r=t[++a];null===n[r]&&Hi(n[r]=Io(i,e),n);break;case Sh:const o=t[++a],s=t[++a];null===n[s]&&Hi(n[s]=So(i,o,null),n)}}}function Hh(e,t,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=b(t[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=e.data[a];"string"==typeof c?$s(t[11],t[a],null,c,o,i,u):Ms(e,c,t,o,i,t[11],u,!1);break;case 0:const l=t[a];null!==l&&Eo(t[11],l,i);break;case 2:zh(e,Lh(e,a),t,i);break;case 3:Gh(e,Lh(e,a),r,t)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Lh(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Gh(e,n,r,t)}}o+=a}}function Gh(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let o=Uh;i<0&&(i=r[t.currentCaseLViewIndex]=~i,o=-1),Hh(e,r,t.update[i],n,o)}}function zh(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=vh(t)(parseInt(e,10)),r=Ch[n];return void 0!==r?r:"other"}(t,Ah);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(jh(t,n)!==i&&($h(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&qh(e,t.create[i],n,r)}}function $h(e,t,n){let r=jh(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Ge(r,n);null!==e&&zo(n[11],e)}else $h(e,Lh(e,~r),n)}}}const Kh=/\ufffd(\d+):?\d*\ufffd/gi,Qh=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Wh=/\ufffd(\d+)\ufffd/,Zh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Jh=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Yh=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Xh=/\uE500/g;function ed(e,t,n,r,i,o,s){const a=Es(e,r,1,null);let u=a<<Th.SHIFT,c=ct();t===c&&(c=null),null===c&&(u|=Th.APPEND_EAGERLY),s&&(u|=Th.COMMENT,void 0===po&&(po=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=jh(e,t);n=null!==i?e.remove[i]:W}function o(){if(r<n.length){const s=n[r++];return s>0?t[s]:(e.push(r,n),i(t[1].data[~s],t),o())}return 0===e.length?null:(n=e.pop(),r=e.pop(),o())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Cs(e,a,s?32:1,null===o?"":o,null);Oh(n,l);const h=l.index;return lt(l,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Uo(kh,Nh),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&C("Expecting array here",r,true,"=="),n.push(t))}(c,h),l}function td(e,t,n,r,i,o,s){const a=s.match(Kh),u=ed(e,t,n,o,r,a?null:s,!1);a&&nd(i,s,u.index,null,0,null)}function nd(e,t,n,r,i,o){const s=e.length,a=s+1;e.push(null,null);const u=s+2,c=t.split(Kh);let l=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),l|=id(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,o),e[s]=l,e[a]=e.length-u,l}function rd(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function id(e){return 1<<Math.min(e,31)}function od(e){let t,n,r="",i=0,o=!1;for(;null!==(t=Jh.exec(e));)o?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i),r}function sd(e,t,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Es(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(id(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,o),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let e=0;e<o.length;e++){const t=o[e];if("string"!=typeof t){const n=l.push(t)-1;o[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=cd(e,a,t,n,r,i.cases[c],o.join(""),l)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,o)}function ad(e){const t=[],n=[];let r=1,i=0;const o=ud(e=e.replace(Zh,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let s=0;s<o.length;){let e=o[s++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=ud(o[s++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function ud(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(e);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);Zh.test(n)?r.push(ad(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function cd(e,t,n,r,i,o,s,a){const u=[],c=[],l=[];t.cases.push(o),t.create.push(u),t.remove.push(c),t.update.push(l);const h=ii(Ue()).getInertBodyElement(s),d=Ai(h)||h;return d?ld(e,t,n,r,u,c,l,d,i,a,0):0}function ld(e,t,n,r,i,o,s,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Es(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(yi.hasOwnProperty(p)){fd(i,Sh,p,u,a),e.data[a]=p;const g=f.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(Kh)?wi.hasOwnProperty(n)&&nd(s,t.value,a,t.name,0,vi[n]?ci:bi[n]?li:null):pd(i,a,t)}h=ld(e,t,n,r,i,o,s,d,a,c,l+1)|h,hd(o,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Kh);fd(i,null,m?"":g,u,a),hd(o,a,l),m&&(h=nd(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Wh.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];fd(i,Dh,"",u,a),sd(e,n,r,u,t,a),dd(o,a,l)}}d=d.nextSibling}return h}function hd(e,t,n){0===n&&e.push(t)}function dd(e,t,n){0===n&&(e.push(~t),e.push(t))}function fd(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function pd(e,t,n){e.push(t<<1|1,n.name,n.value)}const gd=/\[(\ufffd.+?\ufffd?)\]/,md=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,yd=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,vd=/{([A-Z0-9_]+)}/g,bd=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,wd=/\/\*/,_d=/\d+\:(\d+)/;function Cd(e,t={}){let n=e;if(gd.test(e)){const e={},t=[0];n=n.replace(md,(n,r,i)=>{const o=r||i,s=e[o]||[];if(s.length||(o.split("|").forEach(e=>{const t=e.match(_d),n=t?parseInt(t[1],10):0,r=wd.test(e);s.push([n,r,e])}),e[o]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const a=t[t.length-1];let u=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){u=e;break}const[c,l,h]=s[u];return l?t.pop():a!==c&&t.push(c),s.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(yd,(e,n,r,i,o,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e),n=n.replace(vd,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(bd,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}function Ed(e,t,n=-1){const r=ot(),i=it(),o=ve+e,s=Je(r.consts,t),a=ct();r.firstCreatePass&&function(e,t,n,r,i,o){const s=ct(),a=[],u=[],c=[[]],l=(h=i=function(e,t){if(function(e){return-1===e}(t))return od(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return od(e.substring(n,r))}}(i,o),h.replace(Xh," ")).split(Yh);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const o=ud(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const t=l;""!==t&&td(e,s,c[0],a,u,n,t)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);sd(e,n,u,t,r,ed(e,s,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),ve+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),lt(ct(),!1);else{const t=Vh(e,c[0],n);c.unshift([]),lt(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=No(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let o=0;o<t.length;o++){const s=t[o++],a=t[o],u=(s&Th.COMMENT)===Th.COMMENT,c=(s&Th.APPEND_EAGERLY)===Th.APPEND_EAGERLY,l=s>>>Th.SHIFT;let h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Co(i,a)),c&&null!==n&&Oo(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),wt(!0)}function Id(){wt(!1)}function Sd(e,t,n){Ed(e,t,n),Id()}function Dd(e,t){const n=ot(),r=Je(n.consts,t);!function(e,t,n){const r=at().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],o=n[e+1];if(""!==o){if(Qh.test(o))throw new Error(`ICU expressions are not supported in attributes. Message: "${o}".`);nd(i,o,r,t,rd(i),null)}}e.data[t]=i}}(n,e+ve,r)}function Td(e){return yu(it(),vt(),e)&&(Uh|=1<<Math.min(Bh,31)),Bh++,Td}function Ad(e){!function(e,t,n){if(Bh>0){const r=e.data[n];Hh(e,t,Array.isArray(r)?r:r.update,mt()-Bh-1,Uh)}Uh=0,Bh=0}(ot(),it(),e+ve)}function xd(e,t={}){return Cd(e,t)}function kd(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let o=0;o<e.length;o++)kd(e[o],t,n,r,i);else{const o=ot(),s=it();let a=xa(e)?e:m(e.provide),u=Da(e);const c=at(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(xa(e)||!e.multi){const r=new Qt(u,i,bc),f=Rd(a,t,i?l:l+d,h);-1===f?(hn(an(c,s),o,a),Nd(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Rd(a,t,l+d,h),p=Rd(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){hn(an(c,s),o,a);const l=function(e,t,n,r,i){const o=new Qt(e,n,bc);return o.multi=[],o.index=t,o.componentProviders=0,Od(o,i,r&&!n),o}(i?Pd:Fd,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Nd(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Nd(o,e,f>-1?f:p,Od(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Nd(e,t,n,r){const i=xa(t);if(i||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[r,o]):s[e+1].push(r,o)}else s.push(n,o)}}}function Od(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Rd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Fd(e,t,n,r){return Md(this.multi,[])}function Pd(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=wn(n,n[1],this.providerFactory.index,r);o=t.slice(0,e),Md(i,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],Md(i,o);return o}function Md(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ld(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=ot();if(r.firstCreatePass){const i=Se(e);kd(n,r.data,r.blueprint,i,!0),kd(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Vd{}class jd{}function Ud(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t[Bd]=e,t}const Bd="ngComponent";class qd{resolveComponentFactory(e){throw Ud(e)}}class Hd{}Hd.NULL=new qd;class Gd{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Ud(e);return new zd(t,this._ngModule)}}class zd extends jd{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function $d(...e){}function Kd(){return Qd(at(),it())}function Qd(e,t){return new Jd(ze(e,t))}const Wd=Kd,Zd=Wd;let Jd=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Zd,e})();function Yd(e){return e instanceof Jd?e.nativeElement:e}class Xd{}let ef=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>nf(),e})();const tf=rf,nf=tf;function rf(){const e=it(),t=Qe(at().index,e);return function(e){return e[11]}(we(t)?t:e)}let of=(()=>{class e{}return e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null}),e})();class sf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const af=new sf("12.1.1");class uf{constructor(){}supports(e){return fu(e)}create(e){return new lf(e)}}const cf=(e,t)=>t;class lf{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cf}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<pf(n,r,i)?t:n,s=pf(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fu(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[lu()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new hf(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ff),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ff),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hf{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class df{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ff{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new df,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pf(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class gf{constructor(){}supports(e){return e instanceof Map||pu(e)}create(){return new mf}}class mf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||pu(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new yf(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class yf{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vf(){return new bf([new uf])}let bf=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||vf()),deps:[[e,new Ir,new Cr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=E({token:e,providedIn:"root",factory:vf}),e})();function wf(){return new _f([new gf])}let _f=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||wf()),deps:[[e,new Ir,new Cr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=E({token:e,providedIn:"root",factory:wf}),e})();function Cf(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(He(o)),_e(o))for(let e=be;e<o.length;e++){const t=o[e],n=t[1].firstChild;null!==n&&Cf(t[1],t,n,r)}const s=n.type;if(8&s)Cf(e,t,n.child,r);else if(32&s){const e=go(n,t);let i;for(;i=e();)r.push(i)}else if(16&s){const e=Ho(t,n);if(Array.isArray(e))r.push(...e);else{const n=mo(t[16]);Cf(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ef{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Cf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(_e(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(To(e,n),Zn(t,n))}this._attachedToViewContainer=!1}Ao(this._lView[1],this._lView)}onDestroy(e){Fs(this._lView[1],this._lView,null,e)}markForCheck(){ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){na(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){pt(!0);try{na(e,t,n)}finally{pt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Ko(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class If extends Ef{constructor(e){super(e),this._view=e}detectChanges(){ra(this._view)}checkNoChanges(){!function(e){pt(!0);try{ra(e)}finally{pt(!1)}}(this._view)}get context(){return null}}const Sf=Af,Df=Sf;let Tf=(()=>{class e{}return e.__NG_ELEMENT_ID__=Df,e})();function Af(e){return function(e,t,n){if(Ee(e)&&!n){const n=Qe(e.index,t);return new Ef(n,n)}return 47&e.type?new Ef(t[16],t):null}(at(),it(),16==(16&e))}const xf=[new gf],kf=new bf([new uf]),Nf=new _f(xf),Of=Lf,Rf=Of;let Ff=(()=>{class e{}return e.__NG_ELEMENT_ID__=Rf,e})();const Pf=Ff,Mf=class extends Pf{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ws(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Is(t,n,e),new Ef(n)}};function Lf(){return Vf(at(),it())}function Vf(e,t){return 4&e.type?new Mf(t,e,Qd(e,t)):null}class jf{}class Uf{}const Bf=Gf,qf=Bf;let Hf=(()=>{class e{}return e.__NG_ELEMENT_ID__=qf,e})();function Gf(){return Wf(at(),it())}const zf=Hf,$f=class extends zf{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const e=ln(this._hostTNode,this._hostLView);if(en(e)){const t=nn(e,this._hostLView),n=tn(e);return new En(t[1].data[n+8],t)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Kf(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-be}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){const e=o.get(jf,null);e&&(i=e)}const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,r=n[1];if(_e(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new $f(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),o=this._lContainer;!function(e,t,n,r){const i=be+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-be?(t[4]=n[i],Wn(n,be+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,o,i);const s=Go(i,o),a=n[11],u=Po(a,o[7]);return null!==u&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,Ko(e,r,n,1,i,o)}(r,o[6],a,n,u,s),e.attachToViewContainerRef(),Wn(Qf(o),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Kf(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=To(this._lContainer,t);n&&(Zn(Qf(this._lContainer),t),Ao(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=To(this._lContainer,t);return n&&null!=Zn(Qf(this._lContainer),t)?new Ef(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Kf(e){return e[8]}function Qf(e){return e[8]||(e[8]=[])}function Wf(e,t){let n;const r=t[e.index];if(_e(r))n=r;else{let i;if(8&e.type)i=He(r);else{const n=t[11];i=n.createComment("");const r=ze(e,t);Oo(n,Po(n,r),i,function(e,t){return Be(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Ws(r,t,i,e),Xs(t,n)}return new $f(n,e,t)}function Zf(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Jf(n,t),n}(i,e)}function Jf(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Yf(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Xf(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function ep(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function tp(e,t){return e.nodes[t]}function np(e,t){return e.nodes[t]}function rp(e,t){return e.nodes[t]}function ip(e,t){return e.nodes[t]}function op(e,t){return e.nodes[t]}class sp{}const ap={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},up=()=>{},cp=new Map;function lp(e){let t=cp.get(e);return t||(t=d(e)+"_"+cp.size,cp.set(e,t)),t}function hp(e,t,n,r){if(du.isWrapped(r)){r=du.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,o=du.unwrap(e.oldValues[i]);e.oldValues[i]=new du(o)}return r}const dp="$$undefined",fp="$$empty";function pp(e){return{id:dp,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let gp=0;function mp(e,t,n,r){return!(!(2&e.state)&&Object.is(e.oldValues[t.bindingIndex+n],r))}function yp(e,t,n,r){return!!mp(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function vp(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!hu(i,r)){const o=t.bindings[n].name;throw Zf(ap.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function bp(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function wp(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function _p(e,t,n,r){try{return bp(33554432&e.def.nodes[t].flags?np(e,t).componentView:e),ap.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Cp(e){return e.parent?np(e.parent,e.parentNodeDef.nodeIndex):null}function Ep(e){return e.parent?e.parentNodeDef.parent:null}function Ip(e,t){switch(201347067&t.flags){case 1:return np(e,t.nodeIndex).renderElement;case 2:return tp(e,t.nodeIndex).renderText}}function Sp(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Dp(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Tp(e){return 1<<e%32}function Ap(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=Tp(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function xp(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,lr,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:lp(n)}})}function kp(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&(r.element.componentRendererType.encapsulation===q.ShadowDom||1===r.element.componentRendererType.encapsulation)?np(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Np=new WeakMap;function Op(e){let t=Np.get(e);return t||(t=e(()=>up),t.factory=e,Np.set(e,t)),t}function Rp(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Ip(e,e.def.lastRenderRootNode))),Fp(e,t,0,e.def.nodes.length-1,n,r,i)}function Fp(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Mp(e,n,t,i,o,s),a+=n.childCount}}function Pp(e,t,n,r,i,o){let s=e;for(;s&&!Sp(s);)s=s.parent;const a=s.parent,u=Ep(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const e=a.def.nodes[l];e.ngContentIndex===t&&Mp(a,e,n,r,i,o),l+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Lp(e,s[t],n,r,i,o)}}function Mp(e,t,n,r,i,o){if(8&t.flags)Pp(e,t.ngContent.index,n,r,i,o);else{const s=Ip(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Lp(e,s,n,r,i,o),32&t.bindingFlags&&Lp(np(e,t.nodeIndex).componentView,s,n,r,i,o)):Lp(e,s,n,r,i,o),16777216&t.flags){const s=np(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)Rp(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&Fp(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Lp(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const Vp=/^:([^:]+):(.+)$/;function jp(e){if(":"===e[0]){const t=e.match(Vp);return[t[1],t[2]]}return["",e]}function Up(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Bp(e,t){let n="";for(let r=0;r<2*e;r+=2)n=n+t[r]+Hp(t[r+1]);return n+t[2*e]}function qp(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,b){switch(e){case 1:return t+Hp(n)+r;case 2:return t+Hp(n)+r+Hp(i)+o;case 3:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a;case 4:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c;case 5:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h;case 6:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f;case 7:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f+Hp(p)+g;case 8:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f+Hp(p)+g+Hp(m)+y;case 9:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f+Hp(p)+g+Hp(m)+y+Hp(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Hp(e){return null!=e?e.toString():""}const Gp={},zp={},$p=lp(Oa),Kp=lp(ga),Qp=lp(jf);function Wp(e,t,n,r){return n=m(n),{index:-1,deps:xp(r,d(t)),flags:e,token:t,value:n}}function Zp(e){const t={},n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];o.token===ya&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,t[lp(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,scope:r}}function Jp(e,t,n=Oa.THROW_IF_NOT_FOUND){const r=fr(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const i=t.tokenKey;switch(i){case $p:case Kp:case Qp:return e}const o=e._def.providersByKey[i];let s;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=Yp(e,o)),t===zp?void 0:t}if((s=D(t.token))&&function(e,t){const n=m(t.providedIn);return null!=n&&("any"===n||n===e._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(e,n))}(e,s)){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:n,token:t.token},e._providers[n]=zp,e._providers[n]=Yp(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{fr(r)}}function Yp(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Jp(e,n[0]));case 2:return new t(Jp(e,n[0]),Jp(e,n[1]));case 3:return new t(Jp(e,n[0]),Jp(e,n[1]),Jp(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Jp(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Jp(e,n[0]));case 2:return t(Jp(e,n[0]),Jp(e,n[1]));case 3:return t(Jp(e,n[0]),Jp(e,n[1]),Jp(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Jp(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Jp(e,t.deps[0]);break;case 256:n=t.value}return n===zp||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?zp:n}function Xp(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,Zn(n,t),ap.dirtyParentQueries(r),tg(r),r}function eg(e,t,n){const r=t?Ip(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Rp(n,2,i,o,void 0)}function tg(e){Rp(e,3,null,null,void 0)}const ng={};function rg(e,t,n,r,i,o){return new og(e,t,n,r,i,o)}function ig(e){return e.viewDefFactory}class og extends jd{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Op(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=ap.createRootView(e,t||[],n,i,r,ng),a=rp(s,o).instance;return n&&s.renderer.setAttribute(np(s,0).renderElement,"ng-version",af.full),new sg(s,new lg(s),a)}}class sg extends Vd{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Jd(np(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new pg(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function ag(e,t,n){return new ug(e,t,n)}class ug{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Jd(this._data.renderElement)}get injector(){return new pg(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Ep(e),e=e.parent;return e?new pg(e,t):new pg(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Xp(this._data,e);ap.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new lg(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof zd||(i=o.get(jf));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Wn(i,n,r),function(e,t){const n=Cp(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),ap.dirtyParentQueries(r),eg(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];Zn(r,t),null==n&&(n=r.length),Wn(r,n,i),ap.dirtyParentQueries(i),tg(i),eg(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Xp(this._data,e);t&&ap.destroyView(t)}detach(e){const t=Xp(this._data,e);return t?new lg(t):null}}function cg(e){return new lg(e)}class lg{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Rp(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}set context(e){this._view.context=e}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){bp(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{ap.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){ap.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ap.destroyView(this._view)}detachFromAppRef(){this._appRef=null,tg(this._view),ap.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function hg(e,t){return new dg(e,t)}class dg extends Ff{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new lg(ap.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Jd(np(this._parentView,this._def.nodeIndex).renderElement)}}function fg(e,t){return new pg(e,t)}class pg{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Oa.THROW_IF_NOT_FOUND){return ap.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:lp(e)},t)}}function gg(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=np(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return tp(e,n.nodeIndex).renderText;if(20240&n.flags)return rp(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function mg(e,t,n,r){return new yg(e,t,n,r)}class yg{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=Jn(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Yp(e,i))}}(this)}get(e,t=Oa.THROW_IF_NOT_FOUND,n=R.Default){let r=0;return n&R.SkipSelf?r|=1:n&R.Self&&(r|=4),Jp(this,{token:e,tokenKey:lp(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Hd)}destroy(){if(this._destroyed)throw new Error(`The ng module ${d(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==zp){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const vg=lp(ef),bg=lp(Jd),wg=lp(Hf),_g=lp(Ff),Cg=lp(Tf),Eg=lp(Oa),Ig=lp(ga);function Sg(e,t,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[e,t]=s[l];u[e]={flags:8,name:l,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return Ag(e,t|=16384,n,r,i,i,o,u,c)}function Dg(e,t,n){return Ag(-1,e|=16,null,0,t,t,n)}function Tg(e,t,n,r,i){return Ag(-1,e,t,0,n,r,i)}function Ag(e,t,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=Ap(n);u||(u=[]),a||(a=[]),o=m(o);const f=xp(s,d(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Up(a),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function xg(e,t){return Rg(e,t)}function kg(e,t){let n=e;for(;n.parent&&!Sp(n);)n=n.parent;return Fg(n.parent,Ep(n),!0,t.provider.value,t.provider.deps)}function Ng(e,t){const n=Fg(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!Oc(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Og(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Og(e,t,n){return r=>_p(e,t,n,r)}function Rg(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Fg(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Mg(e,t,n,i[0]));case 2:return r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]));case 3:return r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]),Mg(e,t,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Mg(e,t,n,i[r]));return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return Mg(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Fg(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Mg(e,t,n,i[0]));case 2:return new r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]));case 3:return new r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]),Mg(e,t,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Mg(e,t,n,i[r]));return new r(...s)}}const Pg={};function Mg(e,t,n,r,i=Oa.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===Cg&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case vg:return Lg(a,t,n).renderer;case bg:return new Jd(np(a,t.nodeIndex).renderElement);case wg:return np(a,t.nodeIndex).viewContainer;case _g:if(t.element.template)return np(a,t.nodeIndex).template;break;case Cg:return cg(Lg(a,t,n));case Eg:case Ig:return fg(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=rp(a,e.nodeIndex);return t||(t={instance:Rg(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Sp(a),t=Ep(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,Pg);return u!==Pg||i===Pg?u:o.root.ngModule.injector.get(r.token,i)}function Lg(e,t,n){let r;if(n)r=np(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Sp(r);)r=r.parent;return r}function Vg(e,t,n,r,i,o){if(32768&n.flags){const t=np(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=du.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Te(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function jg(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&Bg(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Ug(e,s,t,r)),s=s.parent}}function Ug(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Bg(e,i,t.flags&n,r++),i+=t.childCount}return r}function Bg(e,t,n,r){const i=rp(e,t);if(!i)return;const o=i.instance;o&&(ap.setCurrentNode(e,t),1048576&n&&ep(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ep(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}class qg extends Hd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=pe(e);return new zg(t,this.ngModule)}}function Hg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Gg=new Mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ao});class zg extends jd{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(us).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Hg(this.componentDef.inputs)}get outputs(){return Hg(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,Pg,i);return o!==Pg||r===Pg?o:t.get(n,r,i)}}}(e,r.injector):e,o=i.get(Xd,qe),s=i.get(of,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?Rs(a,n,this.componentDef.encapsulation):So(o.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?Me:"math"===t?Le:null}(u)),l=this.componentDef.onPush?576:528,h=Ja(),d=Os(0,null,null,1,0,null,null,null,null,null),f=ws(null,d,h,l,null,null,o,a,s,i);let p,g;At(f);try{const e=Wa(c,this.componentDef,f,o,a);if(c)if(n)Wt(a,c,["ng-version",af.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!rs(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Wt(a,c,e),t&&t.length>0&&Zo(a,c,t.join(" "))}if(g=$e(d,ve),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=Za(e,this.componentDef,f,h,[Ya]),Is(d,f,null)}finally{Rt()}return new $g(this.componentType,p,Qd(g,f),f,g)}}class $g extends Vd{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new If(r),this.componentType=e}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Kg(e,t,n,r){return V(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Qg=new Map;function Wg(e,t){const n=Qg.get(e);Zg(e,n&&n.moduleType,t.moduleType),Qg.set(e,t)}function Zg(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}function Jg(e){const t=new Set;!function e(n){const r=ye(n,!0),i=r.id;null!==i&&(Zg(i,Qg.get(i),n),Qg.set(i,n));const o=ho(r.imports);for(const s of o)t.has(s)||(t.add(s),e(s))}(e)}function Yg(e){return Qg.get(e)||ue[e]}class Xg extends jf{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qg(this);const n=ye(e),r=e[ee]||null;r&&xh(r),this._bootstrapComponents=ho(n.bootstrap),this._r3Injector=Ea(e,t,[{provide:jf,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Oa.THROW_IF_NOT_FOUND,n=R.Default){return e===Oa||e===jf||e===ga?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class em extends Uf{constructor(e){super(),this.moduleType=e,null!==ye(e)&&Jg(e)}create(e){return new Xg(this.moduleType,e)}}function tm(e,t,n){const r=gt()+e,i=it();return i[r]===cs?gu(i,r,n?t.call(n):t()):mu(i,r)}function nm(e,t,n,r){return dm(it(),gt(),e,t,n,r)}function rm(e,t,n,r,i){return fm(it(),gt(),e,t,n,r,i)}function im(e,t,n,r,i,o){return pm(it(),gt(),e,t,n,r,i,o)}function om(e,t,n,r,i,o,s){return gm(it(),gt(),e,t,n,r,i,o,s)}function sm(e,t,n,r,i,o,s,a){const u=gt()+e,c=it(),l=wu(c,u,n,r,i,o);return yu(c,u+4,s)||l?gu(c,u+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):mu(c,u+5)}function am(e,t,n,r,i,o,s,a,u){const c=gt()+e,l=it(),h=wu(l,c,n,r,i,o);return vu(l,c+4,s,a)||h?gu(l,c+6,u?t.call(u,n,r,i,o,s,a):t(n,r,i,o,s,a)):mu(l,c+6)}function um(e,t,n,r,i,o,s,a,u,c){const l=gt()+e,h=it();let d=wu(h,l,n,r,i,o);return bu(h,l+4,s,a,u)||d?gu(h,l+7,c?t.call(c,n,r,i,o,s,a,u):t(n,r,i,o,s,a,u)):mu(h,l+7)}function cm(e,t,n,r,i,o,s,a,u,c,l){const h=gt()+e,d=it(),f=wu(d,h,n,r,i,o);return wu(d,h+4,s,a,u,c)||f?gu(d,h+8,l?t.call(l,n,r,i,o,s,a,u,c):t(n,r,i,o,s,a,u,c)):mu(d,h+8)}function lm(e,t,n,r){return mm(it(),gt(),e,t,n,r)}function hm(e,t){const n=e[t];return n===cs?void 0:n}function dm(e,t,n,r,i,o){const s=t+n;return yu(e,s,i)?gu(e,s+1,o?r.call(o,i):r(i)):hm(e,s+1)}function fm(e,t,n,r,i,o,s){const a=t+n;return vu(e,a,i,o)?gu(e,a+2,s?r.call(s,i,o):r(i,o)):hm(e,a+2)}function pm(e,t,n,r,i,o,s,a){const u=t+n;return bu(e,u,i,o,s)?gu(e,u+3,a?r.call(a,i,o,s):r(i,o,s)):hm(e,u+3)}function gm(e,t,n,r,i,o,s,a,u){const c=t+n;return wu(e,c,i,o,s,a)?gu(e,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):hm(e,c+4)}function mm(e,t,n,r,i,o){let s=t+n,a=!1;for(let u=0;u<i.length;u++)yu(e,s++,i[u])&&(a=!0);return a?gu(e,s,r.apply(o,i)):hm(e,s)}function ym(e,t){const n=ot();let r;const i=e+ve;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=De(r.type)),s=M(bc);try{const e=on(!1),t=o();return on(e),Bu(n,it(),i,t),t}finally{M(s)}}function vm(e,t,n){const r=e+ve,i=it(),o=Ke(i,r);return Im(i,Em(i,r)?dm(i,gt(),t,o.transform,n,o):o.transform(n))}function bm(e,t,n,r){const i=e+ve,o=it(),s=Ke(o,i);return Im(o,Em(o,i)?fm(o,gt(),t,s.transform,n,r,s):s.transform(n,r))}function wm(e,t,n,r,i){const o=e+ve,s=it(),a=Ke(s,o);return Im(s,Em(s,o)?pm(s,gt(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function _m(e,t,n,r,i,o){const s=e+ve,a=it(),u=Ke(a,s);return Im(a,Em(a,s)?gm(a,gt(),t,u.transform,n,r,i,o,u):u.transform(n,r,i,o))}function Cm(e,t,n){const r=e+ve,i=it(),o=Ke(i,r);return Im(i,Em(i,r)?mm(i,gt(),t,o.transform,n,o):o.transform.apply(o,n))}function Em(e,t){return e[1].data[t].pure}function Im(e,t){return du.isWrapped(t)&&(t=du.unwrap(t),e[mt()]=cs),t}function Sm(e){return t=>{setTimeout(e,void 0,t)}}const Dm=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,o,s;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),u=null===(o=t.error)||void 0===o?void 0:o.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(u=Sm(u),a&&(a=Sm(a)),c&&(c=Sm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof i.w&&e.add(l),l}};function Tm(){return this._results[lu()]()}class Am{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=lu(),n=Am.prototype;n[t]||(n[t]=Tm)}get changes(){return this._changes||(this._changes=new Dm)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Kn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class xm{constructor(e){this.queryList=e,this.matches=null}clone(){return new xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class km{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new km(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Gm(e,t).matches&&this.queries[t].setDirty()}}class Nm{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Om{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Om(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Rm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Rm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Fm(t,i)),this.matchTNodeWithReadOption(e,t,bn(t,e,i,!1,!1))}else n===Ff?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,bn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Jd||r===Hf||r===Ff&&4&t.type)this.addMatch(t.index,-2);else{const n=bn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Fm(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Pm(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Qd(e,t):4&e.type?Vf(e,t):null}(t,e):-2===n?function(e,t,n){return n===Jd?Qd(t,e):n===Ff?Vf(t,e):n===Hf?Wf(t,e):void 0}(e,t,r):wn(e,e[1],n,t)}function Mm(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const i=o[e];s.push(i<0?null:Pm(t,r[i],o[e+1],n.metadata.read))}i.matches=s}return i.matches}function Lm(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Mm(e,t,i,n);for(let e=0;e<o.length;e+=2){const n=o[e];if(n>0)r.push(s[e/2]);else{const i=o[e+1],s=t[-n];for(let e=be;e<s.length;e++){const t=s[e];t[17]===t[3]&&Lm(t[1],t,i,r)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Lm(n[1],n,i,r)}}}}}return r}function Vm(e){const t=it(),n=ot(),r=It();St(r+1);const i=Gm(n,r);if(e.dirty&&We(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Lm(n,t,r,[]):Mm(n,t,i,r);e.reset(o,Yd),e.notifyOnChanges()}return!0}return!1}function jm(e,t,n){const r=ot();r.firstCreatePass&&(Hm(r,new Nm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),qm(r,it(),t)}function Um(e,t,n,r){const i=ot();if(i.firstCreatePass){const o=at();Hm(i,new Nm(t,n,r),o.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}qm(i,it(),n)}function Bm(){return e=it(),t=It(),e[19].queries[t].queryList;var e,t}function qm(e,t,n){const r=new Am(4==(4&n));Fs(e,t,r,r.destroy),null===t[19]&&(t[19]=new km),t[19].queries.push(new xm(r))}function Hm(e,t,n){null===e.queries&&(e.queries=new Om),e.queries.track(new Rm(t,n))}function Gm(e,t){return e.queries.getByIndex(t)}function zm(e,t){return Vf(e,t)}const $m=(()=>({"\u0275\u0275attribute":_u,"\u0275\u0275attributeInterpolate1":Nu,"\u0275\u0275attributeInterpolate2":Ou,"\u0275\u0275attributeInterpolate3":Ru,"\u0275\u0275attributeInterpolate4":Fu,"\u0275\u0275attributeInterpolate5":Pu,"\u0275\u0275attributeInterpolate6":Mu,"\u0275\u0275attributeInterpolate7":Lu,"\u0275\u0275attributeInterpolate8":Vu,"\u0275\u0275attributeInterpolateV":ju,"\u0275\u0275defineComponent":ie,"\u0275\u0275defineDirective":de,"\u0275\u0275defineInjectable":E,"\u0275\u0275defineInjector":S,"\u0275\u0275defineNgModule":ce,"\u0275\u0275definePipe":fe,"\u0275\u0275directiveInject":bc,"\u0275\u0275getInheritedFactory":In,"\u0275\u0275inject":gr,"\u0275\u0275injectAttribute":Dn,"\u0275\u0275invalidFactory":wc,"\u0275\u0275invalidFactoryDep":mr,"\u0275\u0275templateRefExtractor":zm,"\u0275\u0275NgOnChangesFeature":Ae,"\u0275\u0275ProvidersFeature":Ld,"\u0275\u0275CopyDefinitionFeature":uu,"\u0275\u0275InheritDefinitionFeature":tu,"\u0275\u0275nextContext":Vc,"\u0275\u0275namespaceHTML":Ut,"\u0275\u0275namespaceMathML":jt,"\u0275\u0275namespaceSVG":Vt,"\u0275\u0275enableBindings":nt,"\u0275\u0275disableBindings":rt,"\u0275\u0275elementStart":Ec,"\u0275\u0275elementEnd":Ic,"\u0275\u0275element":Sc,"\u0275\u0275elementContainerStart":Dc,"\u0275\u0275elementContainerEnd":Tc,"\u0275\u0275elementContainer":Ac,"\u0275\u0275pureFunction0":tm,"\u0275\u0275pureFunction1":nm,"\u0275\u0275pureFunction2":rm,"\u0275\u0275pureFunction3":im,"\u0275\u0275pureFunction4":om,"\u0275\u0275pureFunction5":sm,"\u0275\u0275pureFunction6":am,"\u0275\u0275pureFunction7":um,"\u0275\u0275pureFunction8":cm,"\u0275\u0275pureFunctionV":lm,"\u0275\u0275getCurrentView":xc,"\u0275\u0275restoreView":st,"\u0275\u0275listener":Rc,"\u0275\u0275projection":Bc,"\u0275\u0275syntheticHostProperty":hh,"\u0275\u0275syntheticHostListener":Fc,"\u0275\u0275pipeBind1":vm,"\u0275\u0275pipeBind2":bm,"\u0275\u0275pipeBind3":wm,"\u0275\u0275pipeBind4":_m,"\u0275\u0275pipeBindV":Cm,"\u0275\u0275projectionDef":Uc,"\u0275\u0275hostProperty":lh,"\u0275\u0275property":_c,"\u0275\u0275propertyInterpolate":qc,"\u0275\u0275propertyInterpolate1":Hc,"\u0275\u0275propertyInterpolate2":Gc,"\u0275\u0275propertyInterpolate3":zc,"\u0275\u0275propertyInterpolate4":$c,"\u0275\u0275propertyInterpolate5":Kc,"\u0275\u0275propertyInterpolate6":Qc,"\u0275\u0275propertyInterpolate7":Wc,"\u0275\u0275propertyInterpolate8":Zc,"\u0275\u0275propertyInterpolateV":Jc,"\u0275\u0275pipe":ym,"\u0275\u0275queryRefresh":Vm,"\u0275\u0275viewQuery":jm,"\u0275\u0275loadQuery":Bm,"\u0275\u0275contentQuery":Um,"\u0275\u0275reference":qu,"\u0275\u0275classMap":fl,"\u0275\u0275classMapInterpolate1":Ll,"\u0275\u0275classMapInterpolate2":Vl,"\u0275\u0275classMapInterpolate3":jl,"\u0275\u0275classMapInterpolate4":Ul,"\u0275\u0275classMapInterpolate5":Bl,"\u0275\u0275classMapInterpolate6":ql,"\u0275\u0275classMapInterpolate7":Hl,"\u0275\u0275classMapInterpolate8":Gl,"\u0275\u0275classMapInterpolateV":zl,"\u0275\u0275styleMap":hl,"\u0275\u0275styleMapInterpolate1":$l,"\u0275\u0275styleMapInterpolate2":Kl,"\u0275\u0275styleMapInterpolate3":Ql,"\u0275\u0275styleMapInterpolate4":Wl,"\u0275\u0275styleMapInterpolate5":Zl,"\u0275\u0275styleMapInterpolate6":Jl,"\u0275\u0275styleMapInterpolate7":Yl,"\u0275\u0275styleMapInterpolate8":Xl,"\u0275\u0275styleMapInterpolateV":eh,"\u0275\u0275styleProp":cl,"\u0275\u0275stylePropInterpolate1":th,"\u0275\u0275stylePropInterpolate2":nh,"\u0275\u0275stylePropInterpolate3":rh,"\u0275\u0275stylePropInterpolate4":ih,"\u0275\u0275stylePropInterpolate5":oh,"\u0275\u0275stylePropInterpolate6":sh,"\u0275\u0275stylePropInterpolate7":ah,"\u0275\u0275stylePropInterpolate8":uh,"\u0275\u0275stylePropInterpolateV":ch,"\u0275\u0275classProp":ll,"\u0275\u0275advance":ls,"\u0275\u0275template":Uu,"\u0275\u0275text":Dl,"\u0275\u0275textInterpolate":Tl,"\u0275\u0275textInterpolate1":Al,"\u0275\u0275textInterpolate2":xl,"\u0275\u0275textInterpolate3":kl,"\u0275\u0275textInterpolate4":Nl,"\u0275\u0275textInterpolate5":Ol,"\u0275\u0275textInterpolate6":Rl,"\u0275\u0275textInterpolate7":Fl,"\u0275\u0275textInterpolate8":Pl,"\u0275\u0275textInterpolateV":Ml,"\u0275\u0275i18n":Sd,"\u0275\u0275i18nAttributes":Dd,"\u0275\u0275i18nExp":Td,"\u0275\u0275i18nStart":Ed,"\u0275\u0275i18nEnd":Id,"\u0275\u0275i18nApply":Ad,"\u0275\u0275i18nPostprocess":xd,"\u0275\u0275resolveWindow":uo,"\u0275\u0275resolveDocument":co,"\u0275\u0275resolveBody":lo,"\u0275\u0275setComponentScope":oe,"\u0275\u0275setNgModuleScope":le,"\u0275\u0275sanitizeHtml":ki,"\u0275\u0275sanitizeStyle":Ni,"\u0275\u0275sanitizeResourceUrl":Ri,"\u0275\u0275sanitizeScript":Fi,"\u0275\u0275sanitizeUrl":Oi,"\u0275\u0275sanitizeUrlOrResourceUrl":Vi,"\u0275\u0275trustConstantHtml":Pi,"\u0275\u0275trustConstantResourceUrl":Mi,forwardRef:g,resolveForwardRef:m}))();let Km=null;function Qm(){Km=null}const Wm=[];let Zm=!1;function Jm(){if(!Zm){Zm=!0;try{for(let e=Wm.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=Wm[e];n.declarations&&n.declarations.every(Ym)&&(Wm.splice(e,1),iy(t,n))}}finally{Zm=!1}}}function Ym(e){return Array.isArray(e)?e.every(Ym):!!m(e)}function Xm(e,t={}){ey(e,t),function(e,t){Wm.push({moduleType:e,ngModule:t})}(e,t)}function ey(e,t,n=!1){const r=Kn(t.declarations||W);let i=null;Object.defineProperty(e,X,{configurable:!0,get:()=>(null===i&&(i=Gn().compileNgModule($m,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:Kn(t.bootstrap||W).map(m),declarations:r.map(m),imports:Kn(t.imports||W).map(m).map(ay),exports:Kn(t.exports||W).map(m).map(ay),schemas:t.schemas?Kn(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(e,te,{get:()=>{if(null===o){const t=Gn();o=t.compileFactory($m,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:Ar(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return o},configurable:!1});let s=null;Object.defineProperty(e,k,{get:()=>{if(null===s){const n={name:e.name,type:e,providers:t.providers||W,imports:[(t.imports||W).map(m),(t.exports||W).map(m)]};s=Gn().compileInjector($m,`ng:///${e.name}/\u0275inj.js`,n)}return s},configurable:!1})}let ty=new WeakMap,ny=new WeakMap;function ry(){ty=new WeakMap,ny=new WeakMap,Wm.length=0}function iy(e,t){const n=Kn(t.declarations||W),r=sy(e);n.forEach(t=>{t.hasOwnProperty(Z)?oy(pe(t),r):t.hasOwnProperty(J)||t.hasOwnProperty(Y)||(t.ngSelectorScope=e)})}function oy(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map(e=>e.hasOwnProperty(Z)?pe(e):ge(e)).filter(e=>!!e),e.pipeDefs=()=>Array.from(t.compilation.pipes).map(e=>me(e)),e.schemas=t.schemas,e.tView=null}function sy(e){if(!uy(e))throw new Error(`${e.name} does not have a module def (\u0275mod property)`);const t=ye(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ho(t.imports).forEach(e=>{const t=e;if(!uy(t))throw new Error(`Importing ${t.name} which does not have a \u0275mod property`);const r=sy(t);r.exported.directives.forEach(e=>n.compilation.directives.add(e)),r.exported.pipes.forEach(e=>n.compilation.pipes.add(e))}),ho(t.declarations).forEach(e=>{me(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)}),ho(t.exports).forEach(e=>{const t=e;if(uy(t)){const e=sy(t);e.exported.directives.forEach(e=>{n.compilation.directives.add(e),n.exported.directives.add(e)}),e.exported.pipes.forEach(e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)})}else me(t)?n.exported.pipes.add(t):n.exported.directives.add(t)}),t.transitiveCompileScopes=n,n}function ay(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function uy(e){return!!ye(e)}let cy=0;function ly(e,t){let n=null;!function(e,t){Rr(t)&&(Nr.set(e,t),Or.add(e))}(e,t),fy(e,t),Object.defineProperty(e,Z,{get:()=>{if(null===n){const r=Gn();if(Rr(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=Km;let o=t.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:q.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,u=Object.assign(Object.assign({},gy(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:o,styles:t.styles||W,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});cy++;try{u.usesInheritance&&my(e),n=r.compileComponent($m,a,u)}finally{cy--}if(0===cy&&Jm(),void 0!==e.ngSelectorScope){const t=sy(e.ngSelectorScope);oy(n,t)}}return n},configurable:!1})}function hy(e,t){let n=null;fy(e,t||{}),Object.defineProperty(e,J,{get:()=>{if(null===n){const r=dy(e,t||{});n=Gn().compileDirective($m,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function dy(e,t){const n=e&&e.name,r=`ng:///${n}/\u0275dir.js`,i=Gn(),o=gy(e,t);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&my(e),{metadata:o,sourceMapUrl:r}}function fy(e,t){let n=null;Object.defineProperty(e,te,{get:()=>{if(null===n){const r=dy(e,t),i=Gn();n=i.compileFactory($m,`ng:///${e.name}/\u0275fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:Ar(e),target:i.FactoryTarget.Directive})}return n},configurable:!1})}function py(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function gy(e,t){const n=Tr(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||Q,propMetadata:r,inputs:t.inputs||W,outputs:t.outputs||W,queries:vy(e,r,by),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!py(e),exportAs:(i=t.exportAs,void 0===i?null:Cy(i)),providers:t.providers||null,viewQueries:vy(e,r,wy)};var i}function my(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)ge(n)||pe(n)||!Iy(n)||hy(n,null),n=Object.getPrototypeOf(n)}function yy(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Cy(n):m(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function vy(e,t,n){const r=[];for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];o.forEach(t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${i}" of "${w(e)}" since the query selector wasn't defined.`);if(o.some(_y))throw new Error("Cannot combine @Input decorators with query decorators");r.push(yy(i,t))}})}return r}function by(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function wy(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function _y(e){return"Input"===e.ngMetadataName}function Cy(e){return e.split(",").map(e=>e.trim())}const Ey=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Iy(e){const t=Tr();if(Ey.some(n=>t.hasLifecycleHook(e,n)))return!0;const n=t.propMetadata(e);for(const r in n){const e=n[r];for(let t=0;t<e.length;t++){const n=e[t],r=n.ngMetadataName;if(_y(n)||by(n)||wy(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Sy(e,t){let n=null,r=null;Object.defineProperty(e,te,{get:()=>{if(null===r){const n=Dy(e,t),i=Gn();r=i.compileFactory($m,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:Ar(e),target:i.FactoryTarget.Pipe})}return r},configurable:!1}),Object.defineProperty(e,Y,{get:()=>{if(null===n){const r=Dy(e,t);n=Gn().compilePipe($m,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})}function Dy(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const Ty=kn("Directive",(e={})=>e,void 0,void 0,(e,t)=>Vy(e,t)),Ay=kn("Component",(e={})=>Object.assign({changeDetection:j.Default},e),Ty,void 0,(e,t)=>Ly(e,t)),xy=kn("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>jy(e,t)),ky=Rn("Input",e=>({bindingPropertyName:e})),Ny=Rn("Output",e=>({bindingPropertyName:e})),Oy=Rn("HostBinding",e=>({hostPropertyName:e})),Ry=Rn("HostListener",(e,t)=>({eventName:e,args:t})),Fy=ly,Py=hy,My=Sy,Ly=Fy,Vy=Py,jy=My,Uy=kn("NgModule",e=>e,void 0,void 0,(e,t)=>qy(e,t)),By=Xm,qy=By,Hy=new Mn("Application Initializer");let Gy=(()=>{class e{constructor(e){this.appInits=e,this.resolve=$d,this.reject=$d,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(kc(t))e.push(t);else if(Oc(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(gr(Hy,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const zy=new Mn("AppId");function $y(){return`${Qy()}${Qy()}${Qy()}`}const Ky={provide:zy,useFactory:$y,deps:[]};function Qy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wy=new Mn("Platform Initializer"),Zy=new Mn("Platform ID"),Jy=new Mn("appBootstrapListener"),Yy=new Mn("Application Packages Root URL");let Xy=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const ev=new Mn("LocaleId"),tv=new Mn("DefaultCurrencyCode"),nv=new Mn("Translations"),rv=new Mn("TranslationsFormat");var iv=(()=>((iv=iv||{})[iv.Error=0]="Error",iv[iv.Warning=1]="Warning",iv[iv.Ignore=2]="Ignore",iv))();const ov=!0,sv=ov;class av{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const uv=function(e){return new em(e)},cv=uv,lv=function(e){return Promise.resolve(uv(e))},hv=lv,dv=function(e){const t=uv(e),n=ho(ye(e).declarations).reduce((e,t)=>{const n=pe(t);return n&&e.push(new zg(n)),e},[]);return new av(t,n)},fv=dv,pv=function(e){return Promise.resolve(dv(e))},gv=pv;let mv=(()=>{class e{constructor(){this.compileModuleSync=cv,this.compileModuleAsync=hv,this.compileModuleAndAllComponentsSync=fv,this.compileModuleAndAllComponentsAsync=gv}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const yv=new Mn("compilerOptions");class vv{}const bv=(()=>Promise.resolve(0))();function wv(e){"undefined"==typeof Zone?bv.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _v{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dm(!1),this.onMicrotaskEmpty=new Dm(!1),this.onStable=new Dm(!1),this.onError=new Dm(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=K.requestAnimationFrame,t=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(K,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Iv(e),e.isCheckStableRunning=!0,Ev(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Iv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Sv(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Dv(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Sv(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Dv(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Iv(e),Ev(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_v.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_v.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Cv,$d,$d);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Cv={};function Ev(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Iv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Sv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dv(e){e._nesting--,Ev(e)}class Tv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dm,this.onMicrotaskEmpty=new Dm,this.onStable=new Dm,this.onError=new Dm}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Av=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_v.assertNotInAngularZone(),wv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wv(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(gr(_v))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})(),xv=(()=>{class e{constructor(){this._applications=new Map,Rv.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Rv.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();class kv{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Nv(e){Rv=e}let Ov,Rv=new kv,Fv=!0,Pv=!1;function Mv(){return Pv=!0,Fv}function Lv(){if(Pv)throw new Error("Cannot enable prod mode after platform setup.");Fv=!1}let Vv=jv;function jv(e,t,n){const r=new em(n);return Promise.resolve(r)}let Uv=Bv;function Bv(e){return e.isBoundToModule}const qv=new Mn("AllowMultipleToken");class Hv{constructor(e,t){this.name=e,this.token=t}}function Gv(e){if(Ov&&!Ov.destroyed&&!Ov.injector.get(qv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ov=e.get(Wv);const t=e.get(Wy,null);return t&&t.forEach(e=>e()),Ov}function zv(e,t,n=[]){const r=`Platform: ${t}`,i=new Mn(r);return(t=[])=>{let o=Qv();if(!o||o.injector.get(qv,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ya,useValue:"platform"});Gv(Oa.create({providers:e,name:r}))}return $v(i)}}function $v(e){const t=Qv();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function Kv(){Ov&&!Ov.destroyed&&Ov.destroy()}function Qv(){return Ov&&!Ov.destroyed?Ov:null}let Wv=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Tv:("zone.js"===e?void 0:e)||new _v({enableLongStackTrace:Mv(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:_v,useValue:n}];return n.run(()=>{const t=Oa.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(Xi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});i.onDestroy(()=>{Yv(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return kc(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Gy);return e.runInitializers(),e.donePromise.then(()=>(sv&&xh(i.injector.get(ev,Eh)||Eh),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Zv({},t);return Vv(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Jv);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(gr(Oa))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function Zv(e,t){return Array.isArray(t)?t.reduce(Zv,e):Object.assign(Object.assign({},e),t)}let Jv=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new o.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{_v.assertNotInAngularZone(),wv(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{_v.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,h.pipe(e=>{return(0,u.x)()((t=c,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof jd?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Uv(n)?void 0:this._injector.get(jf),i=n.create(Oa.NULL,[],t||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Av,null),a=s&&i.injector.get(xv);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Yv(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Yv(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Jy,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(gr(_v),gr(Oa),gr(Xi),gr(Hd),gr(Gy))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function Yv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xv{}function eb(e){const t=Yg(e);if(!t)throw rb(e);return t}function tb(e){const t=Yg(e);if(!t)throw rb(e);return new em(t)}const nb=tb;function rb(e){return new Error(`No module with ID ${e} loaded`)}class ib{}const ob={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sb=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||ob}load(e){return!sv&&this._compiler instanceof mv?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>ab(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>ab(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(gr(mv),gr(ib,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function ab(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class ub extends Tf{}class cb extends ub{}class lb{constructor(e,t){this.name=e,this.callback=t}}class hb{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof db&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class db extends hb{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return pb(this,e,t),t}queryAllNodes(e){const t=[];return gb(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof db)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}function fb(e){return e.map(e=>e.nativeElement)}function pb(e,t,n){e.childNodes.forEach(e=>{e instanceof db&&(t(e)&&n.push(e),pb(e,t,n))})}function gb(e,t,n){e instanceof db&&e.childNodes.forEach(e=>{t(e)&&n.push(e),e instanceof db&&gb(e,t,n)})}class mb{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new yb(e):null}get injector(){return La(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Ra(e)||Pa(e))}get context(){return Ra(this.nativeNode)||Fa(this.nativeNode)}get listeners(){return Ba(this.nativeNode).filter(e=>"dom"===e.type)}get references(){return function(e){const t=Ui(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)t[n.localNames[i]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=Ui(e);if(null===t)return[];const n=t.lView[1],r=n.data[t.nodeIndex],i=[],o=r.directiveEnd;for(let a=1048575&r.providerIndexes;a<o;a++){let e=n.data[a];void 0!==(s=e).type&&void 0!==s.template&&void 0!==s.declaredInputs&&(e=e.type),i.push(e)}var s;return i}(this.nativeNode)}}class yb extends mb{constructor(e){super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=Ui(this.nativeNode);return null!==e?e.lView[1].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=Ui(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[1].data,r=n[e.nodeIndex],i={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];vb(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,i),function(e,t,n,r){let i=t.propertyBindings;if(null!==i)for(let o=0;o<i.length;o++){const t=i[o],s=r[t].split("\ufffd"),a=s[0];if(s.length>1){let r=s[1];for(let e=1;e<s.length-1;e++)r+=b(n[t+e-1])+s[e+1];e[a]=r}else e[a]=n[t]}}(i,r,t,n),i}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=Ui(t);if(null===n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;e[n]=r[t+1],i.push(n.toLowerCase()),t+=2}}const o=t.attributes;for(let s=0;s<o.length;s++){const t=o[s],n=t.name.toLowerCase();-1===i.indexOf(n)&&(e[n]=t.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return(t&&"string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach(t=>e[t]=!0),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(Sb(e[n]));return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let r=0;r<t.length;r++)n.push(Sb(t[r]));return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return bb(this,e,t,!0),t}queryAllNodes(e){const t=[];return bb(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach(i=>{if(i.name===e){const e=i.callback;e.call(n,t),r.push(e)}}),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach(e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const i=e("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,t)}})}}function vb(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function bb(e,t,n,r){const i=Ui(e.nativeNode);null!==i?wb(i.lView[1].data[i.nodeIndex],i.lView,t,n,r,e.nativeNode):Eb(e.nativeNode,t,n,r)}function wb(e,t,n,r,i,o){const s=function(e,t){const n=null===e?-1:e.index;return-1!==n?He(t[n]):null}(e,t);if(11&e.type){if(Cb(s,n,r,i,o),Ee(e)){const s=Qe(e.index,t);s&&s[1].firstChild&&wb(s[1].firstChild,s,n,r,i,o)}else e.child&&wb(e.child,t,n,r,i,o),s&&Eb(s,n,r,i);const a=t[e.index];_e(a)&&_b(a,n,r,i,o)}else if(4&e.type){const s=t[e.index];Cb(s[7],n,r,i,o),_b(s,n,r,i,o)}else if(16&e.type){const s=t[16],a=s[6].projection[e.projection];if(Array.isArray(a))for(let e of a)Cb(e,n,r,i,o);else if(a){const e=s[3];wb(e[1].data[a.index],e,n,r,i,o)}}else e.child&&wb(e.child,t,n,r,i,o);if(o!==s){const s=4&e.flags?e.projectionNext:e.next;s&&wb(s,t,n,r,i,o)}}function _b(e,t,n,r,i){for(let o=be;o<e.length;o++){const s=e[o],a=s[1].firstChild;a&&wb(a,s,t,n,r,i)}}function Cb(e,t,n,r,i){if(i!==e){const i=Db(e);if(!i)return;(r&&i instanceof yb&&t(i)&&-1===n.indexOf(i)||!r&&t(i)&&-1===n.indexOf(i))&&n.push(i)}}function Eb(e,t,n,r){const i=e.childNodes,o=i.length;for(let s=0;s<o;s++){const e=i[s],o=Db(e);o&&((r&&o instanceof yb&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o),Eb(e,t,n,r))}}const Ib=new Map;function Sb(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new yb(e):new mb(e)),e.__ng_debug__):null}const Db=Sb;function Tb(e){return function(e){return Ib.get(e)||null}(e)}const Ab=function(e){return null};function xb(e){Ib.set(e.nativeNode,e)}const kb=mb,Nb=yb,Ob=zv(null,"core",[{provide:Zy,useValue:"unknown"},{provide:Wv,deps:[Oa]},{provide:xv,deps:[]},{provide:Xy,deps:[]}]);function Rb(){return kf}function Fb(){return Nf}function Pb(e){return e=e||sv&&"undefined"!=typeof $localize&&$localize.locale||Eh,sv&&xh(e),e}const Mb=Ih,Lb=[{provide:Jv,useClass:Jv,deps:[_v,Oa,Xi,Hd,Gy]},{provide:Gg,deps:[_v],useFactory:Vb},{provide:Gy,useClass:Gy,deps:[[new Cr,Hy]]},{provide:mv,useClass:mv,deps:[]},Ky,{provide:bf,useFactory:Rb,deps:[]},{provide:_f,useFactory:Fb,deps:[]},{provide:ev,useFactory:Pb,deps:[[new _r(ev),new Cr,new Ir]]},{provide:tv,useValue:Mb}];function Vb(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}let jb=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(gr(Jv))},e.\u0275mod=ce({type:e}),e.\u0275inj=S({providers:Lb}),e})();function Ub(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=Ap(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Op(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||up},provider:null,text:null,query:null,ngContent:null}}function Bb(e,t,n,r,i,o,s=[],a,u,c,l,h){c||(c=up);const{matchedQueries:d,references:f,matchedQueryIds:p}=Ap(n);let g=null,m=null;o&&([g,m]=jp(o)),a=a||[];const y=[];for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[r,i]=jp(t);let o,s;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}y[w]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const v=[];for(let w=0;w<u.length;w++){const[e,t]=u[w];v[w]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=jp(e);return[n,r,t]});return h=function(e){if(e&&e.id===dp){const t=null!=e.encapsulation&&e.encapsulation!==q.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+gp++:fp}return e&&e.id===fp&&(e=null),e||null}(h),l&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Up(y),outputs:v,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||up},provider:null,text:null,query:null,ngContent:null}}function qb(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=kp(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===q.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function Hb(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=Gb(e,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let c=a.target,l=e;"component"===a.target&&(c=null,l=t);const h=l.renderer.listen(c||r,a.eventName,u);e.disposables[n.outputIndex+s]=h}var i,o}function Gb(e,t,n){return r=>_p(e,t,n,r)}function zb(e,t,n,r){if(!yp(e,t,n,r))return!1;const i=t.bindings[n],o=np(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=e.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(xi.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function $b(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Tp(t),bindings:r},ngContent:null}}function Kb(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Dp(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&op(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&op(e,n).setDirty(),n+=t.childCount}}function Qb(e,t){const n=op(e,t.nodeIndex);if(!n.dirty)return;let r,i;if(67108864&t.flags){const n=t.parent.parent;i=Wb(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=rp(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Wb(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i,Yd);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function Wb(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(Zb(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=np(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Wb(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=Cp(o);s&&s===n&&Wb(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];Wb(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function Zb(e,t,n){if(null!=n)switch(n){case 1:return np(e,t.nodeIndex).renderElement;case 0:return new Jd(np(e,t.nodeIndex).renderElement);case 2:return np(e,t.nodeIndex).template;case 3:return np(e,t.nodeIndex).viewContainer;case 4:return rp(e,t.nodeIndex).instance}}function Jb(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Yb(e,t,n){const r=kp(e,t,n);r&&Pp(e,n.ngContent.index,1,r,null,void 0)}function Xb(e,t){return nw(128,e,Jn(t+1))}function ew(e,t){return nw(32,e,Jn(t))}function tw(e,t){const n=Object.keys(t),r=n.length,i=[];for(let o=0;o<r;o++)i.push(n[o]);return nw(64,e,i)}function nw(e,t,n){const r=[];for(let i=0;i<n.length;i++){const e=n[i];r.push({flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Up(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function rw(e,t,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function iw(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=kp(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ow(e,t){return(null!=e?e.toString():"")+t.suffix}function sw(e,t,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,d=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=c,e.bindingIndex=i,e.outputIndex=o,e.renderParent=l,s|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(uw(c,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!l&&3&e.flags&&(f=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?c.element.publicProviders[lp(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[lp(e.provider.token)]=e),t&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,aw(e)||(l=e);else for(;c&&p===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),c=e,l=c&&aw(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||up,updateRenderer:r||up,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function aw(e){return 0!=(1&e.flags)&&null===e.element.name}function uw(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function cw(e,t,n,r){const i=dw(e.root,e.renderer,e,t,n);return fw(i,e.component,r),pw(i),i}function lw(e,t,n){const r=dw(e,e.renderer,null,null,t);return fw(r,n,n),pw(r),r}function hw(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,dw(e.root,o,e,t.element.componentProvider,n)}function dw(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function fw(e,t,n){e.component=t,e.context=n}function pw(e){let t;Sp(e)&&(t=np(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(ap.setCurrentNode(e,i),201347067&o.flags){case 1:const n=qb(e,t,o);let a;if(33554432&o.flags){const t=Op(o.element.componentView);a=ap.createComponentView(e,o,t,n)}Hb(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?hg(e,o):void 0},16777216&o.flags&&(s.viewContainer=ag(e,o,s));break;case 2:s=iw(e,t,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:xg(e,o)});break;case 16:s={instance:kg(e,o)};break;case 16384:s=r[i],s||(s={instance:Ng(e,o)}),32768&o.flags&&fw(np(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Am(-2147483648==(-2147483648&o.flags));break;case 8:Yb(e,t,o),s=void 0}r[i]=s}Ew(e,Cw.CreateViewNodes),Tw(e,201326592,268435456,0)}function gw(e){vw(e),ap.updateDirectives(e,1),Iw(e,Cw.CheckNoChanges),ap.updateRenderer(e,1),Ew(e,Cw.CheckNoChanges),e.state&=-97}function mw(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Xf(e,0,256),vw(e),ap.updateDirectives(e,0),Iw(e,Cw.CheckAndUpdate),Tw(e,67108864,536870912,0);let t=Xf(e,256,512);jg(e,2097152|(t?1048576:0)),ap.updateRenderer(e,0),Ew(e,Cw.CheckAndUpdate),Tw(e,134217728,536870912,0),t=Xf(e,512,768),jg(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Xf(e,768,1024)}function yw(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;let f=!1;return d>0&&zb(e,t,0,n)&&(f=!0),d>1&&zb(e,t,1,r)&&(f=!0),d>2&&zb(e,t,2,i)&&(f=!0),d>3&&zb(e,t,3,o)&&(f=!0),d>4&&zb(e,t,4,s)&&(f=!0),d>5&&zb(e,t,5,a)&&(f=!0),d>6&&zb(e,t,6,u)&&(f=!0),d>7&&zb(e,t,7,c)&&(f=!0),d>8&&zb(e,t,8,l)&&(f=!0),d>9&&zb(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,s,a,u,c,l,h);case 2:return function(e,t,n,r,i,o,s,a,u,c,l,h){let d=!1;const f=t.bindings,p=f.length;if(p>0&&yp(e,t,0,n)&&(d=!0),p>1&&yp(e,t,1,r)&&(d=!0),p>2&&yp(e,t,2,i)&&(d=!0),p>3&&yp(e,t,3,o)&&(d=!0),p>4&&yp(e,t,4,s)&&(d=!0),p>5&&yp(e,t,5,a)&&(d=!0),p>6&&yp(e,t,6,u)&&(d=!0),p>7&&yp(e,t,7,c)&&(d=!0),p>8&&yp(e,t,8,l)&&(d=!0),p>9&&yp(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=ow(n,f[0])),p>1&&(d+=ow(r,f[1])),p>2&&(d+=ow(i,f[2])),p>3&&(d+=ow(o,f[3])),p>4&&(d+=ow(s,f[4])),p>5&&(d+=ow(a,f[5])),p>6&&(d+=ow(u,f[6])),p>7&&(d+=ow(c,f[7])),p>8&&(d+=ow(l,f[8])),p>9&&(d+=ow(h,f[9]));const g=tp(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,o,s,a,u,c,l,h);case 16384:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=rp(e,t.nodeIndex),f=d.instance;let p,g=!1;const m=t.bindings.length;return m>0&&mp(e,t,0,n)&&(g=!0,p=Vg(e,d,t,0,n,p)),m>1&&mp(e,t,1,r)&&(g=!0,p=Vg(e,d,t,1,r,p)),m>2&&mp(e,t,2,i)&&(g=!0,p=Vg(e,d,t,2,i,p)),m>3&&mp(e,t,3,o)&&(g=!0,p=Vg(e,d,t,3,o,p)),m>4&&mp(e,t,4,s)&&(g=!0,p=Vg(e,d,t,4,s,p)),m>5&&mp(e,t,5,a)&&(g=!0,p=Vg(e,d,t,5,a,p)),m>6&&mp(e,t,6,u)&&(g=!0,p=Vg(e,d,t,6,u,p)),m>7&&mp(e,t,7,c)&&(g=!0,p=Vg(e,d,t,7,c,p)),m>8&&mp(e,t,8,l)&&(g=!0,p=Vg(e,d,t,8,l,p)),m>9&&mp(e,t,9,h)&&(g=!0,p=Vg(e,d,t,9,h,p)),p&&f.ngOnChanges(p),65536&t.flags&&ep(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),g}(e,t,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings;let f=!1;const p=d.length;if(p>0&&yp(e,t,0,n)&&(f=!0),p>1&&yp(e,t,1,r)&&(f=!0),p>2&&yp(e,t,2,i)&&(f=!0),p>3&&yp(e,t,3,o)&&(f=!0),p>4&&yp(e,t,4,s)&&(f=!0),p>5&&yp(e,t,5,a)&&(f=!0),p>6&&yp(e,t,6,u)&&(f=!0),p>7&&yp(e,t,7,c)&&(f=!0),p>8&&yp(e,t,8,l)&&(f=!0),p>9&&yp(e,t,9,h)&&(f=!0),f){const f=ip(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=[],p>0&&g.push(n),p>1&&g.push(r),p>2&&g.push(i),p>3&&g.push(o),p>4&&g.push(s),p>5&&g.push(a),p>6&&g.push(u),p>7&&g.push(c),p>8&&g.push(l),p>9&&g.push(h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=u),p>7&&(g[d[7].name]=c),p>8&&(g[d[8].name]=l),p>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(p){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,o);break;case 5:g=e.transform(r,i,o,s);break;case 6:g=e.transform(r,i,o,s,a);break;case 7:g=e.transform(r,i,o,s,a,u);break;case 8:g=e.transform(r,i,o,s,a,u,c);break;case 9:g=e.transform(r,i,o,s,a,u,c,l);break;case 10:g=e.transform(r,i,o,s,a,u,c,l,h)}}f.value=g}return f}(e,t,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)zb(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)yp(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=ow(n[e],r[e]);i=t.text.prefix+i;const o=tp(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=rp(e,t.nodeIndex),i=r.instance;let o,s=!1;for(let a=0;a<n.length;a++)mp(e,t,a,n[a])&&(s=!0,o=Vg(e,r,t,a,n[a],o));return o&&i.ngOnChanges(o),65536&t.flags&&ep(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)yp(e,t,o,n[o])&&(i=!0);if(i){const i=ip(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function vw(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=np(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,wp(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function bw(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;d>0&&vp(e,t,0,n),d>1&&vp(e,t,1,r),d>2&&vp(e,t,2,i),d>3&&vp(e,t,3,o),d>4&&vp(e,t,4,s),d>5&&vp(e,t,5,a),d>6&&vp(e,t,6,u),d>7&&vp(e,t,7,c),d>8&&vp(e,t,8,l),d>9&&vp(e,t,9,h)}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){for(let r=0;r<n.length;r++)vp(e,t,r,n[r])}(e,t,r),!1}function ww(e,t){if(op(e,t.nodeIndex).dirty)throw Zf(ap.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function _w(e){if(!(128&e.state)){if(Iw(e,Cw.Destroy),Ew(e,Cw.Destroy),jg(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Cp(e);if(t){const n=t.template._projectedViews;n&&(Zn(n,n.indexOf(e)),ap.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(np(e,n).renderElement):2&t.flags?e.renderer.destroyNode(tp(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&op(e,n).destroy()}}(e),Sp(e)&&e.renderer.destroy(),e.state|=128}}var Cw=(()=>((Cw=Cw||{})[Cw.CreateViewNodes=0]="CreateViewNodes",Cw[Cw.CheckNoChanges=1]="CheckNoChanges",Cw[Cw.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",Cw[Cw.CheckAndUpdate=3]="CheckAndUpdate",Cw[Cw.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",Cw[Cw.Destroy=5]="Destroy",Cw))();function Ew(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Sw(np(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Iw(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=np(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Sw(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Sw(e,t){const n=e.state;switch(t){case Cw.CheckNoChanges:0==(128&n)&&(12==(12&n)?gw(e):64&n&&Dw(e,Cw.CheckNoChangesProjectedViews));break;case Cw.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?gw(e):64&n&&Dw(e,t));break;case Cw.CheckAndUpdate:0==(128&n)&&(12==(12&n)?mw(e):64&n&&Dw(e,Cw.CheckAndUpdateProjectedViews));break;case Cw.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?mw(e):64&n&&Dw(e,t));break;case Cw.Destroy:_w(e);break;case Cw.CreateViewNodes:pw(e)}}function Dw(e,t){Iw(e,t),Ew(e,t)}function Tw(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(ap.setCurrentNode(e,i.nodeIndex),r){case 0:Qb(e,i);break;case 1:ww(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let Aw=!1;function xw(){if(Aw)return;Aw=!0;const e=Mv()?{setCurrentNode:Yw,createRootView:Nw,createEmbeddedView:Rw,createComponentView:Fw,createNgModuleRef:Pw,overrideProvider:jw,overrideComponentView:Uw,clearOverrides:Bw,checkAndUpdateView:zw,checkNoChangesView:$w,destroyView:Kw,createDebugContext:(e,t)=>new s_(e,t),handleEvent:Xw,updateDirectives:e_,updateRenderer:t_}:{setCurrentNode:()=>{},createRootView:kw,createEmbeddedView:cw,createComponentView:hw,createNgModuleRef:mg,overrideProvider:up,overrideComponentView:up,clearOverrides:up,checkAndUpdateView:mw,checkNoChangesView:gw,destroyView:_w,createDebugContext:(e,t)=>new s_(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Hw:Gw,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Hw:Gw,e)};ap.setCurrentNode=e.setCurrentNode,ap.createRootView=e.createRootView,ap.createEmbeddedView=e.createEmbeddedView,ap.createComponentView=e.createComponentView,ap.createNgModuleRef=e.createNgModuleRef,ap.overrideProvider=e.overrideProvider,ap.overrideComponentView=e.overrideComponentView,ap.clearOverrides=e.clearOverrides,ap.checkAndUpdateView=e.checkAndUpdateView,ap.checkNoChangesView=e.checkNoChangesView,ap.destroyView=e.destroyView,ap.resolveDep=Mg,ap.createDebugContext=e.createDebugContext,ap.handleEvent=e.handleEvent,ap.updateDirectives=e.updateDirectives,ap.updateRenderer=e.updateRenderer,ap.dirtyParentQueries=Kb}function kw(e,t,n,r,i,o){const s=i.injector.get(Xd);return lw(Ow(e,i,s,t,n),r,o)}function Nw(e,t,n,r,i,o){const s=i.injector.get(Xd),a=Ow(e,i,new l_(s),t,n),u=qw(r);return u_(Qw.create,lw,null,[a,u,o])}function Ow(e,t,n,r,i){const o=t.injector.get(of),s=t.injector.get(Xi),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Rw(e,t,n,r){const i=qw(n);return u_(Qw.create,cw,null,[e,t,i,r])}function Fw(e,t,n,r){return n=Vw.get(t.element.componentProvider.provider.token)||qw(n),u_(Qw.create,hw,null,[e,t,n,r])}function Pw(e,t,n,r){return mg(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Mw.size||(e.providers.forEach(e=>{const r=Mw.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Lw.forEach((r,i)=>{m(D(i).providedIn)===e&&(t=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Mw.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=xp(i.deps),r.value=i.value)}if(Lw.size>0){let t=new Set(e.modules);Lw.forEach((r,i)=>{if(t.has(m(D(i).providedIn))){let t={token:i,flags:r.flags|(n?4096:0),deps:xp(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[lp(i)]=t}})}}(e=e.factory(()=>up)),e):e}(r))}const Mw=new Map,Lw=new Map,Vw=new Map;function jw(e){let t;Mw.set(e.token,e),"function"==typeof e.token&&(t=D(e.token))&&"function"==typeof t.providedIn&&Lw.set(e.token,e)}function Uw(e,t){const n=Op(ig(t)),r=Op(n.nodes[0].element.componentView);Vw.set(e,r)}function Bw(){Mw.clear(),Lw.clear(),Vw.clear()}function qw(e){if(0===Mw.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Mw.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>up);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Mw.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=xp(n.deps),e.value=n.value)}}}}function Hw(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return yw(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?ip(e,t).value:void 0}function Gw(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return bw(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?ip(e,t).value:void 0}function zw(e){return u_(Qw.detectChanges,mw,null,[e])}function $w(e){return u_(Qw.checkNoChanges,gw,null,[e])}function Kw(e){return u_(Qw.destroy,_w,null,[e])}var Qw=(()=>((Qw=Qw||{})[Qw.create=0]="create",Qw[Qw.detectChanges=1]="detectChanges",Qw[Qw.checkNoChanges=2]="checkNoChanges",Qw[Qw.destroy=3]="destroy",Qw[Qw.handleEvent=4]="handleEvent",Qw))();let Ww,Zw,Jw;function Yw(e,t){Zw=e,Jw=t}function Xw(e,t,n,r){return Yw(e,t),u_(Qw.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function e_(e,t){if(128&e.state)throw Yf(Qw[Ww]);return Yw(e,i_(e,0)),e.def.updateDirectives(function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?n_(e,o,r,i):r_(e,o,r,i),16384&o.flags&&Yw(e,i_(e,n)),224&o.flags?ip(e,o.nodeIndex).value:void 0},e)}function t_(e,t){if(128&e.state)throw Yf(Qw[Ww]);return Yw(e,o_(e,0)),e.def.updateRenderer(function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?n_(e,o,r,i):r_(e,o,r,i),3&o.flags&&Yw(e,o_(e,n)),224&o.flags?ip(e,o.nodeIndex).value:void 0},e)}function n_(e,t,n,r){if(yw(e,t,n,...r)){const s=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=s[e];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(oo,(...e)=>"-"+e[1].toLowerCase())}`)]=so(a))}const r=t.parent,a=np(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,io(`bindings=${JSON.stringify(n,null,2)}`))}}var i,o}function r_(e,t,n,r){bw(e,t,n,...r)}function i_(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function o_(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class s_{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ep(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return np(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return fg(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){a_(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&a_(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Sp(e);)e=e.parent;return e.parent?np(e.parent,Ep(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ip(this.view,this.nodeDef):Ip(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?e.error.bind(e,...t):up)),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function a_(e,t,n){for(let r in t.references)n[r]=Zb(e,t,t.references[r])}function u_(e,t,n,r){const i=Ww,o=Zw,s=Jw;try{Ww=e;const a=t.apply(n,r);return Zw=o,Jw=s,Ww=i,a}catch(c){if(Zi(c)||!Zw)throw c;throw a=c,u=c_(),a instanceof Error||(a=new Error(a.toString())),Jf(a,u),a}var a,u}function c_(){return Zw?new s_(Zw,Jw):null}class l_{constructor(e){this.delegate=e}createRenderer(e,t){return new h_(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class h_{constructor(e){this.delegate=e,this.debugContextFactory=c_,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Db(e);t&&(function(e){Ib.delete(e.nativeNode)}(t),t instanceof hb&&(t.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new db(n,null,r);t.name=e,xb(t)}return n}createComment(e){const t=this.delegate.createComment(io(e)),n=this.createDebugContext(t);return n&&xb(new hb(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&xb(new hb(t,null,n)),t}appendChild(e,t){const n=Db(e),r=Db(t);n&&r&&n instanceof db&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n,r){const i=Db(e),o=Db(t),s=Db(n);i&&o&&i instanceof db&&i.insertBefore(s,o),this.delegate.insertBefore(e,t,n,r)}removeChild(e,t){const n=Db(e),r=Db(t);n&&r&&n instanceof db&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=c_();return r&&xb(new db(n,null,r)),n}setAttribute(e,t,n,r){const i=Db(e);i&&i instanceof db&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Db(e);r&&r instanceof db&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Db(e);n&&n instanceof db&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Db(e);n&&n instanceof db&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Db(e);i&&i instanceof db&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Db(e);r&&r instanceof db&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Db(e);r&&r instanceof db&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Db(e);r&&r.listeners.push(new lb(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function d_(e){return xw(),ap.overrideProvider(e)}function f_(e,t){return xw(),ap.overrideComponentView(e,t)}function p_(){return xw(),ap.clearOverrides()}function g_(e,t,n){return new m_(e,t,n)}class m_ extends Uf{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){xw();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:r}}(Op(this._ngModuleDefFactory));return ap.createNgModuleRef(this.moduleType,e||Oa.NULL,this._bootstrapComponents,t)}}function y_(e){return Gn().compileDirectiveDeclaration($m,`ng:///${e.type.name}/\u0275fac.js`,e)}function v_(e){var t,n;Kg(e.type,e.decorators,null!==(t=e.ctorParameters)&&void 0!==t?t:null,null!==(n=e.propDecorators)&&void 0!==n?n:null)}function b_(e){return Gn().compileComponentDeclaration($m,`ng:///${e.type.name}/\u0275cmp.js`,e)}function w_(e){return Gn().compileFactoryDeclaration($m,`ng:///${e.type.name}/\u0275fac.js`,e)}function __(e){return Gn().compileInjectableDeclaration($m,`ng:///${e.type.name}/\u0275prov.js`,e)}function C_(e){return Gn().compileInjectorDeclaration($m,`ng:///${e.type.name}/\u0275inj.js`,e)}function E_(e){return Gn().compileNgModuleDeclaration($m,`ng:///${e.type.name}/\u0275mod.js`,e)}function I_(e){return Gn().compilePipeDeclaration($m,`ng:///${e.type.name}/\u0275pipe.js`,e)}},57:(e,t,n)=>{"use strict";n.d(t,{hO:()=>D,xv:()=>b,Dh:()=>v,HU:()=>f,GT:()=>y,sI:()=>I,on:()=>_,ss:()=>p,pX:()=>m,yq:()=>C});var r=n(7771),i=n(3637),o=n(3342),s=n(3101),a=n(309),u=n(3018),c=n(2329);function l(){}e=n.hmd(e);class h{constructor(e,t=r.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class d{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=e.run(()=>new h(Zone.current,i.z))}}function p(e){return function(t){return(t=t.lift(new d(e.ngZone))).pipe((0,s.R)(e.outsideAngular),(0,a.QV)(e.insideAngular))}}const g=["ngOnDestroy"],m=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(g.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(e=>{const t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>s[t],apply:(e,t,n)=>s.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i})})})}),y=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},v=new u.InjectionToken("angularfire2.app.options"),b=new u.InjectionToken("angularfire2.app.nameOrConfig"),w=new u.Version("6.1.5");function _(t,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(e=>e&&e.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(t,i));try{JSON.stringify(t)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(e,...t)=>{(0,u.isDevMode)()&&"undefined"!=typeof console&&console[e](...t)};function I(t,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(t)||[];if(s){try{o.some((e,t)=>{const n=a[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${e.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const e=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[e,...o]),e}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[v,u.NgZone,[new u.Optional,b]]};let D=(()=>{class e{constructor(e){c.Z.registerVersion("angularfire",w.full,e.toString()),c.Z.registerVersion("angular",u.VERSION.full)}static initializeApp(t,n){return{ngModule:e,providers:[{provide:v,useValue:t},{provide:b,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](u.PLATFORM_ID))},e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({providers:[S]}),e})()},9759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r,i,o=n(4762),s=n(4685),a=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(e),this.container=new a.H0(t.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t=d),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),u=t.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!(0,s.r3)(t,e=e||d))throw l.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}(g);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,s.ZB)(t,e)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=m;!function(e,t){e.INTERNAL.registerComponent(new a.wA("platform-logger",function(e){return new y(e)},"PRIVATE")),e.registerVersion(h,"0.6.28",void 0),e.registerVersion("fire-js","")}(w);const _=w},6034:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(4685),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===s?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=s),this.component?this.component.multipleInstances?e:s:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},300:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(t,{in:()=>s,Yd:()=>h,Ub:()=>d,Am:()=>f});var o=[],s=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function d(e){o.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:(e,t,n)=>{"use strict";n.d(t,{BH:()=>a,LL:()=>b,r3:()=>C,Sg:()=>u,ne:()=>E,p$:()=>o,ZB:()=>s,m9:()=>D,z$:()=>c,jU:()=>d,ru:()=>f,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function o(e){return s(void 0,e)}function s(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=s(e[n],t[n]));return e}var a=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),b=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},e}();function w(e,t){return e.replace(_,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){var n=new I(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var I=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function S(){}function D(e){return e&&e._delegate?e._delegate:e}},4064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,n,r,i){this.id=e.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,t&&(this.text=t),n&&(this.cssClass=n),r&&(this.closeOnClick=r),i&&(this.showCloseBtn=i)}return e.nextId=0,e}();t.FlashMessage=n},7254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3018),i=n(4064),o=n(2455),s=n(3018),a=n(2455),u=n(8583);function c(e,t){1&e&&s.\u0275\u0275element(0,"div",3)}function l(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",7),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext().$implicit;return s.\u0275\u0275nextContext().close(e)}),s.\u0275\u0275elementStart(1,"span",8),s.\u0275\u0275text(2,"\xd7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}}var h=function(e){return{"alert-dismissible":e}};function d(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",4),s.\u0275\u0275listener("click",function(){var e=s.\u0275\u0275restoreView(n).$implicit;return s.\u0275\u0275nextContext().alertClicked(e)}),s.\u0275\u0275template(1,l,3,0,"button",5),s.\u0275\u0275element(2,"div",6),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275classMapInterpolate1("alert flash-message ",r.cssClass,""),s.\u0275\u0275styleProp("cursor",r.closeOnClick?"pointer":"inherit"),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(8,h,r.showCloseBtn)),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",r.showCloseBtn),s.\u0275\u0275advance(1),s.\u0275\u0275property("innerHTML",r.text,s.\u0275\u0275sanitizeHtml)}}var f=function(){function e(e,t){this._flashMessagesService=e,this._cdRef=t,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return e.prototype.ngOnInit=function(){},e.prototype.show=function(e,t){var n=this;void 0===t&&(t={});var r={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var o in t)r[o]=t[o];var s=new i.FlashMessage(e,r.cssClass,r.closeOnClick,r.showCloseBtn);s.timer=window.setTimeout(function(){n._remove(s),n._cdRef.detectChanges()},r.timeout),this.messages.push(s),this._cdRef.detectChanges()},e.prototype.close=function(e){clearTimeout(e.timer),this._remove(e),this._cdRef.detectChanges()},e.prototype.alertClicked=function(e){e.closeOnClick&&this.close(e)},e.prototype.grayOut=function(e){void 0===e&&(e=!1),this._grayOut=e},e.prototype._remove=function(e){this.messages=this.messages.filter(function(t){return t.id!==e.id})},e.ctorParameters=function(){return[{type:o.FlashMessagesService},{type:r.ChangeDetectorRef}]},e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(a.FlashMessagesService),s.\u0275\u0275directiveInject(s.ChangeDetectorRef))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275template(1,c,1,0,"div",1),s.\u0275\u0275template(2,d,3,10,"div",2),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t._grayOut&&t.messages.length),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngForOf",t.messages))},directives:[u.NgIf,u.NgForOf,u.NgClass],encapsulation:2}),e}();t.FlashMessagesComponent=f},2455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3018);var r=n(3018),i=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:function(t){return e.\u0275fac(t)}}),e}();t.FlashMessagesService=i},4372:(e,t,n)=>{var r=n(7254),i=n(3390);t.qz=i.FlashMessagesModule;var o=n(2455);t.GQ=o.FlashMessagesService,t.cS=r.FlashMessagesComponent},3390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3018);var r=n(8583),i=(n(7254),n(2455)),o=n(3018),s=(n(7254),n(8583),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[i.FlashMessagesService]}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({providers:[],imports:[[r.CommonModule]]}),e}());t.FlashMessagesModule=s},2329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(9759),i="8.7.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),u=n(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>l});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.isStopped?(e.complete(),o.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):o.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),u=n(4449);class c extends o.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[s.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,o){let s;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?s=t:t&&(s=t.next,n=t.error,o=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,o.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var u;function c(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,o.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>u});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new o.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.w.EMPTY)),e}refCount(){return(0,s.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>o});var r=n(7574);const i=new r.y(e=>e.complete());function o(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.L]}(e))return function(e,t){return new r.y(n=>{const r=new o.w;return r.add(t.schedule(()=>{const i=e[s.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new o.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(t)((0,s.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,o.r)(e,t)):(0,i.n)(e)}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}class o{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(9773),i=n(4487);function o(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?o=>o.pipe(s((n,o)=>(0,i.D)(e(n,o)).pipe((0,r.U)((e,r)=>t(n,e,o,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends o.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new o.IY(this),n=this.destination;n.add(t);const r=(0,o.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(e,t,n)=>{"use strict";n.d(t,{ht:()=>l,QV:()=>u});var r=n(7393),i=n(9193),o=n(5917),s=n(7574);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return e=this.error,new s.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function u(e,t=0){return function(n){return n.lift(new c(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(){return function(e){return e.lift(new o(e))}}class o{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},3101:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var r=n(7574);let i=1;const o=Promise.resolve(),s={};function a(e){return e in s&&(delete s[e],!0)}const u={setImmediate(e){const t=i++;return s[t]=!0,o.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=u.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(u.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(7393);function i(){}var o=n(9105);function s(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(7574),i=n(5319);function o(e,t){return new r.y(n=>{const r=new i.w;let o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class o extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),s=o},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=e=>{if(e&&"function"==typeof e[s.L])return l=e,e=>{const t=l[s.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[o.hZ])return t=e,e=>{const n=t[o.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},9386:(e,t,n)=>{"use strict";var r=n(8583),i=n(3018);class o extends r["\u0275DomAdapter"]{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s extends o{static makeCurrent(){(0,r["\u0275setRootDomAdapter"])(new s)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(u=u||document.querySelector("base"),u?u.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r["\u0275parseCookieValue"])(document.cookie,e)}}let a,u=null;const c=new i.InjectionToken("TRANSITION_ID"),l=[{provide:i.APP_INITIALIZER,useFactory:function(e,t,n){return()=>{n.get(i.ApplicationInitStatus).donePromise.then(()=>{const n=(0,r["\u0275getDOM"])();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[c,r.DOCUMENT,i.Injector],multi:!0}];class h{static init(){(0,i.setTestabilityGetter)(new h)}addToWindow(e){i["\u0275global"].getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["\u0275global"].getAllAngularTestabilities=()=>e.getAllTestabilities(),i["\u0275global"].getAllAngularRootElements=()=>e.getAllRootElements(),i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push(e=>{const t=i["\u0275global"].getAllAngularTestabilities();let n=t.length,r=!1;const o=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(o)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?(0,r["\u0275getDOM"])().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const f=new i.InjectionToken("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](f),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=(0,r["\u0275getDOM"])().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let m=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r["\u0275getDOM"])().remove(e)}const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=/%COMP%/g;function _(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?_(e,i,n):(i=i.replace(w,e),n.push(i))}return n}function C(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let E=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new I(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ViewEncapsulation.ShadowDom:return new D(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](p),i["\u0275\u0275inject"](y),i["\u0275\u0275inject"](i.APP_ID))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class I{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(b[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=b[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=b[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.RendererStyleFlags2.DashCase|i.RendererStyleFlags2.Important)?e.style.setProperty(t,n,r&i.RendererStyleFlags2.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(n)):this.eventManager.addEventListener(e,t,C(n))}}class S extends I{constructor(e,t,n,r){super(e),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(w,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(w,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class D extends I{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=_(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let T=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const A=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},N={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let O=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const o=e.parseEventName(n),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r["\u0275getDOM"])().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let o="";if(A.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&k.hasOwnProperty(t)&&(t=k[t]))}return x[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,N[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const R=(0,i.createPlatformFactory)(i.platformCore,"browser",[{provide:i.PLATFORM_ID,useValue:r["\u0275PLATFORM_BROWSER_ID"]},{provide:i.PLATFORM_INITIALIZER,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:r.DOCUMENT,useFactory:function(){return(0,i["\u0275setDocument"])(document),document},deps:[]}]),F=[[],{provide:i["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:i.ErrorHandler,useFactory:function(){return new i.ErrorHandler},deps:[]},{provide:f,useClass:T,multi:!0,deps:[r.DOCUMENT,i.NgZone,i.PLATFORM_ID]},{provide:f,useClass:O,multi:!0,deps:[r.DOCUMENT]},[],{provide:E,useClass:E,deps:[p,y,i.APP_ID]},{provide:i.RendererFactory2,useExisting:E},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[r.DOCUMENT]},{provide:i.Testability,useClass:i.Testability,deps:[i.NgZone]},{provide:p,useClass:p,deps:[f,i.NgZone]},{provide:r.XhrFactory,useClass:d,deps:[]},[]];let P=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.APP_ID,useValue:t.appId},{provide:c,useExisting:i.APP_ID},l]}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](e,12))},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:F,imports:[r.CommonModule,i.ApplicationModule]}),e})();"undefined"!=typeof window&&window;var M=n(4402),L=n(7574),V=n(9796),j=n(8002),U=n(1555);function B(e,t){return new L.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,M.D)(e[a]);let c=!1;n.add(u.subscribe({next:e=>{c||(c=!0,s++),i[a]=e},error:e=>n.error(e),complete:()=>{o++,o!==r&&c||(s===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let q=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e})(),H=(()=>{class e extends q{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const G=new i.InjectionToken("NgValueAccessor"),z={provide:G,useExisting:(0,i.forwardRef)(()=>K),multi:!0},$=new i.InjectionToken("CompositionEventMode");let K=(()=>{class e extends q{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,r["\u0275getDOM"])()?(0,r["\u0275getDOM"])().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"]($,8))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[i["\u0275\u0275ProvidersFeature"]([z]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})();function Q(e){return null==e||0===e.length}const W=new i.InjectionToken("NgValidators"),Z=new i.InjectionToken("NgAsyncValidators");function J(e){return null}function Y(e){return null!=e}function X(e){const t=(0,i["\u0275isPromise"])(e)?(0,M.D)(e):e;return(0,i["\u0275isObservable"])(t),t}function ee(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function te(e,t){return t.map(t=>t(e))}function ne(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function re(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Y);return 0==t.length?null:function(e){return ee(te(e,t))}}(ne(e)):null}function ie(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Y);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,V.k)(t))return B(t,null);if((0,U.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return B(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return B(e=1===e.length&&(0,V.k)(e[0])?e[0]:e,null).pipe((0,j.U)(e=>t(...e)))}return B(e,null)}(te(e,t).map(X)).pipe((0,j.U)(ee))}}(ne(e)):null}function oe(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let se=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=re(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e})(),ae=(()=>{class e extends se{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();class ue extends se{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ce{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let le=(()=>{class e extends ce{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ue,2))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})(),he=(()=>{class e extends ce{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ae,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();function de(e,t){pe(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ge(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ge(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function fe(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function pe(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(oe(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(oe(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();fe(t._rawValidators,i),fe(t._rawAsyncValidators,i)}function ge(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function me(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ye="VALID",ve="INVALID",be="PENDING",we="DISABLED";function _e(e){return(Se(e)?e.validators:e)||null}function Ce(e){return Array.isArray(e)?re(e):e||null}function Ee(e,t){return(Se(t)?t.asyncValidators:e)||null}function Ie(e){return Array.isArray(e)?ie(e):e||null}function Se(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class De{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ce(this._rawValidators),this._composedAsyncValidatorFn=Ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ye}get invalid(){return this.status===ve}get pending(){return this.status==be}get disabled(){return this.status===we}get enabled(){return this.status!==we}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ce(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ie(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=be,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=we,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ye,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ye&&this.status!==be||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?we:ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=be,this._hasOwnPendingAsyncValidator=!0;const t=X(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof Ae?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof xe&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?we:this.errors?ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(be)?be:this._anyControlsHaveStatus(ve)?ve:ye}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Se(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Te extends De{constructor(e=null,t,n){super(_e(t),Ee(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){me(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){me(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ae extends De{constructor(e,t,n){super(_e(t),Ee(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Te?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class xe extends De{constructor(e,t,n){super(_e(t),Ee(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Te?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ke={provide:ae,useExisting:(0,i.forwardRef)(()=>Oe)},Ne=(()=>Promise.resolve(null))();let Oe=(()=>{class e extends ae{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.EventEmitter,this.form=new Ae({},re(e),ie(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ne.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),de(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ne.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),me(this._directives,e)})}addFormGroup(e){Ne.then(()=>{const t=this._findContainer(e.path),n=new Ae({});(function(e,t){pe(e,t)})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ne.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Ne.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](W,10),i["\u0275\u0275directiveInject"](Z,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i["\u0275\u0275ProvidersFeature"]([ke]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const Re={provide:ue,useExisting:(0,i.forwardRef)(()=>Pe)},Fe=(()=>Promise.resolve(null))();let Pe=(()=>{class e extends ue{constructor(e,t,n,r){super(),this.control=new Te,this._registered=!1,this.update=new i.EventEmitter,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===K?n=e:Object.getPrototypeOf(e.constructor)===H?r=e:i=e}),i||r||n||null}(0,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){de(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Fe.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Fe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ae,9),i["\u0275\u0275directiveInject"](W,10),i["\u0275\u0275directiveInject"](Z,10),i["\u0275\u0275directiveInject"](G,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i["\u0275\u0275ProvidersFeature"]([Re]),i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]]}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Le={provide:G,useExisting:(0,i.forwardRef)(()=>Ve),multi:!0};let Ve=(()=>{class e extends H{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i["\u0275\u0275ProvidersFeature"]([Le]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})(),je=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({}),e})();const Ue={provide:W,useExisting:(0,i.forwardRef)(()=>Be),multi:!0};let Be=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(e){return Q(e.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("required",t.required?"":null)},inputs:{required:"required"},features:[i["\u0275\u0275ProvidersFeature"]([Ue])]}),e})();const qe={provide:W,useExisting:(0,i.forwardRef)(()=>He),multi:!0};let He=(()=>{class e{constructor(){this._validator=J}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){var e;this._validator=(e="number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10),t=>{return Q(t.value)||null==(n=t.value)||"number"!=typeof n.length?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null;var n})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[i["\u0275\u0275ProvidersFeature"]([qe]),i["\u0275\u0275NgOnChangesFeature"]]}),e})();const Ge={provide:W,useExisting:(0,i.forwardRef)(()=>ze),multi:!0};let ze=(()=>{class e{constructor(){this._validator=J}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=function(e){if(!e)return J;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Q(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(this.pattern)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[i["\u0275\u0275ProvidersFeature"]([Ge]),i["\u0275\u0275NgOnChangesFeature"]]}),e})(),$e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[je]]}),e})(),Ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[$e]}),e})();var Qe=n(57),We=n(3637),Ze=n(5917),Je=n(3282);function Ye(...e){return(0,Je.J)(1)((0,Ze.of)(...e))}var Xe=n(4869);function et(...e){const t=e[e.length-1];return(0,Xe.K)(t)?(e.pop(),n=>Ye(e,n,t)):t=>Ye(e,t)}var tt=n(7393);function nt(){return e=>e.lift(new rt)}class rt{call(e,t){return t.subscribe(new it(e))}}class it extends tt.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function ot(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new st(e,t,n))}}class st{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new at(e,this.accumulator,this.seed,this.hasSeed))}}class at extends tt.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class ut{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ct(e,this.compare,this.keySelector))}}class ct extends tt.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function lt(e,t){return function(n){return n.lift(new ht(e,t))}}class ht{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new dt(e,this.predicate,this.thisArg))}}class dt extends tt.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}var ft=n(309),pt=n(2329),gt=n(9759),mt=n(4762),yt=n(4685),vt=n(300),bt=function(e,t){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function wt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var _t,Ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Et=Et||{},It=Ct||self;function St(){}function Dt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var At="closure_uid_"+(1e9*Math.random()>>>0),xt=0;function kt(e,t,n){return e.call.apply(e.bind,arguments)}function Nt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ot(e,t,n){return(Ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kt:Nt).apply(null,arguments)}function Rt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ft(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Pt(){this.s=this.s,this.o=this.o}var Mt={};Pt.prototype.s=!1,Pt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,At)&&e[At]||(e[At]=++xt)}(this);delete Mt[e]}},Pt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Lt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Vt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function jt(e){return Array.prototype.concat.apply([],arguments)}function Ut(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bt(e){return/^[\s\xa0]*$/.test(e)}var qt,Ht=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Gt(e,t){return-1!=e.indexOf(t)}function zt(e,t){return e<t?-1:e>t?1:0}e:{var $t=It.navigator;if($t){var Kt=$t.userAgent;if(Kt){qt=Kt;break e}}qt=""}function Qt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Wt(e){var t={};for(var n in e)t[n]=e[n];return t}var Zt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Zt.length;o++)n=Zt[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yt(e){return Yt[" "](e),e}Yt[" "]=St;var Xt,en,tn=Gt(qt,"Opera"),nn=Gt(qt,"Trident")||Gt(qt,"MSIE"),rn=Gt(qt,"Edge"),on=rn||nn,sn=Gt(qt,"Gecko")&&!(Gt(qt.toLowerCase(),"webkit")&&!Gt(qt,"Edge"))&&!(Gt(qt,"Trident")||Gt(qt,"MSIE"))&&!Gt(qt,"Edge"),an=Gt(qt.toLowerCase(),"webkit")&&!Gt(qt,"Edge");function un(){var e=It.document;return e?e.documentMode:void 0}e:{var cn="",ln=(en=qt,sn?/rv:([^\);]+)(\)|;)/.exec(en):rn?/Edge\/([\d\.]+)/.exec(en):nn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(en):an?/WebKit\/(\S+)/.exec(en):tn?/(?:Version)[ \/]?(\S+)/.exec(en):void 0);if(ln&&(cn=ln?ln[1]:""),nn){var hn=un();if(null!=hn&&hn>parseFloat(cn)){Xt=String(hn);break e}}Xt=cn}var dn={};var fn=It.document&&nn&&(un()||parseInt(Xt,10))||void 0,pn=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{It.addEventListener("test",St,t),It.removeEventListener("test",St,t)}catch(n){}return e}();function gn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function mn(e,t){if(gn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sn){e:{try{Yt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:yn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mn.Z.h.call(this)}}gn.prototype.h=function(){this.defaultPrevented=!0},Ft(mn,gn);var yn={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vn="closure_listenable_"+(1e6*Math.random()|0),bn=0;function wn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++bn,this.ca=this.fa=!1}function _n(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Cn(e){this.src=e,this.g={},this.h=0}function En(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Lt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(_n(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function In(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Cn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=In(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new wn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Sn="closure_lm_"+(1e6*Math.random()|0),Dn={};function Tn(e,t,n,r,i){if(r&&r.once)return xn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Tn(e,t[o],n,r,i);return null}return n=Mn(n),e&&e[vn]?e.N(t,n,Tt(r)?!!r.capture:!!r,i):An(e,t,n,!1,r,i)}function An(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Tt(i)?!!i.capture:!!i,a=Fn(e);if(a||(e[Sn]=a=new Cn(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Rn;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pn||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(On(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)xn(e,t[o],n,r,i);return null}return n=Mn(n),e&&e[vn]?e.O(t,n,Tt(r)?!!r.capture:!!r,i):An(e,t,n,!0,r,i)}function kn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)kn(e,t[o],n,r,i);else r=Tt(r)?!!r.capture:!!r,n=Mn(n),e&&e[vn]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=In(o=e.g[t],n,r,i))&&(_n(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Fn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=In(t,n,r,i)),(n=-1<e?t[e]:null)&&Nn(n))}function Nn(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[vn])En(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(On(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fn(t))?(En(n,e),0==n.h&&(n.src=null,t[Sn]=null)):_n(e)}}}function On(e){return e in Dn?Dn[e]:Dn[e]="on"+e}function Rn(e,t){if(e.ca)e=!0;else{t=new mn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Nn(e),e=n.call(r,t)}return e}function Fn(e){return(e=e[Sn])instanceof Cn?e:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mn(e){return"function"==typeof e?e:(e[Pn]||(e[Pn]=function(t){return e.handleEvent(t)}),e[Pn])}function Ln(){Pt.call(this),this.i=new Cn(this),this.P=this,this.I=null}function Vn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new gn(t,e);else if(t instanceof gn)t.target=t.target||e;else{var i=t;Jt(t=new gn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=jn(s,r,!0,t)&&i}if(i=jn(s=t.g=e,r,!0,t)&&i,i=jn(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=jn(s=t.g=n[o],r,!1,t)&&i}function jn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&En(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ft(Ln,Pt),Ln.prototype[vn]=!0,Ln.prototype.removeEventListener=function(e,t,n,r){kn(this,e,t,n,r)},Ln.prototype.M=function(){if(Ln.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_n(n[r]);delete t.g[e],t.h--}}this.I=null},Ln.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ln.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Un=It.JSON.stringify;function Bn(){var e=Wn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qn,Hn=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Gn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Gn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new zn},function(e){return e.reset()}),zn=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function $n(e){It.setTimeout(function(){throw e},0)}function Kn(e,t){qn||function(){var e=It.Promise.resolve(void 0);qn=function(){e.then(Zn)}}(),Qn||(qn(),Qn=!0),Wn.add(e,t)}var Qn=!1,Wn=new Hn;function Zn(){for(var e;e=Bn();){try{e.h.call(e.g)}catch(n){$n(n)}var t=Gn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qn=!1}function Jn(e,t){Ln.call(this),this.h=e||1,this.g=t||It,this.j=Ot(this.kb,this),this.l=Date.now()}function Yn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Xn(e,t,n){if("function"==typeof e)n&&(e=Ot(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ot(e.handleEvent,e)}return 2147483647<Number(t)?-1:It.setTimeout(e,t||0)}function er(e){e.g=Xn(function(){e.g=null,e.i&&(e.i=!1,er(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ft(Jn,Ln),(_t=Jn.prototype).da=!1,_t.S=null,_t.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vn(this,"tick"),this.da&&(Yn(this),this.start()))}},_t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){Jn.Z.M.call(this),Yn(this),delete this.g};var tr=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:er(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Pt);function nr(e){Pt.call(this),this.h=e,this.g={}}Ft(nr,Pt);var rr=[];function ir(e,t,n,r){Array.isArray(n)||(n&&(rr[0]=n.toString()),n=rr);for(var i=0;i<n.length;i++){var o=Tn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function or(e){Qt(e.g,function(e,t){this.g.hasOwnProperty(t)&&Nn(e)},e),e.g={}}function sr(){this.g=!0}function ar(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Un(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}nr.prototype.M=function(){nr.Z.M.call(this),or(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sr.prototype.Aa=function(){this.g=!1},sr.prototype.info=function(){};var ur={},cr=null;function lr(){return cr=cr||new Ln}function hr(e){gn.call(this,ur.Ma,e)}function dr(e){var t=lr();Vn(t,new hr(t,e))}function fr(e,t){gn.call(this,ur.STAT_EVENT,e),this.stat=t}function pr(e){var t=lr();Vn(t,new fr(t,e))}function gr(e,t){gn.call(this,ur.Na,e),this.size=t}function mr(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){e()},t)}ur.Ma="serverreachability",Ft(hr,gn),ur.STAT_EVENT="statevent",Ft(fr,gn),ur.Na="timingevent",Ft(gr,gn);var yr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function br(){}function wr(){}br.prototype.h=null;var _r,Cr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Er(){gn.call(this,"d")}function Ir(){gn.call(this,"c")}function Sr(){}function Dr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new nr(this),this.P=Ar,this.W=new Jn(e=on?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}Ft(Er,gn),Ft(Ir,gn),Ft(Sr,br),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},_r=new Sr;var Ar=45e3,xr={},kr={};function Nr(e,t,n){e.K=1,e.v=ei(Qr(t)),e.s=n,e.U=!0,Or(e,null)}function Or(e,t){e.F=Date.now(),Mr(e),e.A=Qr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),fi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Tr,e.g=go(e.l,n?t:null,!e.s),0<e.O&&(e.L=new tr(Ot(e.Ia,e,e.g),e.O)),ir(e.V,e.g,"readystatechange",e.gb),t=e.H?Wt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),dr(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Rr(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Fr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Pr(e,n))==kr){4==t&&(e.o=4,pr(14),i=!1),ar(e.j,e.m,null,"[Incomplete Response]");break}if(r==xr){e.o=4,pr(15),ar(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ar(e.j,e.m,r,null),Br(e,r)}Rr(e)&&r!=kr&&r!=xr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),so(t),t.L=!0,pr(11))):(ar(e.j,e.m,n,"[Invalid Chunked Response]"),Ur(e),jr(e))}function Pr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kr:(n=Number(t.substring(n,r)),isNaN(n)?xr:(r+=1)+n>t.length?kr:(t=t.substr(r,n),e.C=r+n,t))}function Mr(e){e.Y=Date.now()+e.P,Lr(e,e.P)}function Lr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mr(Ot(e.eb,e),t)}function Vr(e){e.B&&(It.clearTimeout(e.B),e.B=null)}function jr(e){0==e.l.G||e.I||co(e.l,e)}function Ur(e){Vr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Yn(e.W),or(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Br(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wi(n.i,e)))if(n.I=e.N,!e.J&&wi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;uo(n),Ji(n)}oo(n),pr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mr(Ot(n.ab,n),6e3));if(1>=bi(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ho(n,11)}else if((e.J||n.g==e)&&uo(n),!Bt(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Gt(l,"spdy")||Gt(l,"quic")||Gt(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(_i(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Xr(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=po(r,r.H?r.la:null,r.W),f.J){Ci(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Vr(p),Mr(p)),r.g=f}else io(r);0<n.l.length&&eo(n)}else"stop"!=o[0]&&"close"!=o[0]||ho(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ho(n,7):Zi(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}dr(4)}catch(o){}}function qr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dt(e)||"string"==typeof e)Vt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Dt(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Dt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Hr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];zr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)zr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(_t=Dr.prototype).setTimeout=function(e){this.P=e},_t.gb=function(e){e=e.target;var t=this.L;t&&3==zi(e)?t.l():this.Ia(e)},_t.Ia=function(e){try{if(e==this.g)e:{var t=zi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||on||this.g&&(this.h.h||this.g.ga()||$i(this.g)))){this.I||4!=t||7==n||dr(8==n||0>=r?3:2),Vr(this);var i=this.g.ba();this.N=i;t:if(Rr(this)){var o=$i(this.g);e="";var s=o.length,a=4==zi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ur(this),jr(this);var u="";break t}this.h.i=new It.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bt(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,pr(12),Ur(this),jr(this);break e}ar(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Br(this,i)}this.U?(Fr(this,t,u),on&&this.i&&3==t&&(ir(this.V,this.W,"tick",this.fb),this.W.start())):(ar(this.j,this.m,u,null),Br(this,u)),4==t&&Ur(this),this.i&&!this.I&&(4==t?co(this.l,this):(this.i=!1,Mr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),Ur(this),jr(this)}}}catch(t){}},_t.fb=function(){if(this.g){var e=zi(this.g),t=this.g.ga();this.C<t.length&&(Vr(this),Fr(this,e,t),this.i&&4!=e&&Mr(this))}},_t.cancel=function(){this.I=!0,Ur(this)},_t.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(dr(3),pr(17)),Ur(this),this.o=2,jr(this)):Lr(this,this.Y-e)},(_t=Hr.prototype).R=function(){Gr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},_t.T=function(){return Gr(this),this.g.concat()},_t.get=function(e,t){return zr(this.h,e)?this.h[e]:t},_t.set=function(e,t){zr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},_t.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var $r=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kr){this.g=void 0!==t?t:e.g,Wr(this,e.j),this.s=e.s,Zr(this,e.i),Jr(this,e.m),this.l=e.l,t=e.h;var n=new ci;n.i=t.i,t.g&&(n.g=new Hr(t.g),n.h=t.h),Yr(this,n),this.o=e.o}else e&&(n=String(e).match($r))?(this.g=!!t,Wr(this,n[1]||"",!0),this.s=ti(n[2]||""),Zr(this,n[3]||"",!0),Jr(this,n[4]),this.l=ti(n[5]||"",!0),Yr(this,n[6]||"",!0),this.o=ti(n[7]||"")):(this.g=!!t,this.h=new ci(null,this.g))}function Qr(e){return new Kr(e)}function Wr(e,t,n){e.j=n?ti(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zr(e,t,n){e.i=n?ti(t,!0):t}function Jr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yr(e,t,n){t instanceof ci?(e.h=t,function(e,t){t&&!e.j&&(li(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(hi(this,t),fi(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=ni(t,ai)),e.h=new ci(t,e.g))}function Xr(e,t,n){e.h.set(t,n)}function ei(e){return Xr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ti(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ni(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ri),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ri(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ni(t,ii,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ni(t,ii,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ni(n,"/"==n.charAt(0)?si:oi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ni(n,ui)),e.join("")};var ii=/[#\/\?@]/g,oi=/[#\?:]/g,si=/[#\?]/g,ai=/[#\?@]/g,ui=/#/g;function ci(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function li(e){e.g||(e.g=new Hr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function hi(e,t){li(e),t=pi(e,t),zr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,zr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gr(e)))}function di(e,t){return li(e),t=pi(e,t),zr(e.g.h,t)}function fi(e,t,n){hi(e,t),0<n.length&&(e.i=null,e.g.set(pi(e,t),Ut(n)),e.h+=n.length)}function pi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(_t=ci.prototype).add=function(e,t){li(this),this.i=null,e=pi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},_t.forEach=function(e,t){li(this),this.g.forEach(function(n,r){Vt(n,function(n){e.call(t,n,r,this)},this)},this)},_t.T=function(){li(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},_t.R=function(e){li(this);var t=[];if("string"==typeof e)di(this,e)&&(t=jt(t,this.g.get(pi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=jt(t,e[n])}return t},_t.set=function(e,t){return li(this),this.i=null,di(this,e=pi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},_t.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var gi=function(e,t){this.h=e,this.g=t};function mi(e){this.l=e||yi,e=It.PerformanceNavigationTiming?0<(e=It.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(It.g&&It.g.Ea&&It.g.Ea()&&It.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yi=10;function vi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bi(e){return e.h?1:e.g?e.g.size:0}function wi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _i(e,t){e.g?e.g.add(t):e.h=t}function Ci(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ei(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=wt(e.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ut(e.i)}function Ii(){}function Si(){this.g=new Ii}function Di(e,t,n){var r=n||"";try{qr(e,function(e,n){var i=e;Tt(e)&&(i=Un(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Pg){throw t.push(r+"type="+encodeURIComponent("_badmap")),Pg}}function Ti(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Ai(e){this.l=e.$b||null,this.j=e.ib||!1}function xi(e,t){Ln.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ki,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mi.prototype.cancel=function(){var e,t;if(this.i=Ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=wt(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Ii.prototype.stringify=function(e){return It.JSON.stringify(e,void 0)},Ii.prototype.parse=function(e){return It.JSON.parse(e,void 0)},Ft(Ai,br),Ai.prototype.g=function(){return new xi(this.l,this.j)},Ai.prototype.i=function(e){return function(){return e}}({}),Ft(xi,Ln);var ki=0;function Ni(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Oi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ri(e)}function Ri(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(_t=xi.prototype).open=function(e,t){if(this.readyState!=ki)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ri(this)},_t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||It).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oi(this)),this.readyState=ki},_t.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==It.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ni(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},_t.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Oi(this):Ri(this),3==this.readyState&&Ni(this)}},_t.Ua=function(e){this.g&&(this.response=this.responseText=e,Oi(this))},_t.Ta=function(e){this.g&&(this.response=e,Oi(this))},_t.ha=function(){this.g&&Oi(this)},_t.setRequestHeader=function(e,t){this.v.append(e,t)},_t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fi=It.JSON.parse;function Pi(e){Ln.call(this),this.headers=new Hr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mi,this.K=this.L=!1}Ft(Pi,Ln);var Mi="",Li=/^https?$/i,Vi=["POST","PUT"];function ji(e){return"content-type"==e.toLowerCase()}function Ui(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bi(e),Hi(e)}function Bi(e){e.D||(e.D=!0,Vn(e,"complete"),Vn(e,"error"))}function qi(e){if(e.h&&void 0!==Et&&(!e.C[1]||4!=zi(e)||2!=e.ba()))if(e.v&&4==zi(e))Xn(e.Fa,0,e);else if(Vn(e,"readystatechange"),4==zi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match($r)[1]||null;if(!o&&It.self&&It.self.location){var s=It.self.location.protocol;o=s.substr(0,s.length-1)}i=!Li.test(o?o.toLowerCase():"")}t=i}if(t)Vn(e,"complete"),Vn(e,"success");else{e.m=6;try{var a=2<zi(e)?e.g.statusText:""}catch(u){a=""}e.j=a+" ["+e.ba()+"]",Bi(e)}}finally{Hi(e)}}}function Hi(e,t){if(e.g){Gi(e);var n=e.g,r=e.C[0]?St:null;e.g=null,e.C=null,t||Vn(e,"ready");try{n.onreadystatechange=r}catch(Pg){}}}function Gi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(It.clearTimeout(e.A),e.A=null)}function zi(e){return e.g?e.g.readyState:0}function $i(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Mi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ki(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Qt(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Xr(e,t,n))}function Qi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wi(e){this.za=0,this.l=[],this.h=new sr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qi("baseRetryDelayMs",5e3,e),this.$a=Qi("retryDelaySeedMs",1e4,e),this.Ya=Qi("forwardChannelMaxRetries",2,e),this.ra=Qi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mi(e&&e.concurrentRequestLimit),this.Ca=new Si,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zi(e){if(Yi(e),3==e.G){var t=e.V++,n=Qr(e.F);Xr(n,"SID",e.J),Xr(n,"RID",t),Xr(n,"TYPE","terminate"),no(e,n),(t=new Dr(e,e.h,t,void 0)).K=2,t.v=ei(Qr(n)),n=!1,It.navigator&&It.navigator.sendBeacon&&(n=It.navigator.sendBeacon(t.v.toString(),"")),!n&&It.Image&&((new Image).src=t.v,n=!0),n||(t.g=go(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Mr(t)}fo(e)}function Ji(e){e.g&&(so(e),e.g.cancel(),e.g=null)}function Yi(e){Ji(e),e.u&&(It.clearTimeout(e.u),e.u=null),uo(e),e.i.cancel(),e.m&&("number"==typeof e.m&&It.clearTimeout(e.m),e.m=null)}function Xi(e,t){e.l.push(new gi(e.Za++,t)),3==e.G&&eo(e)}function eo(e){vi(e.i)||e.m||(e.m=!0,Kn(e.Ha,e),e.C=0)}function to(e,t){var n;n=t?t.m:e.V++;var r=Qr(e.F);Xr(r,"SID",e.J),Xr(r,"RID",n),Xr(r,"AID",e.U),no(e,r),e.o&&e.s&&Ki(r,e.o,e.s),n=new Dr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ro(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_i(e.i,n),Nr(n,r,t)}function no(e,t){e.j&&qr({},function(e,n){Xr(t,n,e)})}function ro(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ot(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Di(l,s,"req"+c+"_")}catch(Wo){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function io(e){e.g||e.u||(e.Y=1,Kn(e.Ga,e),e.A=0)}function oo(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=mr(Ot(e.Ga,e),lo(e,e.A)),e.A++,0))}function so(e){null!=e.B&&(It.clearTimeout(e.B),e.B=null)}function ao(e){e.g=new Dr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Qr(e.oa);Xr(t,"RID","rpc"),Xr(t,"SID",e.J),Xr(t,"CI",e.N?"0":"1"),Xr(t,"AID",e.U),no(e,t),Xr(t,"TYPE","xmlhttp"),e.o&&e.s&&Ki(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ei(Qr(t)),n.s=null,n.U=!0,Or(n,e)}function uo(e){null!=e.v&&(It.clearTimeout(e.v),e.v=null)}function co(e,t){var n=null;if(e.g==t){uo(e),so(e),e.g=null;var r=2}else{if(!wi(e.i,t))return;n=t.D,Ci(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Vn(r=lr(),new gr(r,n,t,i)),eo(e)}else io(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(bi(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=mr(Ot(e.Ha,e,t),lo(e,e.C)),e.C++,0)))}(e,t)||2==r&&oo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ho(e,5);break;case 4:ho(e,10);break;case 3:ho(e,6);break;default:ho(e,2)}}function lo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ho(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ot(e.jb,e);n||(n=new Kr("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||Wr(n,"https"),ei(n)),function(e,t){var n=new sr;if(It.Image){var r=new Image;r.onload=Rt(Ti,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rt(Ti,n,r,"TestLoadImage: error",!1,t),r.onabort=Rt(Ti,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rt(Ti,n,r,"TestLoadImage: timeout",!1,t),It.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else pr(2);e.G=0,e.j&&e.j.va(t),fo(e),Yi(e)}function fo(e){e.G=0,e.I=-1,e.j&&(0==Ei(e.i).length&&0==e.l.length||(e.i.i.length=0,Ut(e.l),e.l.length=0),e.j.ua())}function po(e,t,n){var r=function(e){return e instanceof Kr?Qr(e):new Kr(e,void 0)}(n);if(""!=r.i)t&&Zr(r,t+"."+r.i),Jr(r,r.m);else{var i=It.location;r=function(e,t,n,r){var i=new Kr(null,void 0);return e&&Wr(i,e),t&&Zr(i,t),n&&Jr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Qt(e.aa,function(e,t){Xr(r,t,e)}),n=e.sa,(t=e.D)&&n&&Xr(r,t,n),Xr(r,"VER",e.ma),no(e,r),r}function go(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pi(n&&e.Ba&&!e.qa?new Ai({ib:!0}):e.qa)).L=e.H,t}function mo(){}function yo(){if(nn&&!(10<=Number(fn)))throw Error("Environmental error: no available transport.")}function vo(e,t){Ln.call(this),this.g=new Wi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Bt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bt(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _o(this)}function bo(e){Er.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wo(){Ir.call(this),this.status=1}function _o(e){this.g=e}(_t=Pi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_r.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:_r),this.g.onreadystatechange=Ot(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Ui(this,o)}e=n||"";var i=new Hr(this.headers);r&&qr(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=ji,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=It.FormData&&e instanceof It.FormData,!(0<=Lt(Vi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gi(this),0<this.B&&((this.K=function(e){return nn&&function(){return e=dn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Ht(String(Xt)).split("."),n=Ht("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=zt(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||zt(0==o[2].length,0==s[2].length)||zt(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.pa,this)):this.A=Xn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Ui(this,o)}},_t.pa=function(){void 0!==Et&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vn(this,"timeout"),this.abort(8))},_t.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vn(this,"complete"),Vn(this,"abort"),Hi(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hi(this,!0)),Pi.Z.M.call(this)},_t.Fa=function(){this.s||(this.F||this.v||this.l?qi(this):this.cb())},_t.cb=function(){qi(this)},_t.ba=function(){try{return 2<zi(this)?this.g.status:-1}catch(en){return-1}},_t.ga=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},_t.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fi(t)}},_t.Da=function(){return this.m},_t.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=Wi.prototype).ma=8,_t.G=1,_t.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},_t.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Dr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Jt(n=Wt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ro(this,t,r),Xr(i=Qr(this.F),"RID",e),Xr(i,"CVER",22),this.D&&Xr(i,"X-HTTP-Session-Id",this.D),no(this,i),this.o&&n&&Ki(i,this.o,n),_i(this.i,t),this.Ra&&Xr(i,"TYPE","init"),this.ja?(Xr(i,"$req",r),Xr(i,"SID","null"),t.$=!0,Nr(t,i,null)):Nr(t,i,r),this.G=2}}else 3==this.G&&(e?to(this,e):0==this.l.length||vi(this.i)||to(this))},_t.Ga=function(){if(this.u=null,ao(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mr(Ot(this.bb,this),e)}},_t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pr(10),Ji(this),ao(this))},_t.ab=function(){null!=this.v&&(this.v=null,Ji(this),oo(this),pr(19))},_t.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pr(2)):(this.h.info("Failed to ping google.com"),pr(1))},(_t=mo.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Oa=function(){},yo.prototype.g=function(e,t){return new vo(e,t)},Ft(vo,Ln),vo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Kn(Ot(e.hb,e,t))),pr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=po(e,null,e.W),eo(e)},vo.prototype.close=function(){Zi(this.g)},vo.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Xi(this.g,t)}else this.v?((t={}).__data__=Un(e),Xi(this.g,t)):Xi(this.g,e)},vo.prototype.M=function(){this.g.j=null,delete this.j,Zi(this.g),delete this.g,vo.Z.M.call(this)},Ft(bo,Er),Ft(wo,Ir),Ft(_o,mo),_o.prototype.xa=function(){Vn(this.g,"a")},_o.prototype.wa=function(e){Vn(this.g,new bo(e))},_o.prototype.va=function(e){Vn(this.g,new wo(e))},_o.prototype.ua=function(){Vn(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,vo.prototype.send=vo.prototype.u,vo.prototype.open=vo.prototype.m,vo.prototype.close=vo.prototype.close,yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,vr.COMPLETE="complete",wr.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",Ln.prototype.listen=Ln.prototype.N,Pi.prototype.listenOnce=Pi.prototype.O,Pi.prototype.getLastError=Pi.prototype.La,Pi.prototype.getLastErrorCode=Pi.prototype.Da,Pi.prototype.getStatus=Pi.prototype.ba,Pi.prototype.getResponseJson=Pi.prototype.Qa,Pi.prototype.getResponseText=Pi.prototype.ga,Pi.prototype.send=Pi.prototype.ea;var Co=yr,Eo=vr,Io=ur,So=Ai,Do=wr,To=Pi,Ao=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Ao.o=-1;var xo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ko=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,mt.ZT)(t,e),t}(Error),No=new vt.Yd("@firebase/firestore");function Oo(){return No.logLevel}function Ro(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(No.logLevel<=vt.in.DEBUG){var r=t.map(Mo);No.debug.apply(No,(0,mt.ev)(["Firestore (8.7.0): "+e],r))}}function Fo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(No.logLevel<=vt.in.ERROR){var r=t.map(Mo);No.error.apply(No,(0,mt.ev)(["Firestore (8.7.0): "+e],r))}}function Po(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(No.logLevel<=vt.in.WARN){var r=t.map(Mo);No.warn.apply(No,(0,mt.ev)(["Firestore (8.7.0): "+e],r))}}function Mo(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(Pg){return e}}function Lo(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+e;throw Fo(t),new Error(t)}function Vo(e,t){e||Lo()}function jo(e,t){return e}function Uo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bo=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Uo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function qo(e,t){return e<t?-1:e>t?1:0}function Ho(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Go(e){return e+"\0"}var zo=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ko(xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ko(xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ko(xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ko(xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?qo(this.nanoseconds,e.nanoseconds):qo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),$o=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new zo(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Ko(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Zo=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Lo(),void 0===n?n=e.length-t:n>e.length-t&&Lo(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ko(xo.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Zo),Yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Yo.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ko(xo.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new ko(xo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ko(xo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ko(xo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Zo),es=function(){function e(e){this.fields=e,e.sort(Xo.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Ho(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),ts=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return qo(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();ts.EMPTY_BYTE_STRING=new ts("");var ns=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(e){if(Vo(!!e),"string"==typeof e){var t=0,n=ns.exec(e);if(Vo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:is(e.seconds),nanos:is(e.nanos)}}function is(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function os(e){return"string"==typeof e?ts.fromBase64String(e):ts.fromUint8Array(e)}function ss(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function as(e){var t=e.mapValue.fields.__previous_value__;return ss(t)?as(t):t}function us(e){var t=rs(e.mapValue.fields.__local_write_time__.timestampValue);return new zo(t.seconds,t.nanos)}function cs(e){return null==e}function ls(e){return 0===e&&1/e==-1/0}function hs(e){return"number"==typeof e&&Number.isInteger(e)&&!ls(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ds=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Jo.fromString(t))},e.fromName=function(t){return new e(Jo.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Jo.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Jo.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Jo(t.slice()))},e}();function fs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ss(e)?4:10:Lo()}function ps(e,t){var n=fs(e);if(n!==fs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return us(e).isEqual(us(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rs(e.timestampValue),r=rs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return os(e.bytesValue).isEqual(os(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return is(e.geoPointValue.latitude)===is(t.geoPointValue.latitude)&&is(e.geoPointValue.longitude)===is(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return is(e.integerValue)===is(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=is(e.doubleValue),r=is(t.doubleValue);return n===r?ls(n)===ls(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ho(e.arrayValue.values||[],t.arrayValue.values||[],ps);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ko(n)!==Ko(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ps(n[i],r[i])))return!1;return!0}(e,t);default:return Lo()}}function gs(e,t){return void 0!==(e.values||[]).find(function(e){return ps(e,t)})}function ms(e,t){var n=fs(e),r=fs(t);if(n!==r)return qo(n,r);switch(n){case 0:return 0;case 1:return qo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=is(e.integerValue||e.doubleValue),r=is(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ys(e.timestampValue,t.timestampValue);case 4:return ys(us(e),us(t));case 5:return qo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=os(e),r=os(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qo(n[i],r[i]);if(0!==o)return o}return qo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qo(is(e.latitude),is(t.latitude));return 0!==n?n:qo(is(e.longitude),is(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ms(n[i],r[i]);if(o)return o}return qo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=qo(r[s],o[s]);if(0!==a)return a;var u=ms(n[r[s]],i[o[s]]);if(0!==u)return u}return qo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Lo()}}function ys(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qo(e,t);var n=rs(e),r=rs(t),i=qo(n.seconds,r.seconds);return 0!==i?i:qo(n.nanos,r.nanos)}function vs(e){return bs(e)}function bs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rs(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?os(e.bytesValue).toBase64():"referenceValue"in e?ds.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=bs(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+bs(e.fields[o])}return t+"}"}(e.mapValue):Lo();var t}function ws(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function _s(e){return!!e&&"integerValue"in e}function Cs(e){return!!e&&"arrayValue"in e}function Es(e){return!!e&&"nullValue"in e}function Is(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ss(e){return!!e&&"mapValue"in e}function Ds(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},rs(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return Qo(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Ds(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ds(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ts=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ss(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ds(t)},e.prototype.setAll=function(e){var t=this,n=Xo.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var s=t.getFieldsMap(n);t.applyChanges(s,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Ds(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ss(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ps(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ss(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Qo(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++)delete e[i[r]]},e.prototype.clone=function(){return new e(Ds(this.value))},e}();function As(e){var t=[];return Qo(e.fields,function(e,n){var r=new Xo([e]);if(Ss(n)){var i=As(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++)t.push(r.child(s[o]))}else t.push(r)}),new es(t)}var xs=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,$o.min(),Ts.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ts.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ts.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ks=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Ns(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ks(e,t,n,r,i,o,s)}function Os(e){var t=jo(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+vs(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),cs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=zs(t.startAt)),t.endAt&&(n+="|ub:",n+=zs(t.endAt)),t.h=n}return t.h}function Rs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ks(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!ps(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ws(e.startAt,t.startAt)&&Ws(e.endAt,t.endAt)}function Fs(e){return ds.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ps=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,mt.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ms(e,n,r):"array-contains"===n?new Us(e,r):"in"===n?new Bs(e,r):"not-in"===n?new qs(e,r):"array-contains-any"===n?new Hs(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Ls(e,n):new Vs(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(ms(t,this.value)):null!==t&&fs(this.value)===fs(t)&&this.m(ms(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lo()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Ms=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ds.fromName(r.referenceValue),i}return(0,mt.ZT)(t,e),t.prototype.matches=function(e){var t=ds.comparator(e.key,this.key);return this.m(t)},t}(Ps),Ls=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=js(0,n),r}return(0,mt.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(Ps),Vs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=js(0,n),r}return(0,mt.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(Ps);function js(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return ds.fromName(e.referenceValue)})}var Us=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,mt.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Cs(t)&&gs(t.arrayValue,this.value)},t}(Ps),Bs=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,mt.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&gs(this.value.arrayValue,t)},t}(Ps),qs=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,mt.ZT)(t,e),t.prototype.matches=function(e){if(gs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gs(this.value.arrayValue,t)},t}(Ps),Hs=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,mt.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Cs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return gs(t.value.arrayValue,e)})},t}(Ps),Gs=function(e,t){this.position=e,this.before=t};function zs(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return vs(e)}).join(",")}var $s=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ks(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ds.comparator(ds.fromName(s.referenceValue),n.key):ms(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ws(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ps(e.position[n],t.position[n]))return!1;return!0}var Zs=function(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Js(e,t,n,r,i,o,s,a){return new Zs(e,t,n,r,i,o,s,a)}function Ys(e){return new Zs(e)}function Xs(e){return!cs(e.limit)&&"F"===e.limitType}function ea(e){return!cs(e.limit)&&"L"===e.limitType}function ta(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function na(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ra(e){return null!==e.collectionGroup}function ia(e){var t=jo(e);if(null===t.p){t.p=[];var n=na(t),r=ta(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new $s(n)),t.p.push(new $s(Xo.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new $s(Xo.keyField(),u))}}}return t.p}function oa(e){var t=jo(e);if(!t.T)if("F"===t.limitType)t.T=Ns(t.path,t.collectionGroup,ia(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ia(t);r<i.length;r++){var o=i[r];n.push(new $s(o.field,"desc"===o.dir?"asc":"desc"))}var s=t.endAt?new Gs(t.endAt.position,!t.endAt.before):null,a=t.startAt?new Gs(t.startAt.position,!t.startAt.before):null;t.T=Ns(t.path,t.collectionGroup,n,t.filters,t.limit,s,a)}return t.T}function sa(e,t,n){return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function aa(e,t){return Rs(oa(e),oa(t))&&e.limitType===t.limitType}function ua(e){return Os(oa(e))+"|lt:"+e.limitType}function ca(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+vs(t.value);var t}).join(", ")+"]"),cs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+zs(e.startAt)),e.endAt&&(t+=", endAt: "+zs(e.endAt)),"Target("+t+")"}(oa(e))+"; limitType="+e.limitType+")"}function la(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ds.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Qs(e.startAt,ia(e),t)||e.endAt&&Qs(e.endAt,ia(e),t))}(e,t)}function ha(e){return function(t,n){for(var r=!1,i=0,o=ia(e);i<o.length;i++){var s=o[i],a=da(s,t,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function da(e,t,n){var r=e.field.isKeyField()?ds.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ms(r,i):Lo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lo()}}function fa(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ls(t)?"-0":t}}function pa(e){return{integerValue:""+e}}function ga(e,t){return hs(t)?pa(t):fa(e,t)}var ma=function(){this._=void 0};function ya(e,t,n){return e instanceof wa?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof _a?Ca(e,t):e instanceof Ea?Ia(e,t):function(e,t){var n=ba(e,t),r=Da(n)+Da(e.A);return _s(n)&&_s(e.A)?pa(r):fa(e.R,r)}(e,t)}function va(e,t,n){return e instanceof _a?Ca(e,t):e instanceof Ea?Ia(e,t):n}function ba(e,t){return e instanceof Sa?_s(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t}(ma),_a=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,mt.ZT)(t,e),t}(ma);function Ca(e,t){for(var n=Ta(t),r=function(e){n.some(function(t){return ps(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ea=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,mt.ZT)(t,e),t}(ma);function Ia(e,t){for(var n=Ta(t),r=function(e){n=n.filter(function(t){return!ps(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,mt.ZT)(t,e),t}(ma);function Da(e){return is(e.integerValue||e.doubleValue)}function Ta(e){return Cs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Aa=function(e,t){this.field=e,this.transform=t},xa=function(e,t){this.version=e,this.transformResults=t},ka=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Na(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Oa=function(){};function Ra(e,t,n){e instanceof Va?function(e,t,n){var r=e.value.clone(),i=Ba(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ja?function(e,t,n){if(Na(e.precondition,t)){var r=Ba(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ua(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fa(e,t,n){e instanceof Va?function(e,t,n){if(Na(e.precondition,t)){var r=e.value.clone(),i=qa(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(La(t),r).setHasLocalMutations()}}(e,t,n):e instanceof ja?function(e,t,n){if(Na(e.precondition,t)){var r=qa(e.fieldTransforms,n,t),i=t.data;i.setAll(Ua(e)),i.setAll(r),t.convertToFoundDocument(La(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Na(e.precondition,t)&&t.convertToNoDocument($o.min())}(e,t)}function Pa(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=ba(o.transform,s||null);null!=a&&(null==n&&(n=Ts.empty()),n.set(o.field,a))}return n||null}function Ma(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ho(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _a&&t instanceof _a||e instanceof Ea&&t instanceof Ea?Ho(e.elements,t.elements,ps):e instanceof Sa&&t instanceof Sa?ps(e.A,t.A):e instanceof wa&&t instanceof wa}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function La(e){return e.isFoundDocument()?e.version:$o.min()}var Va=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,mt.ZT)(t,e),t}(Oa),ja=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=e.call(this)||this).key=t,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,mt.ZT)(t,e),t}(Oa);function Ua(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ba(e,t,n){var r=new Map;Vo(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,va(s,a,n[i]))}return r}function qa(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,ya(a,u,t))}return r}var Ha,Ga,za=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,mt.ZT)(t,e),t}(Oa),$a=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,mt.ZT)(t,e),t}(Oa),Ka=function(e){this.count=e};function Qa(e){switch(e){case xo.OK:return Lo();case xo.CANCELLED:case xo.UNKNOWN:case xo.DEADLINE_EXCEEDED:case xo.RESOURCE_EXHAUSTED:case xo.INTERNAL:case xo.UNAVAILABLE:case xo.UNAUTHENTICATED:return!1;case xo.INVALID_ARGUMENT:case xo.NOT_FOUND:case xo.ALREADY_EXISTS:case xo.PERMISSION_DENIED:case xo.FAILED_PRECONDITION:case xo.ABORTED:case xo.OUT_OF_RANGE:case xo.UNIMPLEMENTED:case xo.DATA_LOSS:return!0;default:return Lo()}}function Wa(e){if(void 0===e)return Fo("GRPC error has no .code"),xo.UNKNOWN;switch(e){case Ha.OK:return xo.OK;case Ha.CANCELLED:return xo.CANCELLED;case Ha.UNKNOWN:return xo.UNKNOWN;case Ha.DEADLINE_EXCEEDED:return xo.DEADLINE_EXCEEDED;case Ha.RESOURCE_EXHAUSTED:return xo.RESOURCE_EXHAUSTED;case Ha.INTERNAL:return xo.INTERNAL;case Ha.UNAVAILABLE:return xo.UNAVAILABLE;case Ha.UNAUTHENTICATED:return xo.UNAUTHENTICATED;case Ha.INVALID_ARGUMENT:return xo.INVALID_ARGUMENT;case Ha.NOT_FOUND:return xo.NOT_FOUND;case Ha.ALREADY_EXISTS:return xo.ALREADY_EXISTS;case Ha.PERMISSION_DENIED:return xo.PERMISSION_DENIED;case Ha.FAILED_PRECONDITION:return xo.FAILED_PRECONDITION;case Ha.ABORTED:return xo.ABORTED;case Ha.OUT_OF_RANGE:return xo.OUT_OF_RANGE;case Ha.UNIMPLEMENTED:return xo.UNIMPLEMENTED;case Ha.DATA_LOSS:return xo.DATA_LOSS;default:return Lo()}}(Ga=Ha||(Ha={}))[Ga.OK=0]="OK",Ga[Ga.CANCELLED=1]="CANCELLED",Ga[Ga.UNKNOWN=2]="UNKNOWN",Ga[Ga.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ga[Ga.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ga[Ga.NOT_FOUND=5]="NOT_FOUND",Ga[Ga.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ga[Ga.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ga[Ga.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ga[Ga.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ga[Ga.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ga[Ga.ABORTED=10]="ABORTED",Ga[Ga.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ga[Ga.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ga[Ga.INTERNAL=13]="INTERNAL",Ga[Ga.UNAVAILABLE=14]="UNAVAILABLE",Ga[Ga.DATA_LOSS=15]="DATA_LOSS";var Za=function(){function e(e,t){this.comparator=e,this.root=t||Ya.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ya.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ya.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ja(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ja(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ja(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ja(this.root,e,this.comparator,!0)},e}(),Ja=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ya=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Lo();if(this.right.isRed())throw Lo();var e=this.left.check();if(e!==this.right.check())throw Lo();return e+(this.isRed()?0:1)},e}();Ya.EMPTY=null,Ya.RED=!0,Ya.BLACK=!1,Ya.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Lo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Lo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Lo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Lo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Lo()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ya(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Xa=function(){function e(e){this.comparator=e,this.data=new Za(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new eu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new eu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),eu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),tu=new Za(ds.comparator);function nu(){return tu}var ru=new Za(ds.comparator);function iu(){return ru}var ou=new Za(ds.comparator);function su(){return ou}var au=new Xa(ds.comparator);function uu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=au,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var cu=new Xa(qo);function lu(){return cu}var hu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($o.min(),r,lu(),nu(),uu())},e}(),du=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(ts.EMPTY_BYTE_STRING,n,uu(),uu(),uu())},e}(),fu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},pu=function(e,t){this.targetId=e,this.V=t},gu=function(e,t,n,r){void 0===n&&(n=ts.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},mu=function(){function e(){this.S=0,this.D=bu(),this.C=ts.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=uu(),t=uu(),n=uu();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lo()}}),new du(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=bu()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),yu=function(){function e(e){this.W=e,this.G=new Map,this.H=nu(),this.J=vu(),this.Y=new Xa(qo)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Lo()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Fs(i))if(0===n){var o=new ds(i.path);this.tt(t,o,xs.newNoDocument(o,$o.min()))}else Vo(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&Fs(o.target)){var s=new ds(o.target.path);null!==t.H.get(s)||t.at(i,s)||t.tt(i,s,xs.newNoDocument(s,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=uu();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new hu(e,n,this.Y,this.H,r);return this.H=nu(),this.J=vu(),this.Y=new Xa(qo),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new mu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Xa(qo),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Ro("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new mu),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function vu(){return new Za(ds.comparator)}function bu(){return new Za(ds.comparator)}var wu={asc:"ASCENDING",desc:"DESCENDING"},_u={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cu=function(e,t){this.databaseId=e,this.I=t};function Eu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Iu(e,t){return e.I?t.toBase64():t.toUint8Array()}function Su(e,t){return Eu(e,t.toTimestamp())}function Du(e){return Vo(!!e),$o.fromTimestamp(function(e){var t=rs(e);return new zo(t.seconds,t.nanos)}(e))}function Tu(e,t){return function(e){return new Jo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Au(e){var t=Jo.fromString(e);return Vo(Yu(t)),t}function xu(e,t){return Tu(e.databaseId,t.path)}function ku(e,t){var n=Au(t);if(n.get(1)!==e.databaseId.projectId)throw new ko(xo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ko(xo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ds(Fu(n))}function Nu(e,t){return Tu(e.databaseId,t)}function Ou(e){var t=Au(e);return 4===t.length?Jo.emptyPath():Fu(t)}function Ru(e){return new Jo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fu(e){return Vo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pu(e,t,n){return{name:xu(e,t),fields:n.value.mapValue.fields}}function Mu(e,t,n){var r=ku(e,t.name),i=Du(t.updateTime),o=new Ts({mapValue:{fields:t.fields}}),s=xs.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Lu(e,t){var n;if(t instanceof Va)n={update:Pu(e,t.key,t.value)};else if(t instanceof za)n={delete:xu(e,t.key)};else if(t instanceof ja)n={update:Pu(e,t.key,t.data),updateMask:Ju(t.fieldMask)};else{if(!(t instanceof $a))return Lo();n={verify:xu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof wa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _a)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Lo()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Su(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lo()}(e,t.precondition)),n}function Vu(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ka.updateTime(Du(e.updateTime)):void 0!==e.exists?ka.exists(e.exists):ka.none()}(t.currentDocument):ka.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;"setToServerValue"in t?(Vo("REQUEST_TIME"===t.setToServerValue),n=new wa):"appendMissingElements"in t?n=new _a(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Ea(t.removeAllFromArray.values||[]):"increment"in t?n=new Sa(e,t.increment):Lo();var r=Xo.fromServerFormat(t.fieldPath);return new Aa(r,n)}(e,t)}):[];if(t.update){var i=ku(e,t.update.name),o=new Ts({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){return new es((e.fieldPaths||[]).map(function(e){return Xo.fromServerFormat(e)}))}(t.updateMask);return new ja(i,o,s,n,r)}return new Va(i,o,n,r)}if(t.delete){var a=ku(e,t.delete);return new za(a,n)}if(t.verify){var u=ku(e,t.verify);return new $a(u,n)}return Lo()}function ju(e,t){return{documents:[Nu(e,t.path)]}}function Uu(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Nu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Nu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Is(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NAN"}};if(Es(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Is(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NAN"}};if(Es(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(e.field),op:$u(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Ku(e.field),direction:zu(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.I||cs(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Hu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Hu(t.endAt)),n}function Bu(e){var t=Ou(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=qu(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(e){return function(e){return new $s(Qu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return cs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Gu(n.startAt));var l=null;return n.endAt&&(l=Gu(n.endAt)),Js(t,i,a,s,u,"F",c,l)}function qu(e){return e?void 0!==e.unaryFilter?[Zu(e)]:void 0!==e.fieldFilter?[Wu(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return qu(e)}).reduce(function(e,t){return e.concat(t)}):Lo():[]}function Hu(e){return{before:e.before,values:e.position}}function Gu(e){return new Gs(e.values||[],!!e.before)}function zu(e){return wu[e]}function $u(e){return _u[e]}function Ku(e){return{fieldPath:e.canonicalString()}}function Qu(e){return Xo.fromServerFormat(e.fieldPath)}function Wu(e){return Ps.create(Qu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Lo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Zu(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qu(e.unaryFilter.field);return Ps.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qu(e.unaryFilter.field);return Ps.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qu(e.unaryFilter.field);return Ps.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qu(e.unaryFilter.field);return Ps.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Lo()}}function Ju(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Yu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Xu(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=tc(t)),t=ec(e.get(n),t);return tc(t)}function ec(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function tc(e){return e+"\x01\x01"}function nc(e){var t=e.length;if(Vo(t>=2),2===t)return Vo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jo.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&Lo(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:Lo()}o=s+2}return new Jo(r)}var rc=function(e,t){this.seconds=e,this.nanoseconds=t},ic=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ic.store="owner",ic.key="owner";var oc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};oc.store="mutationQueues",oc.keyPath="userId";var sc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sc.store="mutations",sc.keyPath="batchId",sc.userMutationsIndex="userMutationsIndex",sc.userMutationsKeyPath=["userId","batchId"];var ac=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Xu(t)]},e.key=function(e,t,n){return[e,Xu(t),n]},e}();ac.store="documentMutations",ac.PLACEHOLDER=new ac;var uc=function(e,t){this.path=e,this.readTime=t},cc=function(e,t){this.path=e,this.version=t},lc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};lc.store="remoteDocuments",lc.readTimeIndex="readTimeIndex",lc.readTimeIndexPath="readTime",lc.collectionReadTimeIndex="collectionReadTimeIndex",lc.collectionReadTimeIndexPath=["parentPath","readTime"];var hc=function(e){this.byteSize=e};hc.store="remoteDocumentGlobal",hc.key="remoteDocumentGlobalKey";var dc=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};dc.store="targets",dc.keyPath="targetId",dc.queryTargetsIndexName="queryTargetsIndex",dc.queryTargetsKeyPath=["canonicalId","targetId"];var fc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};fc.store="targetDocuments",fc.keyPath=["targetId","path"],fc.documentTargetsIndex="documentTargetsIndex",fc.documentTargetsKeyPath=["path","targetId"];var pc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pc.key="targetGlobalKey",pc.store="targetGlobal";var gc=function(e,t){this.collectionId=e,this.parent=t};gc.store="collectionParents",gc.keyPath=["collectionId","parent"];var mc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};mc.store="clientMetadata",mc.keyPath="clientId";var yc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};yc.store="bundles",yc.keyPath="bundleId";var vc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};vc.store="namedQueries",vc.keyPath="name";var bc=(0,mt.ev)((0,mt.ev)([],(0,mt.ev)((0,mt.ev)([],(0,mt.ev)((0,mt.ev)([],(0,mt.ev)((0,mt.ev)([],[oc.store,sc.store,ac.store,lc.store,dc.store,ic.store,pc.store,fc.store]),[mc.store])),[hc.store])),[gc.store])),[yc.store,vc.store]),wc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_c=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),Cc=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Ec=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Lo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),Ic=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Cc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Tc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Oc(t.target.error);n.ft.reject(new Tc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Tc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ro("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new xc(t)},e}(),Sc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,yt.z$)())&&Fo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Ro("SimpleDb","Removing database:",e),kc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,yt.z$)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,mt.mG)(this,void 0,void 0,function(){var t,n=this;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ro("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new Tc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new ko(xo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Tc(e,n))},i.onupgradeneeded=function(e){Ro("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next(function(){Ro("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,mt.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,mt.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,c,l;return(0,mt.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(e)];case 2:return a.db=h.sent(),t=Ic.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch(function(e){return t.abort(e),Ec.reject(e)}).toPromise(),u={},s.catch(function(){}),[4,t.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ro("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Dc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return kc(this.Pt.delete())},e}(),Tc=function(e){function t(t,n){var r=this;return(r=e.call(this,xo.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,mt.ZT)(t,e),t}(ko);function Ac(e){return"IndexedDbTransactionError"===e.name}var xc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Ro("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ro("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kc(n)},e.prototype.add=function(e){return Ro("SimpleDb","ADD",this.store.name,e,e),kc(this.store.add(e))},e.prototype.get=function(e){var t=this;return kc(this.store.get(e)).next(function(n){return void 0===n&&(n=null),Ro("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return Ro("SimpleDb","DELETE",this.store.name,e),kc(this.store.delete(e))},e.prototype.count=function(){return Ro("SimpleDb","COUNT",this.store.name),kc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.Ft=function(e,t){Ro("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Ec(function(n,r){t.onerror=function(e){var t=Oc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new Ec(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Dc(i),s=t(i.primaryKey,i.value,o);if(s instanceof Ec){var a=s.catch(function(e){return o.done(),Ec.reject(e)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ec.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function kc(e){return new Ec(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Oc(e.target.error);n(t)}})}var Nc=!1;function Oc(e){var t=Sc._t((0,yt.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ko("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Nc||(Nc=!0,setTimeout(function(){throw r},0)),r}}return e}var Rc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,mt.ZT)(t,e),t}(_c);function Fc(e,t){var n=jo(e);return Sc.It(n.Mt,t)}var Pc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ra(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Fa(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Fa(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($o.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},uu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,function(e,t){return Ma(e,t)})&&Ho(this.baseMutations,e.baseMutations,function(e,t){return Ma(e,t)})},e}(),Mc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Vo(t.mutations.length===r.length);for(var i=su(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),Lc=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=$o.min()),void 0===o&&(o=$o.min()),void 0===s&&(s=ts.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Vc=function(e){this.Lt=e};function jc(e,t){if(t.document)return Mu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ds.fromSegments(t.noDocument.path),r=Gc(t.noDocument.readTime),i=xs.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ds.fromSegments(t.unknownDocument.path);return r=Gc(t.unknownDocument.version),xs.newUnknownDocument(o,r)}return Lo()}function Uc(e,t,n){var r=Bc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:xu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Eu(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new lc(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=Hc(t.version);return s=t.hasCommittedMutations,new lc(null,new uc(a,u),null,s,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Hc(t.version);return new lc(new cc(c,l),null,null,!0,r,i)}return Lo()}function Bc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qc(e){var t=new zo(e[0],e[1]);return $o.fromTimestamp(t)}function Hc(e){var t=e.toTimestamp();return new rc(t.seconds,t.nanoseconds)}function Gc(e){var t=new zo(e.seconds,e.nanoseconds);return $o.fromTimestamp(t)}function zc(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Vu(e.Lt,t)}),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map(function(t){return Vu(e.Lt,t)}),o=zo.fromMillis(t.localWriteTimeMs);return new Pc(t.batchId,o,n,i)}function $c(e){var t,n,r=Gc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Gc(e.lastLimboFreeSnapshotVersion):$o.min();return void 0!==e.query.documents?(Vo(1===(n=e.query).documents.length),t=oa(Ys(Ou(n.documents[0])))):t=function(e){return oa(Bu(e))}(e.query),new Lc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ts.fromBase64String(e.resumeToken))}function Kc(e,t){var n,r=Hc(t.snapshotVersion),i=Hc(t.lastLimboFreeSnapshotVersion);n=Fs(t.target)?ju(e.Lt,t.target):Uu(e.Lt,t.target);var o=t.resumeToken.toBase64();return new dc(t.targetId,Os(t.target),r,o,t.sequenceNumber,i,n)}function Qc(e){var t=Bu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sa(t,t.limit,"L"):t}var Wc=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Zc(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Gc(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return Zc(e).put({bundleId:(n=t).id,createTime:Hc(Du(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Jc(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Qc(t.bundledQuery),readTime:Gc(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return Jc(e).put(function(e){return{name:e.name,readTime:Hc(Du(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Zc(e){return Fc(e,yc.store)}function Jc(e){return Fc(e,vc.store)}var Yc=function(){function e(){this.Bt=new Xc}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ec.resolve()},e.prototype.getCollectionParents=function(e,t){return Ec.resolve(this.Bt.getEntries(t))},e}(),Xc=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xa(Jo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Xa(Jo.comparator)).toArray()},e}(),el=function(){function e(){this.qt=new Xc}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:Xu(i)};return tl(e).put(o)}return Ec.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Go(t),""],!1,!0);return tl(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(nc(o.parent))}return n})},e}();function tl(e){return Fc(e,gc.store)}var nl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rl=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function il(e,t,n){var r=e.store(sc.store),i=e.store(ac.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(e,t,n){return a++,n.delete()});o.push(u.next(function(){Vo(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=ac.key(t,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Ec.waitFor(o).next(function(){return c})}function ol(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Lo();t=e.noDocument}return JSON.stringify(t).length}rl.DEFAULT_COLLECTION_PERCENTILE=10,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rl.DEFAULT=new rl(41943040,rl.DEFAULT_COLLECTION_PERCENTILE,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rl.DISABLED=new rl(-1,0,0);var sl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Vo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).$t({index:sc.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=cl(e),s=ul(e);return s.add({}).next(function(a){Vo("number"==typeof a);for(var u=new Pc(a,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return Lu(e.Lt,t)}),i=n.mutations.map(function(t){return Lu(e.Lt,t)});return new sc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Xa(function(e,t){return qo(e.canonicalString(),t.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=ac.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,ac.PLACEHOLDER))}return h.forEach(function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Ec.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return ul(e).get(t).next(function(e){return e?(Vo(e.userId===n.userId),zc(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Ec.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ul(e).$t({index:sc.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(Vo(t.batchId>=r),o=zc(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ul(e).$t({index:sc.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).Nt(sc.userMutationsIndex,n).next(function(e){return e.map(function(e){return zc(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=ac.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return cl(e).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=nc(r[1]);if(a===n.userId&&t.path.isEqual(c))return ul(e).get(u).next(function(e){if(!e)throw Lo();Vo(e.userId===n.userId),o.push(zc(n.R,e))});s.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Xa(qo),i=[];return t.forEach(function(t){var o=ac.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=cl(e).$t({range:s},function(e,i,o){var s=e[0],a=e[2],u=nc(e[1]);s===n.userId&&t.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ec.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=ac.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Xa(qo);return cl(e).$t({range:s},function(e,t,o){var s=e[0],u=e[2],c=nc(e[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(e,a)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(ul(e).get(t).next(function(e){if(null===e)throw Lo();Vo(e.userId===n.userId),r.push(zc(n.R,e))}))}),Ec.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return il(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),Ec.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Ec.resolve();var r=IDBKeyRange.lowerBound(ac.prefixForUser(t.userId)),i=[];return cl(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=nc(e[1]);i.push(o)}else r.done()}).next(function(){Vo(0===i.length)})})},e.prototype.containsKey=function(e,t){return al(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return ll(e).get(this.userId).next(function(e){return e||new oc(t.userId,-1,"")})},e}();function al(e,t,n){var r=ac.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return cl(e).$t({range:o,kt:!0},function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()}).next(function(){return s})}function ul(e){return Fc(e,sc.store)}function cl(e){return Fc(e,ac.store)}function ll(e){return Fc(e,oc.store)}var hl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),dl=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new hl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return $o.fromTimestamp(new zo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return fl(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return Vo(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return fl(e).$t(function(s,a){var u=$c(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return Ec.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return fl(e).$t(function(e,n){var r=$c(n);t(r)})},e.prototype.Xt=function(e){return pl(e).get(pc.key).next(function(e){return Vo(null!==e),e})},e.prototype.Zt=function(e,t){return pl(e).put(pc.key,t)},e.prototype.te=function(e,t){return fl(e).put(Kc(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=Os(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fl(e).$t({range:r,index:dc.queryTargetsIndexName},function(e,n,r){var o=$c(n);Rs(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=gl(e);return t.forEach(function(t){var s=Xu(t.path);i.push(o.put(new fc(n,s))),i.push(r.referenceDelegate.addReference(e,n,t))}),Ec.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=gl(e);return Ec.forEach(t,function(t){var o=Xu(t.path);return Ec.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=gl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gl(e),i=uu();return r.$t({range:n,kt:!0},function(e,t,n){var r=nc(e[1]),o=new ds(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=Xu(t.path),r=IDBKeyRange.bound([n],[Go(n)],!1,!0),i=0;return gl(e).$t({index:fc.documentTargetsIndex,kt:!0,range:r},function(e,t,n){0!==e[0]&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return fl(e).get(t).next(function(e){return e?$c(e):null})},e}();function fl(e){return Fc(e,dc.store)}function pl(e){return Fc(e,pc.store)}function gl(e){return Fc(e,fc.store)}function ml(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){if(e.code!==xo.FAILED_PRECONDITION||e.message!==wc)throw e;return Ro("LocalStore","Unexpectedly lost primary lease"),[2]})})}function yl(e,t){var n=e[1],r=t[1],i=qo(e[0],t[0]);return 0===i?qo(n,r):i}var vl=function(){function e(e){this.ne=e,this.buffer=new Xa(yl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),bl=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Ro("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,mt.mG)(t,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ac(t=n.sent())?(Ro("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,ml(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),wl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Ec.resolve(Ao.o);var r=new vl(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ro("LruGarbageCollector","Garbage collection skipped; disabled"),Ec.resolve(nl)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ro("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),nl):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ro("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,a=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),Oo()<=vt.in.DEBUG&&Ro("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+e+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ec.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),_l=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new wl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return Cl(e,n)},e.prototype.removeReference=function(e,t,n){return Cl(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Cl(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return ll(e).Ot(function(r){return al(e,r,t).next(function(e){return e&&(n=!0),Ec.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(s,a){if(a<=t){var u=n._e(e,s).next(function(t){if(!t)return o++,r.getEntry(e,s).next(function(){return r.removeEntry(s),gl(e).delete([0,Xu(s.path)])})});i.push(u)}}).next(function(){return Ec.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Cl(e,t)},e.prototype.we=function(e,t){var n,r=gl(e),i=Ao.o;return r.$t({index:fc.documentTargetsIndex},function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==Ao.o&&t(new ds(nc(n)),i),i=s,n=o):i=Ao.o}).next(function(){i!==Ao.o&&t(new ds(nc(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Cl(e,t){return gl(e).put(function(e,t){return new fc(0,Xu(e.path),t)}(t,e.currentSequenceNumber))}var El=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Qo(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}})},e.prototype.isEmpty=function(){return Wo(this.inner)},e}(),Il=function(){function e(){this.changes=new El(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:$o.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:xs.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ec.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Sl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Al(e).put(xl(t),n)},e.prototype.removeEntry=function(e,t){var n=Al(e),r=xl(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return Al(e).get(xl(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return Al(e).get(xl(t)).next(function(e){return{document:n.ye(t,e),size:ol(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=nu();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=nu(),i=new Za(ds.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ol(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Ec.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Al(e).$t({range:r},function(e,t,r){for(var s=ds.fromSegments(e);o&&ds.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=nu(),o=t.path.length+1,s={};if(n.isEqual($o.min())){var a=t.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.toArray(),c=Bc(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=lc.collectionReadTimeIndex}return Al(e).$t(s,function(e,n,s){if(e.length===o){var a=jc(r.R,n);t.path.isPrefixOf(a.key.path)?la(t,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new Dl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return Tl(e).get(hc.key).next(function(e){return Vo(!!e),e})},e.prototype.me=function(e,t){return Tl(e).put(hc.key,t)},e.prototype.ye=function(e,t){if(t){var n=jc(this.R,t);if(!n.isNoDocument()||!n.version.isEqual($o.min()))return n}return xs.newInvalidDocument(e)},e}(),Dl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new El(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return(0,mt.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Xa(function(e,t){return qo(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,s){var a=t.Ae.get(o);if(s.document.isValidDocument()){var u=Uc(t.Ie.R,s.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=ol(u);r+=c-a,n.push(t.Ie.addEntry(e,o,u))}else if(r-=a,t.trackRemovals){var l=Uc(t.Ie.R,xs.newNoDocument(o,$o.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),Ec.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(Il);function Tl(e){return Fc(e,hc.store)}function Al(e){return Fc(e,lc.store)}function xl(e){return e.path.toArray()}var kl=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Vo(n<r&&n>=0&&r<=11);var o=new Ic("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ic.store)}(e),function(e){e.createObjectStore(oc.store,{keyPath:oc.keyPath}),e.createObjectStore(sc.store,{keyPath:sc.keyPath,autoIncrement:!0}).createIndex(sc.userMutationsIndex,sc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ac.store)}(e),Nl(e),function(e){e.createObjectStore(lc.store)}(e));var s=Ec.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(fc.store),e.deleteObjectStore(dc.store),e.deleteObjectStore(pc.store)}(e),Nl(e)),s=s.next(function(){return function(e){var t=e.store(pc.store),n=new pc(0,0,$o.min().toTimestamp(),0);return t.put(pc.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(e,t){return t.store(sc.store).Nt().next(function(n){e.deleteObjectStore(sc.store),e.createObjectStore(sc.store,{keyPath:sc.keyPath,autoIncrement:!0}).createIndex(sc.userMutationsIndex,sc.userMutationsKeyPath,{unique:!0});var r=t.store(sc.store),i=n.map(function(e){return r.put(e)});return Ec.waitFor(i)})}(e,o)})),s=s.next(function(){!function(e){e.createObjectStore(mc.store,{keyPath:mc.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(e){e.createObjectStore(hc.store)}(e),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(s=s.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(lc.store);t.createIndex(lc.readTimeIndex,lc.readTimeIndexPath,{unique:!1}),t.createIndex(lc.collectionReadTimeIndex,lc.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(e){e.createObjectStore(yc.store,{keyPath:yc.keyPath})}(e),function(e){e.createObjectStore(vc.store,{keyPath:vc.keyPath})}(e)})),s},e.prototype.be=function(e){var t=0;return e.store(lc.store).$t(function(e,n){t+=ol(n)}).next(function(){var n=new hc(t);return e.store(hc.store).put(hc.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(oc.store),r=e.store(sc.store);return n.Nt().next(function(n){return Ec.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(sc.userMutationsIndex,i).next(function(r){return Ec.forEach(r,function(r){Vo(r.userId===n.userId);var i=zc(t.R,r);return il(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(fc.store),n=e.store(lc.store);return e.store(pc.store).get(pc.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new Jo(n),s=function(e){return[0,Xu(e)]}(o);r.push(t.get(s).next(function(n){return n?Ec.resolve():function(n){return t.put(new fc(0,Xu(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return Ec.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(gc.store,{keyPath:gc.keyPath});var n=t.store(gc.store),r=new Xc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Xu(i)})}};return t.store(lc.store).$t({kt:!0},function(e,t){var n=new Jo(e);return i(n.popLast())}).next(function(){return t.store(ac.store).$t({kt:!0},function(e,t){var n=nc(e[1]);return i(n.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(dc.store);return n.$t(function(e,r){var i=$c(r),o=Kc(t.R,i);return n.put(o)})},e}();function Nl(e){e.createObjectStore(fc.store,{keyPath:fc.keyPath}).createIndex(fc.documentTargetsIndex,fc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(dc.store,{keyPath:dc.keyPath}).createIndex(dc.queryTargetsIndexName,dc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(pc.store)}var Ol="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rl=function(){function e(t,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new ko(xo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _l(this,i),this.Le=n+"main",this.R=new Vc(u),this.Be=new Sc(this.Le,11,new kl(this.R)),this.qe=new dl(this.referenceDelegate,this.R),this.Ut=new el,this.Ue=function(e,t){return new Sl(e,t)}(this.R,this.Ut),this.Ke=new Wc,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Fo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ko(xo.FAILED_PRECONDITION,Ol);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new Ao(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,mt.mG)(t,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return(0,mt.mG)(t,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,mt.mG)(t,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Pl(t).put(new mc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(Ac(t))return Ro("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ro("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return Fl(e).get(ic.key).next(function(e){return Ec.resolve(t.tn(e))})},e.prototype.en=function(e){return Pl(e).delete(this.clientId)},e.prototype.nn=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t,n,r=this;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=Fc(e,mc.store);return t.Nt().next(function(e){var n=r.rn(e,18e5),i=e.filter(function(e){return-1===n.indexOf(e)});return Ec.forEach(i,function(e){return t.delete(e.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)this.Qe.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Ec.resolve(!0):Fl(e).get(ic.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new ko(xo.FAILED_PRECONDITION,Ol);return!1}}return!(!t.networkEnabled||!t.inForeground)||Pl(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))})})}).next(function(e){return t.isPrimary!==e&&Ro("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e=this;return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ic.store,mc.store],function(t){var n=new Rc(t,Ao.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Pl(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return sl.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return Ro("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",bc,function(o){return r=new Rc(o,i.Ne?i.Ne.next():Ao.o),"readwrite-primary"===t?i.Je(r).next(function(e){return!!e||i.Ye(r)}).next(function(t){if(!t)throw Fo("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new ko(xo.FAILED_PRECONDITION,wc);return n(r)}).next(function(e){return i.Ze(r).next(function(){return e})}):i.dn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return Fl(e).get(ic.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ko(xo.FAILED_PRECONDITION,Ol)})},e.prototype.Ze=function(e){var t=new ic(this.clientId,this.allowTabSynchronization,Date.now());return Fl(e).put(ic.key,t)},e.yt=function(){return Sc.yt()},e.prototype.Xe=function(e){var t=this,n=Fl(e);return n.get(ic.key).next(function(e){return t.tn(e)?(Ro("IndexedDbPersistence","Releasing primary lease."),n.delete(ic.key)):Ec.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Fo("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ro("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Fo("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Fo("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Fl(e){return Fc(e,ic.store)}function Pl(e){return Fc(e,mc.store)}function Ml(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ll=function(e,t){this.progress=e,this.wn=t},Vl=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ds.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):ra(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ds(t)).next(function(e){var t=iu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=iu();return this.Ut.getCollectionParents(e,i).next(function(s){return Ec.forEach(s,function(s){var a=function(e,t){return new Zs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return r.An(e,a,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return o.Rn(e,i=t,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=xs.newInvalidDocument(c),r=r.insert(c,l)),Fa(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){la(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=uu(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ja&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),jl=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=uu(),i=uu(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ul=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual($o.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(o){var s=i.Cn(t,o);return(Xs(t)||ea(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(Oo()<=vt.in.DEBUG&&Ro("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ca(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return s.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new Xa(ha(e));return t.forEach(function(t,r){la(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Oo()<=vt.in.DEBUG&&Ro("QueryEngine","Using full collection scan to execute query:",ca(t)),this.Sn.getDocumentsMatchingQuery(e,t,$o.min())},e}(),Bl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Za(qo),this.kn=new El(function(e){return Os(e)},Rs),this.$n=$o.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Vl(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.Fn)})},e}();function ql(e,t,n,r){return new Bl(e,t,n,r)}function Hl(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,mt.Jh)(this,function(s){switch(s.label){case 0:return n=jo(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n._n.getAllMutationBatches(e).next(function(s){return o=s,r=n.persistence.getMutationQueue(t),i=new Vl(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],s=uu(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(e,s).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Gl(e,t){var n=jo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=Ec.resolve();return o.forEach(function(e){s=s.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);Vo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),s.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function zl(e){var t=jo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function $l(e,t){var n=jo(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];t.targetChanges.forEach(function(t,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Vo(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&s.push(n.qe.updateTargetData(e,c))}}});var a=nu();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Kl(e,o,t.documentUpdates,r,void 0).next(function(e){a=e})),!r.isEqual($o.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});s.push(u)}return Ec.waitFor(s).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,a)}).next(function(){return a})}).then(function(e){return n.Fn=i,e})}function Kl(e,t,n,r,i){var o=uu();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=nu();return n.forEach(function(n,s){var a=e.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual($o.min())?(t.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),o=o.insert(n,s)):Ro("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Ql(e,t){var n=jo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function Wl(e,t){var n=jo(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?Ec.resolve(r=i):n.qe.allocateTargetId(e).next(function(i){return r=new Lc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e})}function Zl(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,mt.Jh)(this,function(a){switch(a.label){case 0:r=jo(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(e){return r.persistence.referenceDelegate.removeTarget(e,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ac(s=a.sent()))throw s;return Ro("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function Jl(e,t,n){var r=jo(e),i=$o.min(),o=uu();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=jo(e),i=r.kn.get(n);return void 0!==i?Ec.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,oa(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:$o.min(),n?o:uu())}).next(function(e){return{documents:e,Bn:o}})})}function Yl(e,t){var n=jo(e),r=jo(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function Xl(e){var t=jo(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=jo(e),i=nu(),o=Bc(n),s=Al(t),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:lc.readTimeIndex,range:a},function(e,t){var n=jc(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:qc(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn;return t.$n=e.readTime,n})}function eh(e){return(0,mt.mG)(this,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){return[2,(t=jo(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=Al(e),n=$o.min();return t.$t({index:lc.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=qc(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function th(e,t,n,r){return(0,mt.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return(0,mt.Jh)(this,function(p){switch(p.label){case 0:for(i=jo(e),o=uu(),s=nu(),a=su(),u=0,c=n;u<c.length;u++)h=t.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,t.Un(l)),a=a.insert(h,t.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Wl(i,function(e){return oa(Ys(Jo.fromString("__bundle__/docs/"+e)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Kl(e,d,s,$o.min(),a).next(function(t){return d.apply(e),t}).next(function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next(function(){return i.qe.addMatchingKeys(e,o,f.targetId)}).next(function(){return i.Mn.En(e,t)}).next(function(){return t})})})]}})})}function nh(e,t,n){return void 0===n&&(n=uu()),(0,mt.mG)(this,void 0,void 0,function(){var r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return[4,Wl(e,oa(Qc(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=jo(e)).persistence.runTransaction("Save named query","readwrite",function(e){var o=Du(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var s=r.withResumeToken(ts.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(e,s).next(function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return i.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(e,t)})})]}})})}var rh=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Ec.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Du(n.createTime)}),Ec.resolve()},e.prototype.getNamedQuery=function(e,t){return Ec.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Qc(e.bundledQuery),readTime:Du(e.readTime)}}(t)),Ec.resolve()},e}(),ih=function(){function e(){this.Wn=new Xa(oh.Gn),this.zn=new Xa(oh.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new oh(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new oh(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new ds(new Jo([])),r=new oh(n,e),i=new oh(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ds(new Jo([])),n=new oh(t,e),r=new oh(t,e+1),i=uu();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new oh(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),oh=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ds.comparator(e.key,t.key)||qo(e.ns,t.ns)},e.Hn=function(e,t){return qo(e.ns,t.ns)||ds.comparator(e.key,t.key)},e}(),sh=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Xa(oh.Gn)}return e.prototype.checkEmpty=function(e){return Ec.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new Pc(i,t,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new oh(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Ec.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Ec.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return Ec.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Ec.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Ec.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new oh(t,0),i=new oh(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),Ec.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Xa(qo);return t.forEach(function(e){var t=new oh(e,0),i=new oh(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),Ec.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ds.isDocumentKey(i)||(i=i.child(""));var o=new oh(new ds(i),0),s=new Xa(qo);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ns)),!0)},o),Ec.resolve(this.us(s))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Vo(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Ec.forEach(t.mutations,function(i){var o=new oh(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new oh(t,0),r=this.rs.firstAfterOrEqual(n);return Ec.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return Ec.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),ah=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Za(ds.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Ec.resolve(n?n.document.clone():xs.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=nu();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():xs.newInvalidDocument(e))}),Ec.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=nu(),i=new ds(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!t.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||la(t,u)&&(r=r.insert(u.key,u.clone()))}return Ec.resolve(r)},e.prototype.fs=function(e,t){return Ec.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new uh(this)},e.prototype.getSize=function(e){return Ec.resolve(this.size)},e}(),uh=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,mt.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),Ec.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Il),ch=function(){function e(e){this.persistence=e,this.ds=new El(function(e){return Os(e)},Rs),this.lastRemoteSnapshotVersion=$o.min(),this.highestTargetId=0,this.ws=0,this._s=new ih,this.targetCount=0,this.ys=hl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),Ec.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Ec.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Ec.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ec.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Ec.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ec.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Ec.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ec.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ec.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return Ec.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Ec.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Ec.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),Ec.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ec.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Ec.resolve(n)},e.prototype.containsKey=function(e,t){return Ec.resolve(this._s.containsKey(t))},e}(),lh=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Ao(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ch(this),this.Ut=new Yc,this.Ue=function(e,t){return new ah(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new Vc(t),this.Ke=new rh(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new sh(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ro("MemoryPersistence","Starting transaction:",e);var i=new hh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return Ec.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),hh=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,mt.ZT)(t,e),t}(_c),dh=function(){function e(e){this.persistence=e,this.As=new ih,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Lo()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Ec.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Ec.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ec.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ec.forEach(this.vs,function(r){var i=ds.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Ec.or([function(){return Ec.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),fh=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function ph(e,t){return"firestore_clients_"+e+"_"+t}function gh(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function mh(e,t){return"firestore_targets_"+e+"_"+t}fh.UNAUTHENTICATED=new fh(null),fh.GOOGLE_CREDENTIALS=new fh("google-credentials-uid"),fh.FIRST_PARTY=new fh("first-party-uid");var yh=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ko(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Fo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),vh=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ko(i.error.code,i.error.message)),o?new e(t,i.state,r):(Fo("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),bh=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=lu(),s=0;i&&s<r.activeTargetIds.length;++s)i=hs(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Fo("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),wh=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Fo("SharedClientState","Failed to parse online state: "+t),null)},e}(),_h=function(){function e(){this.activeTargetIds=lu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Ch=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Za(qo),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=ph(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new _h),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t,n,r,i,o,s,a,u,c,l=this;return(0,mt.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(ph(this.persistenceKey,r)))&&(o=bh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(mh(this.persistenceKey,e));if(n){var r=vh.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(mh(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ro("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Ro("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Ro("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ro("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Fo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,mt.mG)(t,void 0,void 0,function(){var e,t,r,i,o,s;return(0,mt.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(e){var t=Ao.o;if(null!=e)try{var n=JSON.parse(e);Vo("number"==typeof n),t=n}catch(e){Fo("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ao.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new yh(this.currentUser,e,t,n),i=gh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=gh(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=mh(this.persistenceKey,e),i=new vh(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return bh.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return yh.Vs(new fh(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return vh.Vs(r,t)},e.prototype.js=function(e){return wh.Vs(e)},e.prototype.ii=function(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ro("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(e){i.has(e)||s.push(e)}),i.forEach(function(e){o.has(e)||a.push(e)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=lu();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),Eh=function(){function e(){this.li=new _h,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new _h,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Ih=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Sh=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Ro("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Ro("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Dh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Th=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Ah=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,mt.ZT)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise(function(i,o){var s=new To;s.listenOnce(Eo.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Co.NO_ERROR:var t=s.getResponseJson();Ro("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Co.TIMEOUT:Ro("Connection",'RPC "'+e+'" timed out'),o(new ko(xo.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:var n=s.getStatus();if(Ro("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(xo).indexOf(t)>=0?t:xo.UNKNOWN}(r.status);o(new ko(a,r.message))}else o(new ko(xo.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ko(xo.UNAVAILABLE,"Connection failed."));break;default:Lo()}}finally{Ro("Connection",'RPC "'+e+'" completed.')}});var a=JSON.stringify(r);s.send(t,"POST",a,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new yo,i=lr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new So({})),this.Fi(o.initMessageHeaders,t),(0,yt.uI)()||(0,yt.b$)()||(0,yt.d)()||(0,yt.w1)()||(0,yt.Mn)()||(0,yt.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ro("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Th({Ei:function(e){c?Ro("Connection","Not sending because WebChannel is closed:",e):(u||(Ro("Connection","Opening WebChannel transport."),a.open(),u=!0),Ro("Connection","WebChannel sending:",e),a.send(e))},Ti:function(){return a.close()}}),h=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(a,Do.EventType.OPEN,function(){c||Ro("Connection","WebChannel transport opened.")}),h(a,Do.EventType.CLOSE,function(){c||(c=!0,Ro("Connection","WebChannel transport closed"),l.Vi())}),h(a,Do.EventType.ERROR,function(e){c||(c=!0,Po("Connection","WebChannel transport errored:",e),l.Vi(new ko(xo.UNAVAILABLE,"The operation could not be completed")))}),h(a,Do.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];Vo(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){Ro("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Ha[e];if(void 0!==t)return Wa(t)}(i),s=r.message;void 0===o&&(o=xo.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new ko(o,s)),a.close()}else Ro("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Io.STAT_EVENT,function(e){10===e.stat?Ro("Connection","Detected buffering proxy"):11===e.stat&&Ro("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Ro("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then(function(e){return Ro("RestConnection","Received: ",e),e},function(t){throw Po("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+Dh[e]},e}());function xh(){return"undefined"!=typeof window?window:null}function kh(){return"undefined"!=typeof document?document:null}function Nh(e){return new Cu(e,!0)}var Oh=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ro("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Rh=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Oh(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===xo.RESOURCE_EXHAUSTED?(Fo(t.toString()),Fo("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===xo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new ko(xo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,mt.mG)(e,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return Ro("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(Ro("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Fh=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,mt.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Vo(void 0===t||"string"==typeof t),ts.fromBase64String(t||"")):(Vo(void 0===t||t instanceof Uint8Array),ts.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(a=t.targetChange.cause)&&function(e){var t=void 0===e.code?xo.UNKNOWN:Wa(e.code);return new ko(t,e.message||"")}(a);n=new gu(r,i,o,s||null)}else if("documentChange"in t){i=ku(e,(r=t.documentChange).document.name),o=Du(r.document.updateTime);var a=new Ts({mapValue:{fields:r.document.fields}}),u=(s=xs.newFoundDocument(i,o,a),r.targetIds||[]);n=new fu(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in t)i=ku(e,(r=t.documentDelete).document),o=r.readTime?Du(r.readTime):$o.min(),a=xs.newNoDocument(i,o),n=new fu([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in t)i=ku(e,(r=t.documentRemove).document),n=new fu([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return Lo();var c=t.filter;i=new Ka(r=c.count||0),n=new pu(o=c.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return $o.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$o.min():t.readTime?Du(t.readTime):$o.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Ru(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Fs(r)?{documents:ju(e,r)}:{query:Uu(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Iu(e,t.resumeToken):t.snapshotVersion.compareTo($o.min())>0&&(n.readTime=Eu(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Ru(this.R),t.removeTarget=e,this.cr(t)},t}(Rh),Ph=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,mt.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Vo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Vo(void 0!==t),e.map(function(e){return function(e,t){var n=Du(e.updateTime?e.updateTime:t);return n.isEqual($o.min())&&(n=Du(t)),new xa(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Du(e.commitTime);return this.listener.Tr(n,t)}return Vo(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Ru(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Lu(t.R,e)})};this.cr(n)},t}(Rh),Mh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,mt.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new ko(xo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===xo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ko(xo.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===xo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ko(xo.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Lh=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Fo(t),this.Vr=!1):Ro("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Vh=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(e){n.enqueueAndForget(function(){return(0,mt.mG)(o,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){switch(e.label){case 0:return Kh(this)?(Ro("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,mt.mG)(this,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return(t=jo(e)).Or.add(4),[4,Uh(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,jh(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new Lh(n,r)};function jh(e){return(0,mt.mG)(this,void 0,void 0,function(){var t,n;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:if(!Kh(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Uh(e){return(0,mt.mG)(this,void 0,void 0,function(){var t,n;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Bh(e,t){var n=jo(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),$h(n)?zh(n):ud(n).er()&&Hh(n,t))}function qh(e,t){var n=jo(e),r=ud(n);n.$r.delete(t),r.er()&&Gh(n,t),0===n.$r.size&&(r.er()?r.ir():Kh(n)&&n.Br.set("Unknown"))}function Hh(e,t){e.qr.U(t.targetId),ud(e).mr(t)}function Gh(e,t){e.qr.U(t),ud(e).yr(t)}function zh(e){e.qr=new yu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),ud(e).start(),e.Br.Sr()}function $h(e){return Kh(e)&&!ud(e).tr()&&e.$r.size>0}function Kh(e){return 0===jo(e).Or.size}function Qh(e){e.qr=void 0}function Wh(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){return e.$r.forEach(function(t,n){Hh(e,t)}),[2]})})}function Zh(e,t){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(n){return Qh(e),$h(e)?(e.Br.Nr(t),zh(e)):e.Br.set("Unknown"),[2]})})}function Jh(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i,o;return(0,mt.Jh)(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof gu&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,mt.Jh)(this,function(s){switch(s.label){case 0:n=t.cause,r=0,i=t.targetIds,s.label=1;case 1:return r<i.length?e.$r.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),e.$r.delete(o),e.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ro("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Yh(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof fu?e.qr.X(t):t instanceof pu?e.qr.rt(t):e.qr.et(t),n.isEqual($o.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,zl(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(ts.EMPTY_BYTE_STRING,n.snapshotVersion)),Gh(e,t);var r=new Lc(n.target,t,1,n.sequenceNumber);Hh(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ro("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Yh(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Yh(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r=this;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:if(!Ac(t))throw t;return e.Or.add(1),[4,Uh(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return zl(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return(0,mt.mG)(r,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return Ro("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,jh(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Xh(e,t){return t().catch(function(n){return Yh(e,n,t)})}function ed(e){return(0,mt.mG)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,mt.Jh)(this,function(s){switch(s.label){case 0:t=jo(e),n=cd(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(e){return Kh(e)&&e.kr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ql(t.localStore,r)];case 3:return null===(i=s.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=cd(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Yh(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return td(t)&&nd(t),[2]}})})}function td(e){return Kh(e)&&!cd(e).tr()&&e.kr.length>0}function nd(e){cd(e).start()}function rd(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){return cd(e).Ar(),[2]})})}function id(e){return(0,mt.mG)(this,void 0,void 0,function(){var t,n,r;return(0,mt.Jh)(this,function(i){for(t=cd(e),n=0,r=e.kr;n<r.length;n++)t.Er(r[n].mutations);return[2]})})}function od(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Mc.from(r,t,n),[4,Xh(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ed(e)];case 2:return o.sent(),[2]}})})}function sd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return t&&cd(e).pr?[4,function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return Qa(r=t.code)&&r!==xo.ABORTED?(n=e.kr.shift(),cd(e).sr(),[4,Xh(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,ed(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return td(e)&&nd(e),[2]}})})}function ad(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return n=jo(e),t?(n.Or.delete(2),[4,jh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Uh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ud(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=jo(e);return r.br(),new Fh(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Wh.bind(null,e),Ri:Zh.bind(null,e),_r:Jh.bind(null,e)}),e.Mr.push(function(n){return(0,mt.mG)(t,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),$h(e)?zh(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Qh(e),t.label=3;case 3:return[2]}})})})),e.Ur}function cd(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=jo(e);return r.br(),new Ph(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:rd.bind(null,e),Ri:sd.bind(null,e),Ir:id.bind(null,e),Tr:od.bind(null,e)}),e.Mr.push(function(n){return(0,mt.mG)(t,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,ed(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(Ro("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}var ld=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ko(xo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function hd(e,t){if(Fo("AsyncQueue",t+": "+e),Ac(e))return new ko(xo.UNAVAILABLE,t+": "+e);throw e}var dd=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ds.comparator(t.key,n.key)}:function(e,t){return ds.comparator(e.key,t.key)},this.keyedMap=iu(),this.sortedSet=new Za(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),fd=function(){function e(){this.Qr=new Za(ds.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Lo():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),pd=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,dd.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),gd=function(){this.Wr=void 0,this.listeners=[]},md=function(){this.queries=new El(function(e){return ua(e)},aa),this.onlineState="Unknown",this.Gr=new Set};function yd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,mt.Jh)(this,function(c){switch(c.label){case 0:if(n=jo(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new gd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=hd(a,"Initialization of query '"+ca(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&_d(n),[2]}})})}function vd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,mt.Jh)(this,function(a){return n=jo(e),i=!1,(o=n.queries.get(r=t.query))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function bd(e,t){for(var n=jo(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&_d(n)}function wd(e,t,n){var r=jo(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function _d(e){e.Gr.forEach(function(e){e.next()})}var Cd=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new pd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Ed=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Id=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ku(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Mu(this.R,e.document,!1):xs.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Du(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Id(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(t.get(c)||uu()).add(s);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t,n,r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return[4,th(this.localStore,new Id(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,nh(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ll(Object.assign({},this.progress),e))]}})})}}();var Sd=function(e){this.key=e},Dd=function(e){this.key=e},Td=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=uu(),this.mutatedKeys=uu(),this.lo=ha(e),this.fo=new dd(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new fd,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Xs(this.query)&&i.size===this.query.limit?i.last():null,c=ea(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=la(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))}),Xs(this.query)||ea(this.query))for(;s.size>this.query.limit;){var l=Xs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lo()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var s=t?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new pd(this.query,e.fo,i,o,e.mutatedKeys,0===a,u,!1),To:s}:{To:s}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=uu(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new Dd(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new Sd(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=uu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return pd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Ad=function(e,t,n){this.query=e,this.targetId=t,this.view=n},xd=function(e){this.key=e,this.bo=!1},kd=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new El(function(e){return ua(e)},aa),this.Vo=new Map,this.So=new Set,this.Do=new Za(ds.comparator),this.Co=new Map,this.No=new ih,this.xo={},this.Fo=new Map,this.ko=hl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Nd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,mt.Jh)(this,function(a){switch(a.label){case 0:return n=af(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Wl(n.localStore,oa(t))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Od(n,t,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Bh(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Od(e,t,n,r){return(0,mt.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,mt.Jh)(this,function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,mt.mG)(this,void 0,void 0,function(){var i,o,s;return(0,mt.Jh)(this,function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,Jl(e.localStore,t.query,!1).then(function(e){return t.view._o(e.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(zd(e,t.targetId,s.To),s.snapshot)]}})})}(e,t,n,r)},[4,Jl(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Td(t,i.Bn),s=o._o(i.documents),a=du.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(s,e.isPrimaryClient,a),zd(e,n,u.To),c=new Ad(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function Rd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return n=jo(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(e){return!aa(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Zl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),qh(n.remoteStore,r.targetId),Hd(n,r.targetId)}).catch(ml)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Hd(n,r.targetId),[4,Zl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Fd(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,mt.Jh)(this,function(a){switch(a.label){case 0:r=uf(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(e,t){var n,r=jo(e),i=zo.now(),o=t.reduce(function(e,t){return e.add(t.key)},uu());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=Pa(c,n.get(c.key));null!=l&&s.push(new ja(c.key,l,As(l.value.mapValue),ka.exists(!0)))}return r._n.addMutationBatch(e,i,s,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Za(qo)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Qd(r,i.changes)];case 3:return a.sent(),[4,ed(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=hd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Pd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:n=jo(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$l(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(Vo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Vo(r.bo):e.removedDocuments.size>0&&(Vo(r.bo),r.bo=!1))}),[4,Qd(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ml(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Md(e,t,n){var r=jo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=jo(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&_d(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ld(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,mt.Jh)(this,function(c){switch(c.label){case 0:return(r=jo(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Za(ds.comparator)).insert(o,xs.newNoDocument(o,$o.min())),a=uu().add(o),u=new hu($o.min(),new Map,new Xa(qo),s,a),[4,Pd(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Kd(r),[3,4];case 2:return[4,Zl(r.localStore,t,!1).then(function(){return Hd(r,t,n)}).catch(ml)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Vd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:n=jo(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gl(n.localStore,t)];case 2:return i=o.sent(),qd(n,r,null),Bd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Qd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ml(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function jd(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:r=jo(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=jo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return Vo(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(r.localStore,t)];case 2:return i=o.sent(),qd(r,t,n),Bd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Qd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ml(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ud(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,mt.Jh)(this,function(a){switch(a.label){case 0:Kh((n=jo(e)).remoteStore)||Ro("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){var t=jo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=hd(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function Bd(e,t){(e.Fo.get(t)||[]).forEach(function(e){e.resolve()}),e.Fo.delete(t)}function qd(e,t,n){var r=jo(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Hd(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||Gd(e,t)})}function Gd(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(qh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Kd(e))}function zd(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Sd?(e.No.addReference(o.key,t),$d(e,o)):o instanceof Dd?(Ro("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Gd(e,o.key)):Lo()}}function $d(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Ro("SyncEngine","New document in limbo: "+n),e.So.add(r),Kd(e))}function Kd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ds(Jo.fromString(t)),r=e.ko.next();e.Co.set(r,new xd(n)),e.Do=e.Do.insert(n,r),Bh(e.remoteStore,new Lc(oa(Ys(n.path)),r,2,Ao.o))}}function Qd(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,mt.Jh)(this,function(a){switch(a.label){case 0:return r=jo(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,a){s.push(r.Oo(a,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=jl.Pn(a.targetId,e);o.push(t)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,mt.Jh)(this,function(l){switch(l.label){case 0:n=jo(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Ec.forEach(t,function(t){return Ec.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return Ec.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ac(r=l.sent()))throw r;return Ro("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Wd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return(n=jo(e)).currentUser.isEqual(t)?[3,3]:(Ro("SyncEngine","User change. New user:",t.toKey()),[4,Hl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach(function(e){e.forEach(function(e){e.reject(new ko(xo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Qd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Zd(e,t){var n=jo(e),r=n.Co.get(t);if(r&&r.bo)return uu().add(r.key);var i=uu(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Jd(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return[4,Jl((n=jo(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&zd(n,t.targetId,i.To),i)]}})})}function Yd(e){return(0,mt.mG)(this,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){return[2,Xl((t=jo(e)).localStore).then(function(e){return Qd(t,e)})]})})}function Xd(e,t,n,r){return(0,mt.mG)(this,void 0,void 0,function(){var i,o;return(0,mt.Jh)(this,function(s){switch(s.label){case 0:return[4,function(e,t){var n=jo(e),r=jo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):Ec.resolve(null)})})}((i=jo(e)).localStore,t)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,ed(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(qd(i,t,r||null),Bd(i,t),function(e,t){jo(jo(e)._n).Gt(t)}(i.localStore,t)):Lo(),s.label=4;case 4:return[4,Qd(i,o)];case 5:return s.sent(),[3,7];case 6:Ro("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function ef(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,mt.Jh)(this,function(c){switch(c.label){case 0:return af(n=jo(e)),uf(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,tf(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,ad(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Bh(n.remoteStore,s[o]);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?a.push(t):u=u.then(function(){return Hd(n,t),Zl(n.localStore,t,!0)}),qh(n.remoteStore,t)}),[4,u]);case 4:return c.sent(),[4,tf(n,a)];case 5:return c.sent(),function(e){var t=jo(e);t.Co.forEach(function(e,n){qh(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new Za(ds.comparator)}(n),n.$o=!1,[4,ad(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function tf(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return(0,mt.Jh)(this,function(g){switch(g.label){case 0:n=jo(e),r=[],i=[],o=0,s=t,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Wl(n.localStore,oa(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Jd(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Yl(n.localStore,a)];case 8:return p=g.sent(),[4,Wl(n.localStore,p)];case 9:return u=g.sent(),[4,Od(n,nf(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function nf(e){return Js(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rf(e){var t=jo(e);return jo(jo(t.localStore).persistence).fn()}function of(e,t,n,r){return(0,mt.mG)(this,void 0,void 0,function(){var i,o,s;return(0,mt.Jh)(this,function(a){switch(a.label){case 0:return(i=jo(e)).$o?(Ro("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xl(i.localStore)];case 3:return o=a.sent(),s=hu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Qd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Zl(i.localStore,t,!0)];case 6:return a.sent(),Hd(i,t,r),[3,8];case 7:Lo(),a.label=8;case 8:return[2]}})})}function sf(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,mt.Jh)(this,function(d){switch(d.label){case 0:if(!(r=af(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Ro("SyncEngine","Adding an already active target "+s),[3,5]):[4,Yl(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Wl(r.localStore,a)];case 3:return u=d.sent(),[4,Od(r,nf(a),u.targetId,!1)];case 4:d.sent(),Bh(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Zl(r.localStore,e,!1).then(function(){qh(r.remoteStore,e),Hd(r,e)}).catch(ml)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function af(e){var t=jo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ld.bind(null,t),t.vo._r=bd.bind(null,t.eventManager),t.vo.Mo=wd.bind(null,t.eventManager),t}function uf(e){var t=jo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Vd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jd.bind(null,t),t}var cf=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return this.R=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return ql(this.persistence,new Ul,e.initialUser,this.R)},e.prototype.qo=function(e){return new lh(dh.bs,this.R)},e.prototype.Bo=function(e){return new Eh},e.prototype.terminate=function(){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),lf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,mt.ZT)(t,e),t.prototype.initialize=function(t){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,eh(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,uf(this.Qo.syncEngine)];case 4:return n.sent(),[4,ed(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},t.prototype.Ko=function(e){return ql(this.persistence,new Ul,e.initialUser,this.R)},t.prototype.Uo=function(e){return new bl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=Ml(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rl.withCacheSize(this.cacheSizeBytes):rl.DEFAULT;return new Rl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,xh(),kh(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Eh},t}(cf),hf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,mt.ZT)(t,e),t.prototype.initialize=function(t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r=this;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Ch?(this.sharedClientState.syncEngine={ui:Xd.bind(null,n),ai:of.bind(null,n),hi:sf.bind(null,n),fn:rf.bind(null,n),ci:Yd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(e){return(0,mt.mG)(r,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return[4,ef(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Bo=function(e){var t=xh();if(!Ch.yt(t))throw new ko(xo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ml(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ch(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(lf),df=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n=this;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Md(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Wd.bind(null,this.syncEngine),[4,ad(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new md},e.prototype.createDatastore=function(e){var t=Nh(e.databaseInfo.databaseId),n=new Ah(e.databaseInfo);return function(e,t,n){return new Mh(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,s=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Md(s.syncEngine,e,0)},o=Sh.yt()?new Sh:new Ih,new Vh(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,s){var a=new kd(e,t,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,mt.mG)(this,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return t=jo(e),Ro("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Uh(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}(),ff=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),pf=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Cc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t,n,r;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Ed(JSON.parse(r),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return(0,mt.mG)(this,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,mt.mG)(this,void 0,void 0,function(){var t,n=this;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ko(xo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,mt.Jh)(this,function(u){switch(u.label){case 0:return n=jo(e),r=Ru(n.R)+"/documents",i={documents:t.map(function(e){return xu(n.R,e)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){Vo(!!t.found);var n=ku(e,t.found.name),r=Du(t.found.updateTime),i=new Ts({mapValue:{fields:t.found.fields}});return xs.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Vo(!!t.missing),Vo(!!t.readTime);var n=ku(e,t.missing),r=Du(t.readTime);return xs.newNoDocument(n,r)}(e,t):Lo()}(n.R,e);s.set(t.key.toString(),t)}),a=[],[2,(t.forEach(function(e){var t=s.get(e.toString());Vo(!!t),a.push(t)}),a)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new za(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t=this;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=ds.fromPath(n);t.mutations.push(new $a(r,t.precondition(r)))}),[4,function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return n=jo(e),r=Ru(n.R)+"/documents",i={writes:t.map(function(e){return Lu(n.R,e)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lo();t=$o.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ko(xo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ka.updateTime(t):ka.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($o.min()))throw new ko(xo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ka.updateTime(t)}return ka.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),gf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Oh(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,mt.mG)(e,void 0,void 0,function(){var e,t,n=this;return(0,mt.Jh)(this,function(r){return e=new pf(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!cs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Qa(t)}return!1},e}(),mf=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=fh.UNAUTHENTICATED,this.clientId=Bo.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return(0,mt.mG)(r,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return Ro("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ko(xo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Cc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,mt.mG)(e,void 0,void 0,function(){var e,n;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=hd(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}();function yf(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ro("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return(0,mt.mG)(i,void 0,void 0,function(){return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Hl(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function vf(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,bf(e)];case 1:return n=i.sent(),Ro("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return(0,mt.mG)(this,void 0,void 0,function(){var n,r;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return(n=jo(e)).asyncQueue.verifyOperationInProgress(),Ro("RemoteStore","RemoteStore received new credentials"),r=Kh(n),n.Or.add(3),[4,Uh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,jh(n)];case 3:return i.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function bf(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Ro("FirestoreClient","Using default OfflineComponentProvider"),[4,yf(e,new cf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function wf(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Ro("FirestoreClient","Using default OnlineComponentProvider"),[4,vf(e,new df)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function _f(e){return bf(e).then(function(e){return e.persistence})}function Cf(e){return bf(e).then(function(e){return e.localStore})}function Ef(e){return wf(e).then(function(e){return e.remoteStore})}function If(e){return wf(e).then(function(e){return e.syncEngine})}function Sf(e){return(0,mt.mG)(this,void 0,void 0,function(){var t,n;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return[4,wf(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Nd.bind(null,t.syncEngine),n.onUnlisten=Rd.bind(null,t.syncEngine),n)]}})})}function Df(e,t,n){var r=this;void 0===n&&(n={});var i=new Cc;return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(r,void 0,void 0,function(){var r;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ff({next:function(o){t.enqueueAndForget(function(){return vd(e,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ko(xo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ko(xo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),s=new Cd(Ys(n.path),o,{includeMetadataChanges:!0,so:!0});return yd(e,s)},[4,Sf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function Tf(e,t,n){var r=this;void 0===n&&(n={});var i=new Cc;return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(r,void 0,void 0,function(){var r;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ff({next:function(n){t.enqueueAndForget(function(){return vd(e,s)}),n.fromCache&&"server"===r.source?i.reject(new ko(xo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new Cd(n,o,{includeMetadataChanges:!0,so:!0});return yd(e,s)},[4,Sf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var Af=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},xf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),kf=new Map,Nf=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Of=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(fh.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Rf=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Ff=function(){function e(e){var t=this;this.currentUser=fh.UNAUTHENTICATED,this.oc=new Cc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){Ro("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Ro("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(Ro("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Vo("string"==typeof n.accessToken),new Nf(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,mt.mG)(n,void 0,void 0,function(){return(0,mt.Jh)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Vo(null===e||"string"==typeof e),new fh(e)},e}(),Pf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=fh.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Mf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Pf(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(fh.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Lf(e,t,n){if(!n)throw new ko(xo.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Vf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ko(xo.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function jf(e,t,n,r){if(!0===t&&!0===r)throw new ko(xo.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Uf(e){if(!ds.isDocumentKey(e))throw new ko(xo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Bf(e){if(ds.isDocumentKey(e))throw new ko(xo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function qf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Lo()}function Hf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ko(xo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qf(e);throw new ko(xo.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Gf(e,t){if(t<=0)throw new ko(xo.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var zf=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ko(xo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ko(xo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),$f=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zf({}),this._settingsFrozen=!1,e instanceof xf?(this._databaseId=e,this._credentials=new Of):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ko(xo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(e.options.projectId)}(e),this._credentials=new Ff(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ko(xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ko(xo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zf(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Of;switch(e.type){case"gapi":var t=e.client;return Vo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Mf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ko(xo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=kf.get(this))&&(Ro("ComponentProvider","Removing Datastore"),kf.delete(this),e.terminate()),Promise.resolve();var e},e}(),Kf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Wf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Qf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Wf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ys(r))||this)._path=r,i.type="collection",i}return(0,mt.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Kf(this.firestore,null,new ds(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Qf);function Zf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,yt.m9)(e),Lf("collection","path",t),e instanceof $f)return Bf(n=Jo.fromString.apply(Jo,(0,mt.ev)([t],r))),new Wf(e,null,n);if(!(e instanceof Kf||e instanceof Wf))throw new ko(xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bf(n=Jo.fromString.apply(Jo,(0,mt.ev)([e.path],r)).child(Jo.fromString(t))),new Wf(e.firestore,null,n)}function Jf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,yt.m9)(e),1===arguments.length&&(t=Bo.u()),Lf("doc","path",t),e instanceof $f)return Uf(n=Jo.fromString.apply(Jo,(0,mt.ev)([t],r))),new Kf(e,null,new ds(n));if(!(e instanceof Kf||e instanceof Wf))throw new ko(xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uf(n=e._path.child(Jo.fromString.apply(Jo,(0,mt.ev)([t],r)))),new Kf(e.firestore,e instanceof Wf?e.converter:null,new ds(n))}function Yf(e,t){return e=(0,yt.m9)(e),t=(0,yt.m9)(t),(e instanceof Kf||e instanceof Wf)&&(t instanceof Kf||t instanceof Wf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xf(e,t){return e=(0,yt.m9)(e),t=(0,yt.m9)(t),e instanceof Qf&&t instanceof Qf&&e.firestore===t.firestore&&aa(e._query,t._query)&&e.converter===t.converter}var ep=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Oh(this,"async_queue_retry"),this.Tc=function(){var t=kh();t&&Ro("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=kh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},e.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=kh();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc)}},e.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise(function(e){}):this.Ac(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.Rc()})},e.prototype.Rc=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e,t=this;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ac(e=n.sent()))throw e;return Ro("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.Rc()}),n.label=5;case 5:return[2]}})})},e.prototype.Ac=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,Fo("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ic(),this.Ec.indexOf(e)>-1&&(t=0);var i=ld.createAndSchedule(this,e,t,n,function(e){return r.bc(e)});return this.mc.push(i),i},e.prototype.Ic=function(){this.yc&&Lo()},e.prototype.verifyOperationInProgress=function(){},e.prototype.vc=function(){return(0,mt.mG)(this,void 0,void 0,function(){var e;return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Pc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Vc=function(e){var t=this;return this.vc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.vc()})},e.prototype.Sc=function(e){this.Ec.push(e)},e.prototype.bc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function tp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Cc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var np=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new ep,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,mt.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||ip(this),this._firestoreClient.terminate()},t}($f);function rp(e){return e._firestoreClient||ip(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ip(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Af(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mf(e._credentials,e._queue,r)}function op(e,t,n){var r=this,i=new Cc;return e.asyncQueue.enqueue(function(){return(0,mt.mG)(r,void 0,void 0,function(){var r;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,yf(e,n)];case 1:return o.sent(),[4,vf(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===xo.FAILED_PRECONDITION||e.code===xo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function sp(e){if(e._initialized||e._terminated)throw new ko(xo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ap=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new ko(xo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xo(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),up=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(ts.fromBase64String(t))}catch(t){throw new ko(xo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(ts.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),cp=function(e){this._methodName=e},lp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new ko(xo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ko(xo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return qo(this._lat,e._lat)||qo(this._long,e._long)},e}(),hp=/^__.*__$/,dp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new Va(e,this.data,t,this.fieldTransforms)},e}(),fp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new ja(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function pp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lo()}}var gp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),e.prototype.Nc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.xc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.kc(e),r},e.prototype.$c=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},e.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},e.prototype.Mc=function(e){return Pp(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},e.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(pp(this.Cc)&&hp.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},e}(),mp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Nh(e)}return e.prototype.qc=function(e,t,n,r){return void 0===r&&(r=!1),new gp({Cc:e,methodName:t,Bc:n,path:Xo.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function yp(e){var t=e._freezeSettings(),n=Nh(e._databaseId);return new mp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vp(e,t,n,r,i,o){void 0===o&&(o={});var s=e.qc(o.merge||o.mergeFields?2:0,t,n,i);Np("Data must be an object, but it was:",s,r);var a,u,c=xp(r,s);if(o.merge)a=new es(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Op(t,d[h],n);if(!s.contains(f))throw new ko(xo.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Mp(l,f)||l.push(f)}a=new es(l),u=s.fieldTransforms.filter(function(e){return a.covers(e.field)})}else a=null,u=s.fieldTransforms;return new dp(new Ts(c),a,u)}var bp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw e.Mc(1===e.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(cp);function wp(e,t,n){return new gp({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var _p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new Aa(e.path,new wa)},t.prototype.isEqual=function(e){return e instanceof t},t}(cp),Cp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,mt.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=wp(this,e,!0),n=this.Uc.map(function(e){return Ap(e,t)}),r=new _a(n);return new Aa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(cp),Ep=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,mt.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=wp(this,e,!0),n=this.Uc.map(function(e){return Ap(e,t)}),r=new Ea(n);return new Aa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(cp),Ip=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,mt.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new Sa(e.R,ga(e.R,this.Kc));return new Aa(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(cp);function Sp(e,t,n,r){var i=e.qc(1,t,n);Np("Data must be an object, but it was:",i,r);var o=[],s=Ts.empty();Qo(r,function(e,r){var a=Fp(t,e,n);r=(0,yt.m9)(r);var u=i.$c(a);if(r instanceof bp)o.push(a);else{var c=Ap(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new es(o);return new fp(s,a,i.fieldTransforms)}function Dp(e,t,n,r,i,o){var s=e.qc(1,t,n),a=[Op(t,r,n)],u=[i];if(o.length%2!=0)throw new ko(xo.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Op(t,o[c])),u.push(o[c+1]);for(var l=[],h=Ts.empty(),d=a.length-1;d>=0;--d)if(!Mp(l,a[d])){var f=a[d],p=u[d];p=(0,yt.m9)(p);var g=s.$c(f);if(p instanceof bp)l.push(f);else{var m=Ap(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new es(l);return new fp(h,y,s.fieldTransforms)}function Tp(e,t,n,r){return void 0===r&&(r=!1),Ap(n,e.qc(r?4:3,t))}function Ap(e,t){if(kp(e=(0,yt.m9)(e)))return Np("Unsupported field value:",t,e),xp(e,t);if(e instanceof cp)return function(e,t){if(!pp(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=Ap(o[i],t.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,yt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ga(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zo.fromDate(e);return{timestampValue:Eu(t.R,n)}}if(e instanceof zo)return n=new zo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Eu(t.R,n)};if(e instanceof lp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof up)return{bytesValue:Iu(t.R,e._byteString)};if(e instanceof Kf){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Tu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Mc("Unsupported field value: "+qf(e))}(e,t)}function xp(e,t){var n={};return Wo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qo(e,function(e,r){var i=Ap(r,t.xc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function kp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zo||e instanceof lp||e instanceof up||e instanceof Kf||e instanceof cp)}function Np(e,t,n){if(!kp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qf(n);throw t.Mc("an object"===r?e+" a custom object":e+" "+r)}}function Op(e,t,n){if((t=(0,yt.m9)(t))instanceof ap)return t._internalPath;if("string"==typeof t)return Fp(e,t);throw Pp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Rp=new RegExp("[~\\*/\\[\\]]");function Fp(e,t,n){if(t.search(Rp)>=0)throw Pp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ap.bind.apply(ap,(0,mt.ev)([void 0],t.split(".")))))._internalPath}catch(Pg){throw Pp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Pp(e,t,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ko(xo.INVALID_ARGUMENT,(a+=". ")+e+u)}function Mp(e,t){return e.some(function(e){return e.isEqual(t)})}var Lp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Kf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Vp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Lp);function jp(e,t){return"string"==typeof t?Fp(e,t):t instanceof ap?t._internalPath:t._delegate._internalPath}var Up=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Bp=function(e){function t(t,n,r,i,o,s){var a=this;return(a=e.call(this,t,n,r,i,s)||this)._firestore=t,a._firestoreImpl=t,a.metadata=o,a}return(0,mt.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Lp),qp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Bp),Hp=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Up(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new qp(n._firestore,n._userDataWriter,r.key,r,new Up(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ko(xo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Up(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Up(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gp(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Gp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lo()}}function zp(e,t){return e instanceof Bp&&t instanceof Bp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hp&&t instanceof Hp&&e._firestore===t._firestore&&Xf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function $p(e){if(ea(e)&&0===e.explicitOrderBy.length)throw new ko(xo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kp=function(){};function Qp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Wp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.jc=n,i.Wc=r,i.type="where",i}return(0,mt.ZT)(t,e),t.prototype._apply=function(e){var t=yp(e.firestore),n=function(e,t,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ko(xo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ng(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(tg(r,e,l[c]));a={arrayValue:{values:u}}}else a=tg(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ng(s,o),a=Tp(n,"where",s,"in"===o||"not-in"===o);var h=Ps.create(i,o,a);return function(e,t){if(t.g()){var n=na(e);if(null!==n&&!n.isEqual(t.field))throw new ko(xo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ta(e);null!==r&&rg(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new ko(xo.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Qf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Kp),Zp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Gc=n,r.type="orderBy",r}return(0,mt.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ko(xo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ko(xo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $s(t,n);return function(e,t){if(null===ta(e)){var n=na(e);null!==n&&rg(0,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Gc);return new Qf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Zs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Kp),Jp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return(0,mt.ZT)(t,e),t.prototype._apply=function(e){return new Qf(e.firestore,e.converter,sa(e._query,this.zc,this.Hc))},t}(Kp),Yp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return(0,mt.ZT)(t,e),t.prototype._apply=function(e){var t=eg(e,this.type,this.Jc,this.Yc);return new Qf(e.firestore,e.converter,function(e,t){return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Kp),Xp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return(0,mt.ZT)(t,e),t.prototype._apply=function(e){var t=eg(e,this.type,this.Jc,this.Yc);return new Qf(e.firestore,e.converter,function(e,t){return new Zs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Kp);function eg(e,t,n,r){if(n[0]=(0,yt.m9)(n[0]),n[0]instanceof Lp)return function(e,t,n,r,i){if(!r)throw new ko(xo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ia(e);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(ws(t,r.key));else{var c=r.data.field(u.field);if(ss(c))throw new ko(xo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ko(xo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Gs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yp(e.firestore);return function(e,t,n,r,i,o){var s=e.explicitOrderBy;if(i.length>s.length)throw new ko(xo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new ko(xo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ra(e)&&-1!==c.indexOf("/"))throw new ko(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Jo.fromString(c));if(!ds.isDocumentKey(l))throw new ko(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ds(l);a.push(ws(t,h))}else{var d=Tp(n,r,c);a.push(d)}}return new Gs(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function tg(e,t,n){if("string"==typeof(n=(0,yt.m9)(n))){if(""===n)throw new ko(xo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ra(t)&&-1!==n.indexOf("/"))throw new ko(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Jo.fromString(n));if(!ds.isDocumentKey(r))throw new ko(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ws(e,new ds(r))}if(n instanceof Kf)return ws(e,n._key);throw new ko(xo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qf(n)+".")}function ng(e,t){if(!Array.isArray(e)||0===e.length)throw new ko(xo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ko(xo.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function rg(e,t,n){if(!n.isEqual(t))throw new ko(xo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ig=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return is(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lo()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Qo(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new lp(is(e.latitude),is(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=as(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(us(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=rs(e);return new zo(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Jo.fromString(e);Vo(Yu(n));var r=new xf(n.get(1),n.get(3)),i=new ds(n.popFirst(5));return r.isEqual(t)||Fo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function og(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var sg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,mt.ZT)(t,e),t.prototype.convertBytes=function(e){return new up(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kf(this.firestore,null,t)},t}(ig),ag=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=ug(e,this._firestore),i=og(r.converter,t,n),o=vp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ka.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=ug(e,this._firestore);return o="string"==typeof(t=(0,yt.m9)(t))||t instanceof ap?Dp(this._dataReader,"WriteBatch.update",s._key,t,n,r):Sp(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,ka.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=ug(e,this._firestore);return this._mutations=this._mutations.concat(new za(t._key,ka.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ko(xo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ug(e,t){if((e=(0,yt.m9)(e)).firestore!==t)throw new ko(xo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var cg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,mt.ZT)(t,e),t.prototype.convertBytes=function(e){return new up(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kf(this.firestore,null,t)},t}(ig);function lg(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Hf(e,Kf);var o=Hf(e.firestore,np),s=yp(o);return dg(o,[("string"==typeof(t=(0,yt.m9)(t))||t instanceof ap?Dp(s,"updateDoc",e._key,t,n,r):Sp(s,"updateDoc",e._key,t)).toMutation(e._key,ka.exists(!0))])}function hg(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,yt.m9)(e);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||tp(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(tp(i[a])){var d=i[a];i[a]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof Kf)c=Hf(e.firestore,np),l=Ys(e._key.path),u={next:function(t){i[a]&&i[a](fg(c,e,t))},error:i[a+1],complete:i[a+2]};else{var f=Hf(e,Qf);c=Hf(f.firestore,np),l=f._query;var p=new cg(c);u={next:function(e){i[a]&&i[a](new Hp(c,p,f,e))},error:i[a+1],complete:i[a+2]},$p(e._query)}return function(e,t,n,r){var i=this,o=new ff(r),s=new Cd(t,o,n);return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(i,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return t=yd,[4,Sf(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(i,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return t=vd,[4,Sf(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})})}}(rp(c),l,h,u)}function dg(e,t){return function(e,t){var n=this,r=new Cc;return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(n,void 0,void 0,function(){var n;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return n=Fd,[4,If(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(rp(e),t)}function fg(e,t,n){var r=n.docs.get(t._key),i=new cg(e);return new Bp(e,i,t._key,r,new Up(n.hasPendingWrites,n.fromCache),t.converter)}var pg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,mt.ZT)(t,e),t.prototype.get=function(t){var n=this,r=ug(t,this._firestore),i=new cg(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new Bp(n._firestore,i,r._key,e._document,new Up(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=yp(e)}return e.prototype.get=function(e){var t=this,n=ug(e,this._firestore),r=new sg(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return Lo();var i=e[0];if(i.isFoundDocument())return new Lp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Lp(t._firestore,r,n._key,null,n.converter);throw Lo()})},e.prototype.set=function(e,t,n){var r=ug(e,this._firestore),i=og(r.converter,t,n),o=vp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ug(e,this._firestore);return o="string"==typeof(t=(0,yt.m9)(t))||t instanceof ap?Dp(this._dataReader,"Transaction.update",s._key,t,n,r):Sp(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this},e.prototype.delete=function(e){var t=ug(e,this._firestore);return this._transaction.delete(t._key),this},e}());function gg(){if("undefined"==typeof Uint8Array)throw new ko(xo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mg(){if("undefined"==typeof atob)throw new ko(xo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yg=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return mg(),new e(up.fromBase64String(t))},e.fromUint8Array=function(t){return gg(),new e(up.fromUint8Array(t))},e.prototype.toBase64=function(){return mg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return gg(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),vg=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){sp(e=Hf(e,np));var n=rp(e),r=e._freezeSettings(),i=new df;return op(n,i,new lf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){sp(e=Hf(e,np));var t=rp(e),n=e._freezeSettings(),r=new df;return op(t,r,new hf(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new ko(xo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Cc;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,mt.mG)(t,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,mt.mG)(this,void 0,void 0,function(){return(0,mt.Jh)(this,function(t){switch(t.label){case 0:return Sc.yt()?[4,Sc.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(Ml(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),bg=function(){function e(e,t,n){var r=this;this._delegate=t,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof xf||(this.Zc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Po("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Hf(e,$f))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Po("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=(0,yt.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ko(xo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new Rf(new Nf(o,new fh(s)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,mt.mG)(t,void 0,void 0,function(){var t,n;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return[4,_f(e)];case 1:return t=r.sent(),[4,Ef(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=jo(e);return t.Or.delete(0),jh(t)}(n))]}})})})}(rp(Hf(this._delegate,np)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,mt.mG)(t,void 0,void 0,function(){var t,n;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return[4,_f(e)];case 1:return t=r.sent(),[4,Ef(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,mt.mG)(this,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return(t=jo(e)).Or.add(0),[4,Uh(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(rp(Hf(this._delegate,np)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&jf("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Cc;return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(t,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(r){switch(r.label){case 0:return t=Ud,[4,If(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(rp(Hf(this._delegate,np)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new ff(t);return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(n,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return t=function(e,t){jo(e).Gr.add(t),t.next()},[4,Sf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(n,void 0,void 0,function(){var t;return(0,mt.Jh)(this,function(n){switch(n.label){case 0:return t=function(e,t){jo(e).Gr.delete(t)},[4,Sf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(rp(e=Hf(e,np)),tp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zc)throw new ko(xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Rg(this,Zf(this._delegate,e))}catch(e){throw Sg(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Ig(this,Jf(this._delegate,e))}catch(e){throw Sg(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new kg(this,function(e,t){if(e=Hf(e,$f),Lf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ko(xo.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qf(e,null,function(e){return new Zs(Jo.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Sg(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Cc;return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(n,void 0,void 0,function(){var n;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return[4,function(e){return wf(e).then(function(e){return e.datastore})}(e)];case 1:return n=i.sent(),new gf(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(rp(e),function(n){return t(new pg(e,n))})}(this._delegate,function(n){return e(new _g(t,n))})},e.prototype.batch=function(){var e=this;return rp(this._delegate),new Cg(new ag(this._delegate,function(t){return dg(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new ko(xo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new ko(xo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),wg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,mt.ZT)(t,e),t.prototype.convertBytes=function(e){return new yg(new up(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ig.tu(t,this.firestore,null)},t}(ig),_g=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wg(e)}return e.prototype.get=function(e){var t=this,n=Fg(e);return this._delegate.get(n).then(function(e){return new Ag(t._firestore,new Bp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=Fg(e);return n?(Vf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fg(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,mt.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Fg(e);return this._delegate.delete(t),this},e}(),Cg=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Fg(e);return n?(Vf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fg(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,mt.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Fg(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Eg=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new qp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xg(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.eu=function(t,n){var r=e.nu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wg(t),n),i.set(n,o)),o},e}();Eg.nu=new WeakMap;var Ig=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wg(e)}return e.su=function(t,n,r){if(t.length%2!=0)throw new ko(xo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Kf(n._delegate,r,new ds(t)))},e.tu=function(t,n,r){return new e(n,new Kf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Rg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Rg(this.firestore,Zf(this._delegate,e))}catch(e){throw Sg(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,yt.m9)(e))instanceof Kf&&Yf(this._delegate,e)},e.prototype.set=function(e,t){t=Vf("DocumentReference.set",t);try{return function(e,t,n){e=Hf(e,Kf);var r=Hf(e.firestore,np),i=og(e.converter,t,n);return dg(r,[vp(yp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ka.none())])}(this._delegate,e,t)}catch(e){throw Sg(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lg(this._delegate,e):lg.apply(void 0,(0,mt.ev)([this._delegate,e,t],n))}catch(e){throw Sg(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return dg(Hf((e=this._delegate).firestore,np),[new za(e._key,ka.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Dg(t),i=Tg(t,function(t){return new Ag(e.firestore,new Bp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return hg(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Hf(e,Kf);var t=Hf(e.firestore,np),n=rp(t),r=new cg(t);return function(e,t){var n=this,r=new Cc;return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(n,void 0,void 0,function(){var n;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i;return(0,mt.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=jo(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ko(xo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hd(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Cf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._key).then(function(n){return new Bp(t,r,e._key,n,new Up(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hf(e,Kf);var t=Hf(e.firestore,np);return Df(rp(t),e._key,{source:"server"}).then(function(n){return fg(t,e,n)})}(this._delegate):function(e){e=Hf(e,Kf);var t=Hf(e.firestore,np);return Df(rp(t),e._key).then(function(n){return fg(t,e,n)})}(this._delegate)).then(function(e){return new Ag(t.firestore,new Bp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Eg.eu(this.firestore,t):null))},e}();function Sg(e,t,n){return e.message=e.message.replace(t,n),e}function Dg(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!tp(r))return r}return{}}function Tg(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=tp(e[0])?e[0]:tp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ag=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ig(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return zp(this._delegate,e._delegate)},e}(),xg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,mt.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Ag),kg=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wg(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Qp(this._delegate,function(e,t,n){var r=t,i=jp("where",e);return new Wp(i,r,n)}(t,n,r)))}catch(t){throw Sg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Qp(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=jp("orderBy",e);return new Zp(r,n)}(t,n)))}catch(t){throw Sg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Qp(this._delegate,function(e){return Gf("limit",e),new Jp("limit",e,"F")}(t)))}catch(t){throw Sg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Qp(this._delegate,function(e){return Gf("limitToLast",e),new Jp("limitToLast",e,"L")}(t)))}catch(t){throw Sg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yp("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw Sg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yp("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw Sg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xp("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw Sg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xp("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw Sg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Xf(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Hf(e,Qf);var t=Hf(e.firestore,np),n=rp(t),r=new cg(t);return function(e,t){var n=this,r=new Cc;return e.asyncQueue.enqueueAndForget(function(){return(0,mt.mG)(n,void 0,void 0,function(){var n;return(0,mt.Jh)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,mt.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,mt.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Jl(e,t,!0)];case 1:return a=u.sent(),r=new Td(t,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=hd(s,"Failed to execute query '"+t+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Cf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._query).then(function(n){return new Hp(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hf(e,Qf);var t=Hf(e.firestore,np),n=rp(t),r=new cg(t);return Tf(n,e._query,{source:"server"}).then(function(n){return new Hp(t,r,e,n)})}(this._delegate):function(e){e=Hf(e,Qf);var t=Hf(e.firestore,np),n=rp(t),r=new cg(t);return $p(e._query),Tf(n,e._query).then(function(n){return new Hp(t,r,e,n)})}(this._delegate)).then(function(e){return new Og(t.firestore,new Hp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Dg(t),i=Tg(t,function(t){return new Og(e.firestore,new Hp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return hg(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Eg.eu(this.firestore,t):null))},e}(),Ng=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new xg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Og=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new kg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new xg(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new Ng(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new xg(n._firestore,r))})},e.prototype.isEqual=function(e){return zp(this._delegate,e._delegate)},e}(),Rg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,mt.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Ig(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Ig(this.firestore,void 0===e?Jf(this._delegate):Jf(this._delegate,e))}catch(e){throw Sg(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Hf(e.firestore,np),r=Jf(e),i=og(e.converter,t);return dg(n,[vp(yp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ka.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new Ig(t.firestore,e)})},t.prototype.isEqual=function(e){return Yf(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Eg.eu(this.firestore,e):null))},t}(kg);function Fg(e){return Hf(e,Kf)}var Pg,Mg=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ap.bind.apply(ap,(0,mt.ev)([void 0],e)))}return e.documentId=function(){return new e(Xo.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,yt.m9)(e))instanceof ap&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Lg=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new _p("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Cp("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ep("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Ip("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Vg=n(6034),jg={Firestore:bg,GeoPoint:lp,Timestamp:zo,Blob:yg,Transaction:_g,WriteBatch:Cg,DocumentReference:Ig,DocumentSnapshot:Ag,Query:kg,QueryDocumentSnapshot:xg,QuerySnapshot:Og,CollectionReference:Rg,FieldPath:Mg,FieldValue:Lg,setLogLevel:function(e){No.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Vg.wA("firestore",function(e){return function(e,t){return new bg(e,new np(e,t),new vg)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},jg)))})(Pg=gt.Z),Pg.registerVersion("@firebase/firestore","2.3.8");var Ug=n(9765),Bg=n(6682),qg=n(5345);function Hg(e,t){return"function"==typeof t?n=>n.pipe(Hg((n,r)=>(0,M.D)(e(n,r)).pipe((0,j.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Gg(e))}class Gg{constructor(e){this.project=e}call(e,t){return t.subscribe(new zg(e,this.project))}}class zg extends qg.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new qg.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,qg.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var $g=n(7771),Kg=n(5319),Qg=n(7971),Wg=n(8858);class Zg extends Ug.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Jg(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Qg.N;if(this.isStopped||this.hasError?o=Kg.w.EMPTY:(this.observers.push(e),o=new Wg.W(this,e)),r&&e.add(e=new ft.ht(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||$g.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}class Jg{constructor(e,t){this.time=e,this.value=t}}function Yg(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Zg(e,t,r),l=i.subscribe(this),o=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const Xg=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),em=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();var tm=n(9193);function nm(e){return t=>0===e?(0,tm.c)():t.lift(new rm(e))}class rm{constructor(e){if(this.total=e,this.total<0)throw new em}call(e,t){return t.subscribe(new im(e,this.total))}}class im extends tt.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function om(e=null){return t=>t.lift(new sm(e))}class sm{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new am(e,this.defaultValue))}}class am extends tt.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function um(e=hm){return t=>t.lift(new cm(e))}class cm{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new lm(e,this.errorFactory))}}class lm extends tt.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(Pg){e=Pg}this.destination.error(e)}}}function hm(){return new Xg}var dm=n(4487);function fm(e,t){const n=arguments.length>=2;return r=>r.pipe(e?lt((t,n)=>e(t,n,r)):dm.y,nm(1),n?om(t):um(()=>new Xg))}function pm(e,t){return t?Hg(()=>e,t):Hg(()=>e)}var gm=n(3101);const mm=new i.InjectionToken("angularfire2.auth.use-emulator"),ym=new i.InjectionToken("angularfire2.auth.settings"),vm=new i.InjectionToken("angularfire2.auth.tenant-id"),bm=new i.InjectionToken("angularfire2.auth.langugage-code"),wm=new i.InjectionToken("angularfire2.auth.use-device-language"),_m=new i.InjectionToken("angularfire.auth.persistence");let Cm=(()=>{class e{constructor(e,t,i,o,s,a,u,c,l,h){const d=new Qe.HU(o),f=(0,Qe.ss)(d),p=new Ug.xQ,g=(0,Ze.of)(void 0).pipe((0,ft.QV)(d.outsideAngular),Hg(()=>o.runOutsideAngular(()=>n.e(336).then(n.bind(n,1336)))),(0,j.U)(()=>(0,Qe.on)(e,o,t)),(0,j.U)(e=>o.runOutsideAngular(()=>{const t=s,n=a;return(0,Qe.sI)(`${e.name}.auth`,"AngularFireAuth",e,()=>{const r=o.runOutsideAngular(()=>e.auth());if(t&&r.useEmulator(`http://${t.join(":")}`),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n)for(const[e,t]of Object.entries(n))r.settings[e]=t;return h&&r.setPersistence(h),r},[t,u,c,l,n,h])})),Yg({bufferSize:1,refCount:!1}));if((0,r.isPlatformServer)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{g.pipe(fm()).subscribe();const e=g.pipe(Hg(e=>e.getRedirectResult().then(e=>e,()=>null)),f,Yg({bufferSize:1,refCount:!1})),t=e=>new L.y(t=>({unsubscribe:o.runOutsideAngular(()=>e(t))})),n=g.pipe(Hg(e=>t(e.onAuthStateChanged.bind(e)))),r=g.pipe(Hg(e=>t(e.onIdTokenChanged.bind(e))));this.authState=e.pipe(pm(n),(0,gm.R)(d.outsideAngular),(0,ft.QV)(d.insideAngular)),this.user=e.pipe(pm(r),(0,gm.R)(d.outsideAngular),(0,ft.QV)(d.insideAngular)),this.idToken=this.user.pipe(Hg(e=>e?(0,M.D)(e.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe(Hg(e=>e?(0,M.D)(e.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,Bg.T)(e,p,this.authState.pipe(lt(e=>!e))).pipe((0,j.U)(e=>(null==e?void 0:e.user)?e:null),(0,gm.R)(d.outsideAngular),(0,ft.QV)(d.insideAngular))}return(0,Qe.pX)(this,g,o,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>p.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Qe.Dh),i["\u0275\u0275inject"](Qe.xv,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](mm,8),i["\u0275\u0275inject"](ym,8),i["\u0275\u0275inject"](vm,8),i["\u0275\u0275inject"](bm,8),i["\u0275\u0275inject"](wm,8),i["\u0275\u0275inject"](_m,8))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({factory:function(){return new e(i["\u0275\u0275inject"](Qe.Dh),i["\u0275\u0275inject"](Qe.xv,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](mm,8),i["\u0275\u0275inject"](ym,8),i["\u0275\u0275inject"](vm,8),i["\u0275\u0275inject"](bm,8),i["\u0275\u0275inject"](wm,8),i["\u0275\u0275inject"](_m,8))},token:e,providedIn:"any"}),e})(),Em=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Cm]}),e})();function Im(e,t){return function(e,t=We.z){return new L.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Sm(e,t){return Im(e,t).pipe((0,j.U)(e=>({payload:e,type:"query"})))}function Dm(e,t){return Sm(e,t).pipe(et(void 0),nt(),(0,j.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const o=n.find(e=>e.doc.ref.isEqual(t.ref)),s=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(t.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Tm(e,t,n){return Dm(e,n).pipe(ot((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Am(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Am(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Am(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new ut(void 0,void 0)),(0,j.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Am(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function xm(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class km{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Dm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,j.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(et(void 0),nt(),lt(([e,t])=>t.length>0||!e),(0,j.U)(([e,t])=>t),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ot((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=xm(e);return Tm(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Sm(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,M.D)(this.query.get(e)).pipe((0,ft.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new Nm(this.ref.doc(e),this.afs)}}class Nm{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=Lm(n,t);return new km(r,i,this.afs)}snapshotChanges(){return Im(this.ref,this.afs.schedulers.outsideAngular).pipe(et(void 0),nt(),(0,j.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,j.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,M.D)(this.ref.get(e)).pipe((0,ft.QV)(this.afs.schedulers.insideAngular))}}class Om{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Dm(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),lt(e=>e.length>0),this.afs.keepUnstableUntilFirst):Dm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ot((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=xm(e);return Tm(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Sm(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,M.D)(this.query.get(e)).pipe((0,ft.QV)(this.afs.schedulers.insideAngular))}}const Rm=new i.InjectionToken("angularfire2.enableFirestorePersistence"),Fm=new i.InjectionToken("angularfire2.firestore.persistenceSettings"),Pm=new i.InjectionToken("angularfire2.firestore.settings"),Mm=new i.InjectionToken("angularfire2.firestore.use-emulator");function Lm(e,t=(e=>e)){return{query:t(e),ref:e}}let Vm=(()=>{class e{constructor(e,t,n,i,o,s,a,u,c){this.schedulers=new Qe.HU(s),this.keepUnstableUntilFirst=(0,Qe.ss)(this.schedulers);const l=(0,Qe.on)(e,s,t);!pt.Z.auth&&c&&(0,Qe.yq)();const h=u;[this.firestore,this.persistenceEnabled$]=(0,Qe.sI)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const e=s.runOutsideAngular(()=>l.firestore());if(i&&e.settings(i),h&&e.useEmulator(...h),n&&!(0,r.isPlatformServer)(o)){const t=()=>{try{return(0,M.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(Pg){return"undefined"!=typeof console&&console.warn(Pg),(0,Ze.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,Ze.of)(!1)]},[i,h,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=Lm(n,t),o=this.schedulers.ngZone.run(()=>r);return new km(o,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Om(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Nm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Qe.Dh),i["\u0275\u0275inject"](Qe.xv,8),i["\u0275\u0275inject"](Rm,8),i["\u0275\u0275inject"](Pm,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](Fm,8),i["\u0275\u0275inject"](Mm,8),i["\u0275\u0275inject"](mm,8))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({factory:function(){return new e(i["\u0275\u0275inject"](Qe.Dh),i["\u0275\u0275inject"](Qe.xv,8),i["\u0275\u0275inject"](Rm,8),i["\u0275\u0275inject"](Pm,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](Fm,8),i["\u0275\u0275inject"](Mm,8),i["\u0275\u0275inject"](mm,8))},token:e,providedIn:"any"}),e})(),jm=(()=>{class e{static enablePersistence(t){return{ngModule:e,providers:[{provide:Rm,useValue:!0},{provide:Fm,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Vm]}),e})();const Um={apiKey:"AIzaSyDnAJe22BouHp9lfZ0gGhi-fwhp31uuwPU",authDomain:"clientpanelprod-44302.firebaseapp.com",projectId:"clientpanelprod-44302",storageBucket:"clientpanelprod-44302.appspot.com",messagingSenderId:"234921443669",appId:"1:234921443669:web:fe34ad828c6ca7575a2fdc",measurementId:"G-002NHK41GW"};let Bm=(()=>{class e{constructor(e){this.afs=e,this.clientsCollection=this.afs.collection("clients")}getClients(){return this.clients=this.clientsCollection.valueChanges({idField:"id"}),this.clients}getClient(e){return this.clientDoc=this.afs.doc(`clients/${e}`),this.client=this.clientDoc.valueChanges({idField:"id"}),this.client}addClient(e){this.clientsCollection.add(e)}updateClient(e){this.clientDoc=this.afs.doc(`clients/${e.id}`),this.clientDoc.update(e)}deleteClient(e){this.clientDoc=this.afs.doc(`clients/${e.id}`),this.clientDoc.delete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Vm))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var qm=n(4372);class Hm extends Ug.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qg.N;return this._value}next(e){super.next(this._value=e)}}class Gm extends tt.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class zm extends tt.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var $m=n(7444);function Km(e,t,n,r,i=new zm(e,n,r)){if(!i.closed)return t instanceof L.y?t.subscribe(i):(0,$m.s)(t)(i)}var Qm=n(6693);const Wm={};class Zm{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Jm(e,this.resultSelector))}}class Jm extends Gm{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Wm),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Km(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Wm?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Ym(e){return new L.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,M.D)(n):(0,tm.c)()).subscribe(t)})}var Xm=n(2441);function ey(e){return function(t){const n=new ty(e),r=t.lift(n);return n.caught=r}}class ty{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ny(e,this.selector,this.caught))}}class ny extends qg.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new qg.IY(this);this.add(r);const i=(0,qg.ft)(n,r);i!==r&&this.add(i)}}}var ry=n(9773);function iy(e,t){return(0,ry.zg)(e,t,1)}function oy(e){return function(t){return 0===e?(0,tm.c)():t.lift(new sy(e))}}class sy{constructor(e){if(this.total=e,this.total<0)throw new em}call(e,t){return t.subscribe(new ay(e,this.total))}}class ay extends tt.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var uy=n(3342),cy=n(1307);class ly{constructor(e){this.callback=e}call(e,t){return t.subscribe(new hy(e,this.callback))}}class hy extends tt.L{constructor(e,t){super(e),this.add(new Kg.w(t))}}class dy{constructor(e,t){this.id=e,this.url=t}}class fy extends dy{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class py extends dy{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gy extends dy{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class my extends dy{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yy extends dy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vy extends dy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class by extends dy{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wy extends dy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _y extends dy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cy{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ey{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Iy{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sy{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dy{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ty{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ay{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xy="primary";class ky{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ny(e){return new ky(e)}function Oy(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Ry(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Fy(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Py(e[i],t[i]))return!1;return!0}function Py(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function My(e){return Array.prototype.concat.apply([],e)}function Ly(e){return e.length>0?e[e.length-1]:null}function Vy(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function jy(e){return(0,i["\u0275isObservable"])(e)?e:(0,i["\u0275isPromise"])(e)?(0,M.D)(Promise.resolve(e)):(0,Ze.of)(e)}const Uy={exact:function e(t,n,r){if(!Wy(t.segments,n.segments))return!1;if(!zy(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Hy},By={exact:function(e,t){return Fy(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Py(e[n],t[n]))},ignored:()=>!0};function qy(e,t,n){return Uy[n.paths](e.root,t.root,n.matrixParams)&&By[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Hy(e,t,n){return Gy(e,t,t.segments,n)}function Gy(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Wy(i,n)&&!t.hasChildren()&&!!zy(i,n,r)}if(e.segments.length===n.length){if(!Wy(e.segments,n))return!1;if(!zy(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Hy(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!Wy(e.segments,i)&&!!zy(e.segments,i,r)&&!!e.children.primary&&Gy(e.children.primary,t,o,r)}}function zy(e,t,n){return t.every((t,r)=>By[n](e[r].parameters,t.parameters))}class $y{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ny(this.queryParams)),this._queryParamMap}toString(){return Yy.serialize(this)}}class Ky{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Vy(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xy(this)}}class Qy{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ny(this.parameters)),this._parameterMap}toString(){return sv(this)}}function Wy(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Zy{}class Jy{parse(e){const t=new hv(e);return new $y(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${ev(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${nv(t)}=${nv(e)}`).join("&"):`${nv(t)}=${nv(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Yy=new Jy;function Xy(e){return e.segments.map(e=>sv(e)).join("/")}function ev(e,t){if(!e.hasChildren())return Xy(e);if(t){const t=e.children.primary?ev(e.children.primary,!1):"",n=[];return Vy(e.children,(e,t)=>{t!==xy&&n.push(`${t}:${ev(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Vy(e.children,(e,r)=>{r===xy&&(n=n.concat(t(e,r)))}),Vy(e.children,(e,r)=>{r!==xy&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===xy?[ev(e.children.primary,!1)]:[`${n}:${ev(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Xy(e)}/${t[0]}`:`${Xy(e)}/(${t.join("//")})`}}function tv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nv(e){return tv(e).replace(/%3B/gi,";")}function rv(e){return tv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iv(e){return decodeURIComponent(e)}function ov(e){return iv(e.replace(/\+/g,"%20"))}function sv(e){return`${rv(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${rv(e)}=${rv(t[e])}`).join("")}`;var t}const av=/^[^\/()?;=#]+/;function uv(e){const t=e.match(av);return t?t[0]:""}const cv=/^[^=?&#]+/,lv=/^[^?&#]+/;class hv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ky([],{}):new Ky([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ky(e,t)),n}parseSegment(){const e=uv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qy(iv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uv(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=uv(this.remaining);e&&(n=e,this.capture(n))}e[iv(t)]=iv(n)}parseQueryParam(e){const t=function(e){const t=e.match(cv);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(lv);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=ov(t),i=ov(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=uv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=xy);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Ky([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class dv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fv(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return pv(e,this._root).map(e=>e.value)}}function fv(e,t){if(e===t.value)return t;for(const n of t.children){const t=fv(e,n);if(t)return t}return null}function pv(e,t){if(e===t.value)return[t];for(const n of t.children){const r=pv(e,n);if(r.length)return r.unshift(t),r}return[]}class gv{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mv(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class yv extends dv{constructor(e,t){super(e),this.snapshot=t,Ev(this,e)}toString(){return this.snapshot.toString()}}function vv(e,t){const n=function(e,t){const n=new _v([],{},{},"",{},xy,t,null,e.root,-1,{});return new Cv("",new gv(n,[]))}(e,t),r=new Hm([new Qy("",{})]),i=new Hm({}),o=new Hm({}),s=new Hm({}),a=new Hm(""),u=new bv(r,i,s,a,o,xy,t,n.root);return u.snapshot=n.root,new yv(new gv(u,[]),n)}class bv{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,j.U)(e=>Ny(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,j.U)(e=>Ny(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wv(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class _v{constructor(e,t,n,r,i,o,s,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ny(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ny(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cv extends dv{constructor(e,t){super(t),this.url=e,Ev(this,t)}toString(){return Iv(this._root)}}function Ev(e,t){t.value._routerState=e,t.children.forEach(t=>Ev(e,t))}function Iv(e){const t=e.children.length>0?` { ${e.children.map(Iv).join(", ")} } `:"";return`${e.value}${t}`}function Sv(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Fy(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Fy(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Fy(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Fy(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Dv(e,t){return Fy(e.params,t.params)&&function(e,t){return Wy(e,t)&&e.every((e,n)=>Fy(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Dv(e.parent,t.parent))}function Tv(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Tv(e,t,r);return Tv(e,t)})}(e,t,n);return new gv(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Av(t,e),e}}const n=new bv(new Hm((r=t.value).url),new Hm(r.params),new Hm(r.queryParams),new Hm(r.fragment),new Hm(r.data),r.outlet,r.component,r),i=t.children.map(t=>Tv(e,t));return new gv(n,i)}var r}function Av(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Av(e.children[n],t.children[n])}function xv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function kv(e){return"object"==typeof e&&null!=e&&e.outlets}function Nv(e,t,n,r,i){let o={};return r&&Vy(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new $y(n.root===e?t:Ov(n.root,e,t),o,i)}function Ov(e,t,n){const r={};return Vy(e.children,(e,i)=>{r[i]=e===t?n:Ov(e,t,n)}),new Ky(e.segments,r)}class Rv{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&xv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(kv);if(r&&r!==Ly(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fv{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Pv(e,t,n){if(e||(e=new Ky([],{})),0===e.segments.length&&e.hasChildren())return Mv(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=n[r];if(kv(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Uv(a,u,t))return o;r+=2}else{if(!Uv(a,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Ky(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Ky(e.segments.slice(r.pathIndex),e.children),Mv(t,0,i)}return r.match&&0===i.length?new Ky(e.segments,{}):r.match&&!e.hasChildren()?Lv(e,t,n):r.match?Mv(e,0,i):Lv(e,t,n)}function Mv(e,t,n){if(0===n.length)return new Ky(e.segments,{});{const r=function(e){return kv(e[0])?e[0].outlets:{[xy]:e}}(n),i={};return Vy(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Pv(e.children[r],t,n))}),Vy(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Ky(e.segments,i)}}function Lv(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(kv(o)){const e=Vv(o.outlets);return new Ky(r,e)}if(0===i&&xv(n[0])){r.push(new Qy(e.segments[t].path,jv(n[0]))),i++;continue}const s=kv(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xv(a)?(r.push(new Qy(s,jv(a))),i+=2):(r.push(new Qy(s,{})),i++)}return new Ky(r,{})}function Vv(e){const t={};return Vy(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Lv(new Ky([],{}),0,e))}),t}function jv(e){const t={};return Vy(e,(e,n)=>t[n]=`${e}`),t}function Uv(e,t,n){return e==n.path&&Fy(t,n.parameters)}class Bv{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Sv(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=mv(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Vy(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=mv(e);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=mv(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Ty(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Sy(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Sv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),qv(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function qv(e){Sv(e.value),e.children.forEach(qv)}class Hv{constructor(e,t){this.routes=e,this.module=t}}function Gv(e){return"function"==typeof e}function zv(e){return e instanceof $y}const $v=Symbol("INITIAL_VALUE");function Kv(){return Hg(e=>function(...e){let t,n;return(0,Xe.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,V.k)(e[0])&&(e=e[0]),(0,Qm.n)(e,n).lift(new Zm(t))}(e.map(e=>e.pipe(nm(1),et($v)))).pipe(ot((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==$v)return e;if(r===$v&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||zv(r))return r}return e},e)},$v),lt(e=>e!==$v),(0,j.U)(e=>zv(e)?e:!0===e),nm(1)))}let Qv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[Gb]},encapsulation:2}),e})();function Wv(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Zv(r,Jv(t,r))}}function Zv(e,t){e.children&&Wv(e.children,t)}function Jv(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Yv(e){const t=e.children&&e.children.map(Yv),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==xy&&(n.component=Qv),n}function Xv(e){return e.outlet||xy}function eb(e,t){const n=e.filter(e=>Xv(e)===t);return n.push(...e.filter(e=>Xv(e)!==t)),n}const tb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function nb(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},tb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Ry)(n,e,t);if(!i)return Object.assign({},tb);const o={};Vy(i.posParams,(e,t)=>{o[t]=e.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function rb(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>ib(e,t,n)&&Xv(n)!==xy)}(e,n,r)){const i=new Ky(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Xv(o)!==xy){const n=new Ky([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Xv(o)]=n}return i}(e,t,r,new Ky(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>ib(e,t,n))}(e,n,r)){const o=new Ky(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(ib(e,n,a)&&!i[Xv(a)]){const n=new Ky([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Xv(a)]=n}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new Ky(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function ib(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function ob(e,t,n,r){return!!(Xv(e)===r||r!==xy&&ib(t,n,e))&&("**"===e.path||nb(t,e,n).matched)}function sb(e,t,n){return 0===t.length&&!e.children[n]}class ab{constructor(e){this.segmentGroup=e||null}}class ub{constructor(e){this.urlTree=e}}function cb(e){return new L.y(t=>t.error(new ab(e)))}function lb(e){return new L.y(t=>t.error(new ub(e)))}function hb(e){return new L.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class db{constructor(e,t,n,r,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(i.NgModuleRef)}apply(){const e=rb(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ky(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,xy).pipe((0,j.U)(e=>this.createUrlTree(fb(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ey(e=>{if(e instanceof ub)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ab)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xy).pipe((0,j.U)(t=>this.createUrlTree(fb(t),e.queryParams,e.fragment))).pipe(ey(e=>{if(e instanceof ab)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Ky([],{[xy]:e}):e;return new $y(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,j.U)(e=>new Ky([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,M.D)(r).pipe(iy(r=>{const i=n.children[r],o=eb(t,r);return this.expandSegmentGroup(e,o,i,r).pipe((0,j.U)(e=>({segment:e,outlet:r})))}),ot((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?lt((t,n)=>e(t,n,r)):dm.y,oy(1),n?om(t):um(()=>new Xg))}())}expandSegment(e,t,n,r,i,o){return(0,M.D)(n).pipe(iy(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(ey(e=>{if(e instanceof ab)return(0,Ze.of)(null);throw e}))),fm(e=>!!e),ey((e,n)=>{if(e instanceof Xg||"EmptyError"===e.name){if(sb(t,r,i))return(0,Ze.of)(new Ky([],{}));throw new ab(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return ob(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):cb(t):cb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?lb(i):this.lineralizeSegments(n,i).pipe((0,ry.zg)(n=>{const i=new Ky(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=nb(t,r,i);if(!s)return cb(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?lb(l):this.lineralizeSegments(r,l).pipe((0,ry.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Ze.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,j.U)(e=>(n._loadedConfig=e,new Ky(r,{})))):(0,Ze.of)(new Ky(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=nb(t,n,r);if(!o)return cb(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,ry.zg)(e=>{const r=e.module,o=e.routes,{segmentGroup:a,slicedSegments:c}=rb(t,s,u,o),l=new Ky(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,j.U)(e=>new Ky(s,e)));if(0===o.length&&0===c.length)return(0,Ze.of)(new Ky(s,{}));const h=Xv(n)===i;return this.expandSegment(r,l,o,c,h?xy:i,!0).pipe((0,j.U)(e=>new Ky(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,Ze.of)(new Hv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ze.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,ry.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,j.U)(e=>(t._loadedConfig=e,e))):function(e){return new L.y(t=>t.error(Oy(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,Ze.of)(new Hv([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,Ze.of)(!0);const i=r.map(r=>{const i=e.get(r);let o;if(function(e){return e&&Gv(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Gv(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return jy(o)});return(0,Ze.of)(i).pipe(Kv(),(0,uy.b)(e=>{if(!zv(e))return;const t=Oy(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,j.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Ze.of)(n);if(r.numberOfChildren>1||!r.children.primary)return hb(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new $y(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Vy(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return Vy(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new Ky(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function fb(e){const t={};for(const n of Object.keys(e.children)){const r=fb(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ky(e.segments.concat(t.segments),t.children)}return e}(new Ky(e.segments,t))}class pb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gb{constructor(e,t){this.component=e,this.route=t}}function mb(e,t,n){const r=e._root;return vb(r,t?t._root:null,n,[r.value])}function yb(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function vb(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=mv(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Wy(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Wy(e.url,t.url)||!Fy(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dv(e,t)||!Fy(e.queryParams,t.queryParams);case"paramsChange":default:return!Dv(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),vb(e,t,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gb(a.outlet.component,s))}else s&&bb(t,a,i),i.canActivateChecks.push(new pb(r)),vb(e,null,o.component?a?a.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Vy(o,(e,t)=>bb(e,n.getContext(t),i)),i}function bb(e,t,n){const r=mv(e),i=e.value;Vy(r,(e,r)=>{bb(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new gb(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class wb{}function _b(e){return new L.y(t=>t.error(e))}class Cb{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const e=rb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,xy);if(null===t)return null;const n=new _v([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xy,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new gv(n,t),i=new Cv(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=wv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],o=eb(e,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Ib(n);return r.sort((e,t)=>e.value.outlet===xy?-1:t.value.outlet===xy?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return sb(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!ob(e,t,n,r))return null;let i,o=[],s=[];if("**"===e.path){const r=n.length>0?Ly(n).parameters:{};i=new _v(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tb(e),Xv(e),e.component,e,Sb(t),Db(t)+n.length,Ab(e))}else{const r=nb(t,e,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new _v(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tb(e),Xv(e),e.component,e,Sb(t),Db(t)+o.length,Ab(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=rb(t,o,s,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new gv(i,e)]}if(0===a.length&&0===c.length)return[new gv(i,[])];const l=Xv(e)===r,h=this.processSegment(a,u,c,l?xy:r);return null===h?null:[new gv(i,h)]}}function Eb(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ib(e){const t=[],n=new Set;for(const r of e){if(!Eb(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Ib(r.children);t.push(new gv(r.value,e))}return t.filter(e=>!n.has(e))}function Sb(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Db(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Tb(e){return e.data||{}}function Ab(e){return e.resolve||{}}function xb(e){return Hg(t=>{const n=e(t);return n?(0,M.D)(n).pipe((0,j.U)(()=>t)):(0,Ze.of)(t)})}class kb extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Nb=new i.InjectionToken("ROUTES");class Ob{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,j.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Hv(My(r.injector.get(Nb,void 0,i.InjectFlags.Self|i.InjectFlags.Optional)).map(Yv),r)}),ey(e=>{throw t._loader$=void 0,e}));return t._loader$=new Xm.c(n,()=>new Ug.xQ).pipe((0,cy.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,M.D)(this.loader.load(e)):jy(e()).pipe((0,ry.zg)(e=>e instanceof i.NgModuleFactory?(0,Ze.of)(e):(0,M.D)(this.compiler.compileModuleAsync(e))))}}class Rb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fb,this.attachRef=null}}class Fb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Rb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Pb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Mb(e){throw e}function Lb(e,t,n){return t.parse("/")}function Vb(e,t){return(0,Ze.of)(null)}const jb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ub={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bb=(()=>{class e{constructor(e,t,n,r,o,s,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ug.xQ,this.errorHandler=Mb,this.malformedUriErrorHandler=Lb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Vb,afterPreactivation:Vb},this.urlHandlingStrategy=new Pb,this.routeReuseStrategy=new kb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(i.NgModuleRef),this.console=o.get(i["\u0275Console"]);const c=o.get(i.NgZone);this.isNgZoneEnabled=c instanceof i.NgZone&&i.NgZone.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new $y(new Ky([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ob(s,a,e=>this.triggerEvent(new Cy(e)),e=>this.triggerEvent(new Ey(e))),this.routerState=vv(this.currentUrlTree,this.rootComponentType),this.transitions=new Hm({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(lt(e=>0!==e.id),(0,j.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Hg(e=>{let n=!1,r=!1;return(0,Ze.of)(e).pipe((0,uy.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hg(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,Ze.of)(e).pipe(Hg(e=>{const n=this.transitions.getValue();return t.next(new fy(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?tm.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Hg(e=>function(e,t,n,r,i){return new db(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe((0,j.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,uy.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,ry.zg)(o=>function(e,t,n,r,i="emptyOnly",o="legacy"){try{const s=new Cb(e,t,n,r,i,o).recognize();return null===s?_b(new wb):(0,Ze.of)(s)}catch(Pg){return _b(Pg)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,j.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,uy.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new yy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new fy(n,this.serializeUrl(r),i,o);t.next(a);const u=vv(r,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),tm.E}),xb(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,uy.b)(e=>{const t=new vy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,j.U)(e=>Object.assign(Object.assign({},e),{guards:mb(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,ry.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Ze.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,M.D)(e).pipe((0,ry.zg)(e=>function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Ze.of)(!0);const s=o.map(o=>{const s=yb(o,t,i);let a;if(function(e){return e&&Gv(e.canDeactivate)}(s))a=jy(s.canDeactivate(e,t,n,r));else{if(!Gv(s))throw new Error("Invalid CanDeactivate guard");a=jy(s(e,t,n,r))}return a.pipe(fm())});return(0,Ze.of)(s).pipe(Kv())}(e.component,e.route,n,t,r)),fm(e=>!0!==e,!0))}(s,r,i,e).pipe((0,ry.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,M.D)(t).pipe(iy(t=>Ye(function(e,t){return null!==e&&t&&t(new Iy(e)),(0,Ze.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Dy(e)),(0,Ze.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Ym(()=>{const i=t.guards.map(i=>{const o=yb(i,t.node,n);let s;if(function(e){return e&&Gv(e.canActivateChild)}(o))s=jy(o.canActivateChild(r,e));else{if(!Gv(o))throw new Error("Invalid CanActivateChild guard");s=jy(o(r,e))}return s.pipe(fm())});return(0,Ze.of)(i).pipe(Kv())}));return(0,Ze.of)(i).pipe(Kv())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ze.of)(!0);const i=r.map(r=>Ym(()=>{const i=yb(r,t,n);let o;if(function(e){return e&&Gv(e.canActivate)}(i))o=jy(i.canActivate(t,e));else{if(!Gv(i))throw new Error("Invalid CanActivate guard");o=jy(i(t,e))}return o.pipe(fm())}));return(0,Ze.of)(i).pipe(Kv())}(e,t.route,n))),fm(e=>!0!==e,!0))}(r,o,e,t):(0,Ze.of)(n)),(0,j.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,uy.b)(e=>{if(zv(e.guardsResult)){const t=Oy(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new by(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),lt(e=>!!e.guardsResult||(this.cancelNavigationTransition(e,""),!1)),xb(e=>{if(e.guards.canActivateChecks.length)return(0,Ze.of)(e).pipe((0,uy.b)(e=>{const t=new wy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Hg(e=>{let t=!1;return(0,Ze.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,ry.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,Ze.of)(e);let o=0;return(0,M.D)(i).pipe(iy(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,Ze.of)({});const o={};return(0,M.D)(i).pipe((0,ry.zg)(i=>function(e,t,n,r){const i=yb(e,t,r);return jy(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,uy.b)(e=>{o[i]=e}))),oy(1),(0,ry.zg)(()=>Object.keys(o).length===i.length?(0,Ze.of)(o):tm.E))}(e._resolve,e,t,r).pipe((0,j.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),wv(e,n).resolve),null)))}(e.route,t,n,r)),(0,uy.b)(()=>o++),oy(1),(0,ry.zg)(t=>o===i.length?(0,Ze.of)(e):tm.E))})),(0,uy.b)({next:()=>t=!0,complete:()=>{t||this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,uy.b)(e=>{const t=new _y(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),xb(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,j.U)(e=>{const t=function(e,t,n){const r=Tv(e,t._root,n?n._root:void 0);return new yv(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,uy.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,j.U)(e=>(new Bv(s,e.targetRouterState,e.currentRouterState,a).activate(o),e))),(0,uy.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(e,`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},e=>e.lift(new ly(i))),ey(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=zv(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new gy(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new my(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(oa){e.reject(oa)}}var i;return tm.E}));var i,o,s,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Wv(e),this.config=e.map(Yv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=t,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Nv(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Rv(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Vy(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Rv(n,t,r)}(n);if(o.toRoot())return Nv(t.root,new Ky([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Fv(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Fv(e,e===t.root,0)}const r=xv(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fv(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Mv(s.segmentGroup,s.index,o.commands):Pv(s.segmentGroup,s.index,o.commands);return Nv(s.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=zv(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||t.skipLocationChange||t.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(Pg){t=this.malformedUriErrorHandler(Pg,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},jb):!1===t?Object.assign({},Ub):t,zv(e))return qy(this.currentUrlTree,e,n);const r=this.parseUrl(e);return qy(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new py(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==t&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===e.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((e,t)=>{u=e,c=t});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){"computed"===this.canceledNavigationResolution?"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-e.targetPageId):this.resetUrlToCurrentUrlTree();const n=new gy(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.Type),i["\u0275\u0275inject"](Zy),i["\u0275\u0275inject"](Fb),i["\u0275\u0275inject"](r.Location),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](void 0))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),qb=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new Ug.xQ,this.subscription=e.events.subscribe(e=>{e instanceof py&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Hb(this.skipLocationChange),replaceUrl:Hb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hb(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Bb),i["\u0275\u0275directiveInject"](bv),i["\u0275\u0275directiveInject"](r.LocationStrategy))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i["\u0275\u0275hostProperty"]("href",t.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275attribute"]("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),e})();function Hb(e){return""===e||!!e}let Gb=(()=>{class e{constructor(e,t,n,r,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||xy,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zb(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Fb),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275injectAttribute"]("name"),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class zb{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===bv?this.route:e===Fb?this.childContexts:this.parent.get(e,t)}}class $b{}class Kb{preload(e,t){return(0,Ze.of)(null)}}let Qb=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Ob(t,n,t=>e.triggerEvent(new Cy(t)),t=>e.triggerEvent(new Ey(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(lt(e=>e instanceof py),iy(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.NgModuleRef);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,M.D)(n).pipe((0,Je.J)(),(0,j.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,Ze.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,ry.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Bb),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"]($b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Wb=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof py&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ay&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Ay(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Bb),i["\u0275\u0275inject"](r.ViewportScroller),i["\u0275\u0275inject"](void 0))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const Zb=new i.InjectionToken("ROUTER_CONFIGURATION"),Jb=new i.InjectionToken("ROUTER_FORROOT_GUARD"),Yb=[r.Location,{provide:Zy,useClass:Jy},{provide:Bb,useFactory:function(e,t,n,r,i,o,s,a={},u,c){const l=new Bb(null,e,t,n,r,i,o,My(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Zy,Fb,r.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,Nb,Zb,[class{},new i.Optional],[class{},new i.Optional]]},Fb,{provide:bv,useFactory:function(e){return e.routerState.root},deps:[Bb]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},Qb,Kb,class{preload(e,t){return t().pipe(ey(()=>(0,Ze.of)(null)))}},{provide:Zb,useValue:{enableTracing:!1}}];function Xb(){return new i.NgProbeToken("Router",Bb)}let ew=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Yb,iw(t),{provide:Jb,useFactory:rw,deps:[[Bb,new i.Optional,new i.SkipSelf]]},{provide:Zb,useValue:n||{}},{provide:r.LocationStrategy,useFactory:nw,deps:[r.PlatformLocation,[new i.Inject(r.APP_BASE_HREF),new i.Optional],Zb]},{provide:Wb,useFactory:tw,deps:[Bb,r.ViewportScroller,Zb]},{provide:$b,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Kb},{provide:i.NgProbeToken,multi:!0,useFactory:Xb},[ow,{provide:i.APP_INITIALIZER,multi:!0,useFactory:sw,deps:[ow]},{provide:uw,useFactory:aw,deps:[ow]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:uw}]]}}static forChild(t){return{ngModule:e,providers:[iw(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Jb,8),i["\u0275\u0275inject"](Bb,8))},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({}),e})();function tw(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Wb(e,t,n)}function nw(e,t,n={}){return n.useHash?new r.HashLocationStrategy(e,t):new r.PathLocationStrategy(e,t)}function rw(e){return"guarded"}function iw(e){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:Nb,multi:!0,useValue:e}]}let ow=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ug.xQ}appInitializer(){return this.injector.get(r.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Bb),r=this.injector.get(Zb);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Zb),n=this.injector.get(Qb),r=this.injector.get(Wb),o=this.injector.get(Bb),s=this.injector.get(i.ApplicationRef);e===s.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.Injector))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function sw(e){return e.appInitializer.bind(e)}function aw(e){return e.bootstrapListener.bind(e)}const uw=new i.InjectionToken("Router Initializer");function cw(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"currency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td"),i["\u0275\u0275elementStart"](9,"a",8),i["\u0275\u0275element"](10,"i",9),i["\u0275\u0275text"](11," Details "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.lastName,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.email),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind3"](7,5,e.balance,"USD","symbol")),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate1"]("routerLink","client/",e.id,"")}}function lw(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",5),i["\u0275\u0275elementStart"](1,"thead",6),i["\u0275\u0275elementStart"](2,"tr"),i["\u0275\u0275elementStart"](3,"th"),i["\u0275\u0275text"](4,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"th"),i["\u0275\u0275text"](6,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"th"),i["\u0275\u0275text"](8,"Balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"th"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"tbody"),i["\u0275\u0275template"](11,cw,12,9,"tr",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngForOf",e.clients)}}function hw(e,t){1&e&&(i["\u0275\u0275element"](0,"hr"),i["\u0275\u0275elementStart"](1,"h5"),i["\u0275\u0275text"](2,"There are no clients in the system"),i["\u0275\u0275elementEnd"]())}let dw=(()=>{class e{constructor(e){this.clientService=e}ngOnInit(){this.clientService.getClients().subscribe(e=>{this.clients=e,this.getTotalOwed()})}getTotalOwed(){this.totalOwed=this.clients.reduce((e,t)=>e+parseFloat(t.balance.toString()),0)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Bm))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-clients"]],decls:12,vars:7,consts:[[1,"row"],[1,"col-md-6"],[1,"fa","fa-users"],["class","table table-striped",4,"ngIf","ngIfElse"],["noClients",""],[1,"table","table-striped"],[1,"thead-inverse"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"fa","fa-arrow-circle-o-right"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"h2"),i["\u0275\u0275element"](3,"i",2),i["\u0275\u0275text"](4,"Clients"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"h5"),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"currency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,lw,12,1,"table",3),i["\u0275\u0275template"](10,hw,3,0,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](11);i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"]("Total owed: ",i["\u0275\u0275pipeBind3"](8,3,t.totalOwed,"USD","symbol"),""),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.clients&&t.clients.length>0)("ngIfElse",e)}},directives:[r.NgIf,r.NgForOf,qb],pipes:[r.CurrencyPipe],styles:[""]}),e})(),fw=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sidebar"]],decls:3,vars:0,consts:[["routerLink","/client/add",1,"btn","btn-success","btn-block"],[1,"fa","fa-plus"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"a",0),i["\u0275\u0275element"](1,"i",1),i["\u0275\u0275text"](2,"New\n"),i["\u0275\u0275elementEnd"]())},directives:[qb],styles:[""]}),e})(),pw=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-10"],[1,"col-md-2"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275element"](2,"app-clients"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275element"](4,"app-sidebar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())},directives:[dw,fw],styles:[""]}),e})(),gw=(()=>{class e{constructor(e){this.afAuth=e}login(e,t){return new Promise((n,r)=>{this.afAuth.signInWithEmailAndPassword(e,t).then(e=>n(e),e=>r(e))})}register(e,t){return new Promise((n,r)=>{this.afAuth.createUserWithEmailAndPassword(e,t).then(e=>n(e),e=>r(e))})}getAuth(){return this.afAuth.authState}logout(){this.afAuth.signOut()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Cm))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mw=(()=>{class e{constructor(e,t,n){this.authService=e,this.flashMessage=t,this.router=n,this.email="",this.password=""}ngOnInit(){this.authService.getAuth().subscribe(e=>{e&&e.uid&&this.router.navigate(["/"])})}onSubmit(){this.authService.login(this.email,this.password).then(e=>{this.flashMessage.show("You are now logged in",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])}).catch(e=>{this.flashMessage.show(e.message,{cssClass:"alert-danger",timeout:4e3})})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](gw),i["\u0275\u0275directiveInject"](qm.GQ),i["\u0275\u0275directiveInject"](Bb))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"row"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center","pb-4","pt-3"],[1,"text-primary"],[1,"fa","fa-lock"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"btn","btn-primary","btn-block"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275elementStart"](5,"span",5),i["\u0275\u0275element"](6,"i",6),i["\u0275\u0275text"](7," Client Panel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](8," Login "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"form",7),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](10,"div",8),i["\u0275\u0275elementStart"](11,"label",9),i["\u0275\u0275text"](12,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"input",10),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",8),i["\u0275\u0275elementStart"](15,"label",9),i["\u0275\u0275text"](16,"Password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"input",11),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.password=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"input",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngModel",t.email),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.password))},directives:[Me,he,Oe,K,Be,le,Pe],styles:[""]}),e})(),yw=(()=>{class e{constructor(e,t,n){this.authService=e,this.flashMessage=t,this.router=n}ngOnInit(){}onSubmit(){this.authService.register(this.email,this.password).then(e=>{this.flashMessage.show("You are now registered and logged in",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])}).catch(e=>{this.flashMessage.show(e.message,{cssClass:"alert-danger",timeout:4e3})})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](gw),i["\u0275\u0275directiveInject"](qm.GQ),i["\u0275\u0275directiveInject"](Bb))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register"]],decls:19,vars:2,consts:[[1,"row"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center","pb-4","pt-3"],[1,"text-primary"],[1,"fa","fa-lock"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Register",1,"btn","btn-primary","btn-block"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275elementStart"](5,"span",5),i["\u0275\u0275element"](6,"i",6),i["\u0275\u0275text"](7," Client Panel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](8," Register "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"form",7),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](10,"div",8),i["\u0275\u0275elementStart"](11,"label",9),i["\u0275\u0275text"](12,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"input",10),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",8),i["\u0275\u0275elementStart"](15,"label",9),i["\u0275\u0275text"](16,"Password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"input",11),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.password=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"input",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngModel",t.email),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.password))},directives:[Me,he,Oe,K,Be,le,Pe],styles:[""]}),e})(),vw=(()=>{class e{constructor(){this.settings={allowRegistration:!0,disableBalanceOnAdd:!0,disableBalanceOnEdit:!0},null!==localStorage.getItem("settings")&&(this.settings=JSON.parse(localStorage.getItem("settings")||"{}"))}getSettings(){return this.settings}changeSettings(e){localStorage.setItem("settings",JSON.stringify(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bw=["clientForm"],ww=function(e){return{"is-invalid":e}};let _w=(()=>{class e{constructor(e,t,n,r){this.flashMessage=e,this.clientService=t,this.router=n,this.settingsService=r,this.client={firstName:"",lastName:"",email:"",phone:"",balance:0}}ngOnInit(){this.disableBalanceOnAdd=this.settingsService.getSettings().disableBalanceOnAdd}onSubmit({value:e,valid:t}){this.disableBalanceOnAdd&&(e.balance=0),t?(this.clientService.addClient(e),this.flashMessage.show("New Client Added!",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])):this.flashMessage.show("Please fill out the form correctly",{cssClass:"alert-danger",timeout:4e3})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](qm.GQ),i["\u0275\u0275directiveInject"](Bm),i["\u0275\u0275directiveInject"](Bb),i["\u0275\u0275directiveInject"](vw))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-client"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](bw,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},decls:54,vars:26,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientLastName","ngModel"],["for","email"],["type","text","name","email","pattern","^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientEmail","ngModel"],["for","phone"],["type","text","name","phone","minlength","10","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientPhone","ngModel"],["for","balance"],["type","number","name","balance",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4," Back To Dashboard "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275text"](8,"Add Client"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"form",7,8),i["\u0275\u0275listener"]("ngSubmit",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](11);return t.onSubmit(n)}),i["\u0275\u0275elementStart"](12,"div",9),i["\u0275\u0275elementStart"](13,"label",10),i["\u0275\u0275text"](14,"First Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",11,12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.firstName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",13),i["\u0275\u0275text"](18," First name required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",13),i["\u0275\u0275text"](20," Must be at least 2 characters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",9),i["\u0275\u0275elementStart"](22,"label",10),i["\u0275\u0275text"](23,"Last Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"input",14,15),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.lastName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",13),i["\u0275\u0275text"](27," Last name required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275text"](29," Must be at least 2 characters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",9),i["\u0275\u0275elementStart"](31,"label",16),i["\u0275\u0275text"](32,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"input",17,18),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",13),i["\u0275\u0275text"](36," Email required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",13),i["\u0275\u0275text"](38," Email is not valid "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",9),i["\u0275\u0275elementStart"](40,"label",19),i["\u0275\u0275text"](41,"Phone"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"input",20,21),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.phone=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",13),i["\u0275\u0275text"](45," Phone is required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",13),i["\u0275\u0275text"](47," Phone number must be at least 10 characters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"div",9),i["\u0275\u0275elementStart"](49,"label",22),i["\u0275\u0275text"](50,"Balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"input",23,24),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.balance=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](53,"input",25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](16),n=i["\u0275\u0275reference"](25),r=i["\u0275\u0275reference"](34),o=i["\u0275\u0275reference"](43);i["\u0275\u0275advance"](15),i["\u0275\u0275property"]("ngModel",t.client.firstName)("ngClass",i["\u0275\u0275pureFunction1"](18,ww,e.errors&&e.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.lastName)("ngClass",i["\u0275\u0275pureFunction1"](20,ww,n.errors&&n.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.email)("ngClass",i["\u0275\u0275pureFunction1"](22,ww,r.errors&&r.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.pattern)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.phone)("ngClass",i["\u0275\u0275pureFunction1"](24,ww,o.errors&&o.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.balance)("disabled",t.disableBalanceOnAdd)}},directives:[qb,Me,he,Oe,K,He,Be,le,Pe,r.NgClass,ze,Ve],styles:[""]}),e})();const Cw=function(e){return{"is-invalid":e}};let Ew=(()=>{class e{constructor(e,t,n,r,i){this.clientService=e,this.router=t,this.route=n,this.flashMessage=r,this.settingsService=i,this.client={firstName:"",lastName:"",email:"",phone:"",balance:0}}ngOnInit(){this.disableBalanceOnEdit=this.settingsService.getSettings().disableBalanceOnEdit,this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(e=>{this.client=e})}onSubmit({value:e,valid:t}){t?(e.id=this.id,this.clientService.updateClient(e),this.flashMessage.show("Client Has Been Updated!",{cssClass:"alert-success",timeout:4e3}),this.router.navigate([`/client/${this.id}`])):this.flashMessage.show("Please fill out the form correctly",{cssClass:"alert-danger",timeout:4e3})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Bm),i["\u0275\u0275directiveInject"](Bb),i["\u0275\u0275directiveInject"](bv),i["\u0275\u0275directiveInject"](qm.GQ),i["\u0275\u0275directiveInject"](vw))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-client"]],decls:54,vars:27,consts:[[1,"row"],[1,"col-md-6"],[1,"btn","btn-link",3,"routerLink"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientLastName","ngModel"],["for","email"],["type","text","name","email","pattern","^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientEmail","ngModel"],["for","phone"],["type","text","name","phone","minlength","10","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientPhone","ngModel"],["for","balance"],["type","number","name","balance",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4," Back To Client "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275text"](8,"Edit Client"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"form",7,8),i["\u0275\u0275listener"]("ngSubmit",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](11);return t.onSubmit(n)}),i["\u0275\u0275elementStart"](12,"div",9),i["\u0275\u0275elementStart"](13,"label",10),i["\u0275\u0275text"](14,"First Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",11,12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.firstName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",13),i["\u0275\u0275text"](18," First name required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",13),i["\u0275\u0275text"](20," Must be at least 2 characters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",9),i["\u0275\u0275elementStart"](22,"label",10),i["\u0275\u0275text"](23,"Last Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"input",14,15),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.lastName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",13),i["\u0275\u0275text"](27," Last name required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275text"](29," Must be at least 2 characters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",9),i["\u0275\u0275elementStart"](31,"label",16),i["\u0275\u0275text"](32,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"input",17,18),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",13),i["\u0275\u0275text"](36," Email required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",13),i["\u0275\u0275text"](38," Email is not valid "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",9),i["\u0275\u0275elementStart"](40,"label",19),i["\u0275\u0275text"](41,"Phone"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"input",20,21),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.phone=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",13),i["\u0275\u0275text"](45," Phone is required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",13),i["\u0275\u0275text"](47," Phone number must be at least 10 characters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"div",9),i["\u0275\u0275elementStart"](49,"label",22),i["\u0275\u0275text"](50,"Balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"input",23,24),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.balance=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](53,"input",25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](16),n=i["\u0275\u0275reference"](25),r=i["\u0275\u0275reference"](34),o=i["\u0275\u0275reference"](43);i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("routerLink","/client/",t.client.id,""),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngModel",t.client.firstName)("ngClass",i["\u0275\u0275pureFunction1"](19,Cw,e.errors&&e.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.lastName)("ngClass",i["\u0275\u0275pureFunction1"](21,Cw,n.errors&&n.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.email)("ngClass",i["\u0275\u0275pureFunction1"](23,Cw,r.errors&&r.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.pattern)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.phone)("ngClass",i["\u0275\u0275pureFunction1"](25,Cw,o.errors&&o.touched)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.balance)("disabled",t.disableBalanceOnEdit)}},directives:[qb,Me,he,Oe,K,He,Be,le,Pe,r.NgClass,ze,Ve],styles:[""]}),e})();function Iw(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",20),i["\u0275\u0275listener"]("submit",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).updateBalance()}),i["\u0275\u0275elementStart"](1,"div",21),i["\u0275\u0275elementStart"](2,"input",22),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).client.balance=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",23),i["\u0275\u0275elementStart"](4,"button",24),i["\u0275\u0275text"](5,"Update"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.client.balance)}}function Sw(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"h3",9),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",10),i["\u0275\u0275elementStart"](4,"div",0),i["\u0275\u0275elementStart"](5,"div",11),i["\u0275\u0275elementStart"](6,"h4"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",12),i["\u0275\u0275elementStart"](9,"h3",13),i["\u0275\u0275text"](10," Balance "),i["\u0275\u0275elementStart"](11,"span"),i["\u0275\u0275text"](12),i["\u0275\u0275pipe"](13,"currency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"small"),i["\u0275\u0275elementStart"](15,"a",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showBalanceUpdateInput=!t.showBalanceUpdateInput}),i["\u0275\u0275element"](16,"i",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",16),i["\u0275\u0275template"](18,Iw,6,1,"form",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"hr"),i["\u0275\u0275elementStart"](20,"ul",18),i["\u0275\u0275elementStart"](21,"li",19),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"li",19),i["\u0275\u0275text"](24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.client.firstName," ",e.client.lastName,""),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("Client ID:",e.client.id,""),i["\u0275\u0275advance"](4),i["\u0275\u0275classProp"]("text-danger",!e.hasBalance)("text-success",e.hasBalance),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind3"](13,11,e.client.balance,"USD","symbol")," "),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",e.showBalanceUpdateInput),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("Contact Email:",e.client.email,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("Contact Phone:",e.client.phone,"")}}let Dw=(()=>{class e{constructor(e,t,n,r){this.clientService=e,this.router=t,this.route=n,this.flashMessage=r,this.hasBalance=!1,this.showBalanceUpdateInput=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(e=>{null!==e&&e.balance>0&&(this.hasBalance=!0),this.client=e})}onDeleteClick(){confirm("Are you sure?")&&(this.clientService.deleteClient(this.client),this.flashMessage.show("Client has been deleted!",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"]))}updateBalance(){this.clientService.updateClient(this.client),this.flashMessage.show("Balance updated!",{cssClass:"alert-success",timeout:4e3})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Bm),i["\u0275\u0275directiveInject"](Bb),i["\u0275\u0275directiveInject"](bv),i["\u0275\u0275directiveInject"](qm.GQ))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-client-details"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"btn-group","pull-right"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-danger",3,"click"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-md-8","col-sm-6"],[1,"col-md-4","col-sm-6"],[1,"pull-right"],[3,"click"],[1,"fa","fa-pencil"],[1,"clearfix"],[3,"submit",4,"ngIf"],[1,"list-group"],[1,"list-group-item"],[3,"submit"],[1,"input-group"],["type","text","name","balance",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],["type","submit",1,"btn","btn-primary"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4," Back To Dashboard "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"a",5),i["\u0275\u0275text"](8," Edit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"button",6),i["\u0275\u0275listener"]("click",function(){return t.onDeleteClick()}),i["\u0275\u0275text"](10,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](11,"hr"),i["\u0275\u0275template"](12,Sw,25,15,"div",7)),2&e&&(i["\u0275\u0275advance"](7),i["\u0275\u0275propertyInterpolate1"]("routerLink","/client/edit/",t.id,""),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.client))},directives:[qb,r.NgIf,Me,he,Oe,K,le,Pe],pipes:[r.CurrencyPipe],styles:[""]}),e})(),Tw=(()=>{class e{constructor(e,t,n){this.settingsService=e,this.router=t,this.flashMessage=n}ngOnInit(){this.settings=this.settingsService.getSettings()}onSubmit(){this.settingsService.changeSettings(this.settings),this.flashMessage.show("Settings saved!",{cssClass:"alert-success",timeout:4e3})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](vw),i["\u0275\u0275directiveInject"](Bb),i["\u0275\u0275directiveInject"](qm.GQ))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-settings"]],decls:24,vars:3,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["type","checkbox","name","allowRegistration",3,"checked","change"],["type","checkbox","name","disableBalanceOnAdd",3,"checked","change"],["type","checkbox","name","disableBalanceOnEdit",3,"checked","change"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4," Back to Dashboard "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275text"](8,"Edit Settings"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"form",7),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"label"),i["\u0275\u0275text"](13,"Allow Registration"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"input",9),i["\u0275\u0275listener"]("change",function(){return t.settings.allowRegistration=!t.settings.allowRegistration}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",8),i["\u0275\u0275elementStart"](16,"label"),i["\u0275\u0275text"](17,"Disable Balance On Add"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"input",10),i["\u0275\u0275listener"]("change",function(){return t.settings.disableBalanceOnAdd=!t.settings.disableBalanceOnAdd}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",8),i["\u0275\u0275elementStart"](20,"label"),i["\u0275\u0275text"](21,"Disable Balance On Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"input",11),i["\u0275\u0275listener"]("change",function(){return t.settings.disableBalanceOnEdit=!t.settings.disableBalanceOnEdit}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](23,"input",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("checked",t.settings.allowRegistration),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("checked",t.settings.disableBalanceOnAdd),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("checked",t.settings.disableBalanceOnEdit))},directives:[qb,Me,he,Oe],styles:[""]}),e})(),Aw=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-not-found"]],decls:2,vars:0,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1,"not-found works!"),i["\u0275\u0275elementEnd"]())},styles:[""]}),e})(),xw=(()=>{class e{constructor(e,t){this.router=e,this.afAuth=t}canActivate(){return this.afAuth.authState.subscribe(e=>{e&&e.uid?this.canProceed=!0:(this.router.navigate(["/login"]),this.canProceed=!1)}),(0,Ze.of)(this.canProceed)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Bb),i["\u0275\u0275inject"](Cm))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),kw=(()=>{class e{constructor(e,t){this.router=e,this.settingsService=t}canActivate(){return!!this.settingsService.getSettings().allowRegistration||(this.router.navigate(["/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Bb),i["\u0275\u0275inject"](vw))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const Nw=[{path:"",component:pw,canActivate:[xw]},{path:"login",component:mw},{path:"register",component:yw,canActivate:[kw]},{path:"client/add",component:_w,canActivate:[xw]},{path:"client/edit/:id",component:Ew,canActivate:[xw]},{path:"client/:id",component:Dw,canActivate:[xw]},{path:"settings",component:Tw,canActivate:[xw]},{path:"**",component:Aw}];let Ow=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[xw,kw],imports:[[ew.forRoot(Nw)],ew]}),e})();function Rw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",11),i["\u0275\u0275text"](2,"Register"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Fw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",12),i["\u0275\u0275text"](2,"Login"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Pw(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.loggedInUser)}}function Mw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",14),i["\u0275\u0275text"](2,"Settings"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}const Lw=function(){return{cursor:"pointer"}};function Vw(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",15),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onLogoutClick()}),i["\u0275\u0275text"](2,"Logout"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction0"](1,Lw)))}let jw=(()=>{class e{constructor(e,t,n,r){this.authService=e,this.router=t,this.flashMessage=n,this.settingsService=r}ngOnInit(){this.authService.getAuth().subscribe(e=>{e&&e.uid?(this.isLoggedIn=!0,this.loggedInUser=e.email):this.isLoggedIn=!1}),this.showRegister=this.settingsService.getSettings().allowRegistration}onLogoutClick(){this.isLoggedIn=!1,this.loggedInUser="",this.authService.logout(),this.flashMessage.show("You are now logged out",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/login"])}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](gw),i["\u0275\u0275directiveInject"](Bb),i["\u0275\u0275directiveInject"](qm.GQ),i["\u0275\u0275directiveInject"](vw))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-navbar"]],decls:17,vars:5,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","mb-4"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarMain",1,"navbar-toggler"],[1,"nabar-toggler-icon"],["id","navbarMain",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf"],["routerLink","/register",1,"nav-link"],["routerLink","/login",1,"nav-link"],[1,"nav-link"],["routerLink","/settings",1,"nav-link"],[1,"nav-link",3,"ngStyle","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"nav",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275text"](3,"Client Panel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275element"](5,"span",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"ul",6),i["\u0275\u0275elementStart"](8,"li",7),i["\u0275\u0275elementStart"](9,"a",8),i["\u0275\u0275text"](10,"Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"ul",9),i["\u0275\u0275template"](12,Rw,3,0,"li",10),i["\u0275\u0275template"](13,Fw,3,0,"li",10),i["\u0275\u0275template"](14,Pw,3,1,"li",10),i["\u0275\u0275template"](15,Mw,3,0,"li",10),i["\u0275\u0275template"](16,Vw,3,2,"li",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",!t.isLoggedIn&&t.showRegister),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isLoggedIn&&t.showRegister),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isLoggedIn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isLoggedIn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isLoggedIn))},directives:[qb,r.NgIf,r.NgStyle],styles:[""]}),e})(),Uw=(()=>{class e{constructor(){this.title="clientpanel"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"app-navbar"),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275element"](2,"flash-messages"),i["\u0275\u0275element"](3,"router-outlet"),i["\u0275\u0275elementEnd"]())},directives:[jw,qm.cS,Gb],styles:[""]}),e})(),Bw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e,bootstrap:[Uw]}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Bm,gw,vw],imports:[[P,Ow,Ke,qm.qz.forRoot(),Qe.hO.initializeApp(Um,"clientpanel"),jm,Em]]}),e})();(0,i.enableProdMode)(),R().bootstrapModule(Bw).catch(e=>console.error(e))},4762:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}}},e=>{"use strict";e(e.s=9386)}]);